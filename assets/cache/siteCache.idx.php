<?php
$c=&$this->config;
$c['manager_theme'] = "MODxCarbon";
$c['settings_version'] = "1.0.2";
$c['server_offset_time'] = "0";
$c['server_protocol'] = "http";
$c['manager_language'] = "english";
$c['modx_charset'] = "UTF-8";
$c['site_name'] = "Mt. Zion Family";
$c['site_start'] = "1";
$c['error_page'] = "1";
$c['unauthorized_page'] = "1";
$c['site_status'] = "1";
$c['site_unavailable_message'] = "The site is currently unavailable";
$c['track_visitors'] = "0";
$c['resolve_hostnames'] = "0";
$c['top_howmany'] = "10";
$c['default_template'] = "4";
$c['old_template'] = "4";
$c['publish_default'] = "0";
$c['cache_default'] = "1";
$c['search_default'] = "1";
$c['friendly_urls'] = "1";
$c['friendly_url_prefix'] = "";
$c['friendly_url_suffix'] = ".html";
$c['friendly_alias_urls'] = "1";
$c['use_alias_path'] = "1";
$c['use_udperms'] = "1";
$c['udperms_allowroot'] = "0";
$c['failed_login_attempts'] = "3";
$c['blocked_minutes'] = "60";
$c['use_captcha'] = "0";
$c['captcha_words'] = "MODx,Access,Better,BitCode,Cache,Desc,Design,Excell,Enjoy,URLs,TechView,Gerald,Griff,Humphrey,Holiday,Intel,Integration,Joystick,Join(),Tattoo,Genetic,Light,Likeness,Marit,Maaike,Niche,Netherlands,Ordinance,Oscillo,Parser,Phusion,Query,Question,Regalia,Righteous,Snippet,Sentinel,Template,Thespian,Unity,Enterprise,Verily,Veri,Website,WideWeb,Yap,Yellow,Zebra,Zygote";
$c['emailsender'] = "web.admin@mtzioncary.org";
$c['emailsubject'] = "Your login details";
$c['signupemail_message'] = "Hello [+uid+] \r\n\r\nHere are your login details for [+sname+] Content Manager:\r\n\r\nUsername: [+uid+]\r\nPassword: [+pwd+]\r\n\r\nOnce you log into the Content Manager at [+surl+], you can change your password.\r\n\r\nRegards,\r\nSite Administrator";
$c['websignupemail_message'] = "Hello [+uid+] \r\n\r\nHere are your login details for [+sname+]:\r\n\r\nUsername: [+uid+]\r\nPassword: [+pwd+]\r\n\r\nOnce you log into [+sname+] at [+surl+], you can change your password.\r\n\r\nRegards,\r\nSite Administrator";
$c['webpwdreminder_message'] = "Hello [+uid+]\r\n\r\nTo active you new password click the following link:\r\n\r\n[+surl+]\r\n\r\nIf successful you can use the following password to login:\r\n\r\nPassword:[+pwd+]\r\n\r\nIf you did not request this email then please ignore it.\r\n\r\nRegards,\r\nSite Administrator";
$c['number_of_logs'] = "100";
$c['number_of_messages'] = "30";
$c['number_of_results'] = "20";
$c['use_editor'] = "1";
$c['use_browser'] = "1";
$c['rb_base_dir'] = "D:/home/mtzioncary.org/subdomains/family//assets/";
$c['rb_base_url'] = "assets/";
$c['which_editor'] = "TinyMCE";
$c['fe_editor_lang'] = "english";
$c['fck_editor_toolbar'] = "standard";
$c['fck_editor_autolang'] = "0";
$c['editor_css_path'] = "/assets/templates/mtzion-family/css/content.css";
$c['editor_css_selectors'] = "";
$c['strip_image_paths'] = "1";
$c['upload_images'] = "jpg,jpeg,png,gif,psd,ico,bmp";
$c['upload_media'] = "mp3,wav,au,wmv,avi,mpg,mpeg";
$c['upload_flash'] = "swf,fla";
$c['upload_files'] = "txt,php,html,htm,xml,js,css,cache,zip,gz,rar,z,tgz,tar,htaccess,mp3,mp4,aac,wav,au,wmv,avi,mpg,mpeg,pdf,doc,xls,txt,docx,pps,ppsx,gif,jpg,jpeg,pjpeg";
$c['upload_maxsize'] = "1048576";
$c['new_file_permissions'] = "0644";
$c['new_folder_permissions'] = "0755";
$c['show_preview'] = "1";
$c['filemanager_path'] = "D:/home/mtzioncary.org/subdomains/family/";
$c['theme_refresher'] = "";
$c['manager_layout'] = "4";
$c['custom_contenttype'] = "text/css,text/html,text/javascript,text/plain,text/xml";
$c['auto_menuindex'] = "1";
$c['session.cookie.lifetime'] = "604800";
$c['mail_check_timeperiod'] = "60";
$c['manager_lang_attribute'] = "en";
$c['manager_direction'] = "ltr";
$c['tinymce_editor_theme'] = "editor";
$c['tinymce_custom_plugins'] = "style,advimage,advlink,searchreplace,print,contextmenu,paste,fullscreen,nonbreaking,xhtmlxtras,visualchars,media";
$c['tinymce_custom_buttons1'] = "undo,redo,selectall,separator,pastetext,pasteword,separator,search,replace,separator,nonbreaking,hr,charmap,separator,image,link,unlink,anchor,media,separator,cleanup,removeformat,separator,fullscreen,print,code,help";
$c['tinymce_custom_buttons2'] = "bold,italic,underline,strikethrough,sub,sup,separator,bullist,numlist,outdent,indent,separator,justifyleft,justifycenter,justifyright,justifyfull,separator,styleselect,formatselect,separator,styleprops";
$c['tree_show_protected'] = "0";
$c['site_id'] = "4b889975c7d70";
$c['xhtml_urls'] = "1";
$c['site_unavailable_page'] = "";
$c['allow_duplicate_alias'] = "0";
$c['automatic_alias'] = "0";
$c['tinymce_custom_buttons3'] = "";
$c['tinymce_custom_buttons4'] = "";
$c['tinymce_css_selectors'] = "";
$c['show_meta'] = "0";
$c['rss_url_news'] = "http://feeds.feedburner.com/modx-announce";
$c['rss_url_security'] = "http://feeds.feedburner.com/modxsecurity";
$c['validate_referer'] = "1";
$c['datepicker_offset'] = "-10";
$c['datetime_format'] = "dd-mm-YYYY";
$c['reload_site_unavailable'] = "";
$c['siteunavailable_message_default'] = "The site is currently unavailable.";
$c['reload_captcha_words'] = "";
$c['captcha_words_default'] = "MODx,Access,Better,BitCode,Chunk,Cache,Desc,Design,Excell,Enjoy,URLs,TechView,Gerald,Griff,Humphrey,Holiday,Intel,Integration,Joystick,Join(),Oscope,Genetic,Light,Likeness,Marit,Maaike,Niche,Netherlands,Ordinance,Oscillo,Parser,Phusion,Query,Question,Regalia,Righteous,Snippet,Sentinel,Template,Thespian,Unity,Enterprise,Verily,Tattoo,Veri,Website,WideWeb,Yap,Yellow,Zebra,Zygote";
$c['reload_emailsubject'] = "";
$c['emailsubject_default'] = "Your login details";
$c['reload_signupemail_message'] = "";
$c['system_email_signup_default'] = "Hello [+uid+] \r\n\r\nHere are your login details for [+sname+] Content Manager:\r\n\r\nUsername: [+uid+]\r\nPassword: [+pwd+]\r\n\r\nOnce you log into the Content Manager ([+surl+]), you can change your password.\r\n\r\nRegards,\r\nSite Administrator";
$c['reload_websignupemail_message'] = "";
$c['system_email_websignup_default'] = "Hello [+uid+]\r\n\r\nHere are your login details for [+sname+]:\r\n\r\nUsername: [+uid+]\r\nPassword: [+pwd+]\r\n\r\nOnce you log into [+sname+] ([+surl+]), you can change your password.\r\n\r\nRegards,\r\nSite Administrator";
$c['reload_system_email_webreminder_message'] = "";
$c['system_email_webreminder_default'] = "Hello [+uid+]\r\n\r\nTo activate your new password click the following link:\r\n\r\n[+surl+]\r\n\r\nIf successful you can use the following password to login:\r\n\r\nPassword:[+pwd+]\r\n\r\nIf you did not request this email then please ignore it.\r\n\r\nRegards,\r\nSite Administrator";
$c['rb_webuser'] = "0";
$this->aliasListing = array();
$a = &$this->aliasListing;
$d = &$this->documentListing;
$m = &$this->documentMap;
$d['home'] = 1;
$a[1] = array('id' => 1, 'alias' => 'home', 'path' => '');
$m[] = array('0' => '1');
$d['home/church_contacts'] = 73;
$a[73] = array('id' => 73, 'alias' => 'church_contacts', 'path' => 'home');
$m[] = array('1' => '73');
$d['home/ministries'] = 2;
$a[2] = array('id' => 2, 'alias' => 'ministries', 'path' => 'home');
$m[] = array('1' => '2');
$d['home/469'] = 469;
$a[469] = array('id' => 469, 'alias' => '469', 'path' => 'home');
$m[] = array('1' => '469');
$d['home/multimedia'] = 3;
$a[3] = array('id' => 3, 'alias' => 'multimedia', 'path' => 'home');
$m[] = array('1' => '3');
$d['home/community'] = 4;
$a[4] = array('id' => 4, 'alias' => 'community', 'path' => 'home');
$m[] = array('1' => '4');
$d['home/online_giving'] = 346;
$a[346] = array('id' => 346, 'alias' => 'online_giving', 'path' => 'home');
$m[] = array('1' => '346');
$d['home/resources'] = 5;
$a[5] = array('id' => 5, 'alias' => 'resources', 'path' => 'home');
$m[] = array('1' => '5');
$d['home/prayer_request'] = 6;
$a[6] = array('id' => 6, 'alias' => 'prayer_request', 'path' => 'home');
$m[] = array('1' => '6');
$d['home/sick_shutin'] = 62;
$a[62] = array('id' => 62, 'alias' => 'sick_shutin', 'path' => 'home');
$m[] = array('1' => '62');
$d['home/pastor'] = 8;
$a[8] = array('id' => 8, 'alias' => 'pastor', 'path' => 'home');
$m[] = array('1' => '8');
$d['home/survey'] = 328;
$a[328] = array('id' => 328, 'alias' => 'survey', 'path' => 'home');
$m[] = array('1' => '328');
$d['home/489'] = 489;
$a[489] = array('id' => 489, 'alias' => '489', 'path' => 'home');
$m[] = array('1' => '489');
$d['home/annoucnments'] = 13;
$a[13] = array('id' => 13, 'alias' => 'annoucnments', 'path' => 'home');
$m[] = array('1' => '13');
$d['home/search_results'] = 95;
$a[95] = array('id' => 95, 'alias' => 'search_results', 'path' => 'home');
$m[] = array('1' => '95');
$d['home/59'] = 59;
$a[59] = array('id' => 59, 'alias' => '59', 'path' => 'home');
$m[] = array('1' => '59');
$d['home/top-navigation'] = 10;
$a[10] = array('id' => 10, 'alias' => 'top-navigation', 'path' => 'home');
$m[] = array('1' => '10');
$d['home/74'] = 74;
$a[74] = array('id' => 74, 'alias' => '74', 'path' => 'home');
$m[] = array('1' => '74');
$d['home/ministries/care'] = 26;
$a[26] = array('id' => 26, 'alias' => 'care', 'path' => 'home/ministries');
$m[] = array('2' => '26');
$d['home/ministries/service'] = 28;
$a[28] = array('id' => 28, 'alias' => 'service', 'path' => 'home/ministries');
$m[] = array('2' => '28');
$d['home/ministries/special_events'] = 29;
$a[29] = array('id' => 29, 'alias' => 'special_events', 'path' => 'home/ministries');
$m[] = array('2' => '29');
$d['home/ministries/worship'] = 27;
$a[27] = array('id' => 27, 'alias' => 'worship', 'path' => 'home/ministries');
$m[] = array('2' => '27');
$d['home/ministries/fellowship'] = 30;
$a[30] = array('id' => 30, 'alias' => 'fellowship', 'path' => 'home/ministries');
$m[] = array('2' => '30');
$d['home/ministries/christian_education'] = 31;
$a[31] = array('id' => 31, 'alias' => 'christian_education', 'path' => 'home/ministries');
$m[] = array('2' => '31');
$d['home/ministries/outreach'] = 54;
$a[54] = array('id' => 54, 'alias' => 'outreach', 'path' => 'home/ministries');
$m[] = array('2' => '54');
$d['home/multimedia/media_requests'] = 17;
$a[17] = array('id' => 17, 'alias' => 'media_requests', 'path' => 'home/multimedia');
$m[] = array('3' => '17');
$d['home/multimedia/marketing_reqeusts'] = 210;
$a[210] = array('id' => 210, 'alias' => 'marketing_reqeusts', 'path' => 'home/multimedia');
$m[] = array('3' => '210');
$d['home/multimedia/past_sermons'] = 18;
$a[18] = array('id' => 18, 'alias' => 'past_sermons', 'path' => 'home/multimedia');
$m[] = array('3' => '18');
$d['home/multimedia/bible_studies'] = 20;
$a[20] = array('id' => 20, 'alias' => 'bible_studies', 'path' => 'home/multimedia');
$m[] = array('3' => '20');
$d['home/multimedia/media_downloads'] = 21;
$a[21] = array('id' => 21, 'alias' => 'media_downloads', 'path' => 'home/multimedia');
$m[] = array('3' => '21');
$d['home/multimedia/photo_gallery'] = 90;
$a[90] = array('id' => 90, 'alias' => 'photo_gallery', 'path' => 'home/multimedia');
$m[] = array('3' => '90');
$d['home/multimedia/newsletter'] = 289;
$a[289] = array('id' => 289, 'alias' => 'newsletter', 'path' => 'home/multimedia');
$m[] = array('3' => '289');
$d['home/community/caregiver'] = 472;
$a[472] = array('id' => 472, 'alias' => 'caregiver', 'path' => 'home/community');
$m[] = array('4' => '472');
$d['home/community/call_me_mister'] = 65;
$a[65] = array('id' => 65, 'alias' => 'call_me_mister', 'path' => 'home/community');
$m[] = array('4' => '65');
$d['home/community/well_check_program'] = 67;
$a[67] = array('id' => 67, 'alias' => 'well_check_program', 'path' => 'home/community');
$m[] = array('4' => '67');
$d['home/community/c-tran'] = 68;
$a[68] = array('id' => 68, 'alias' => 'c-tran', 'path' => 'home/community');
$m[] = array('4' => '68');
$d['home/community/cary_events'] = 71;
$a[71] = array('id' => 71, 'alias' => 'cary_events', 'path' => 'home/community');
$m[] = array('4' => '71');
$d['home/community/cary_jobs'] = 220;
$a[220] = array('id' => 220, 'alias' => 'cary_jobs', 'path' => 'home/community');
$m[] = array('4' => '220');
$d['home/community/housingresources'] = 392;
$a[392] = array('id' => 392, 'alias' => 'housingresources', 'path' => 'home/community');
$m[] = array('4' => '392');
$d['home/resources/goodsearch'] = 22;
$a[22] = array('id' => 22, 'alias' => 'goodsearch', 'path' => 'home/resources');
$m[] = array('5' => '22');
$d['home/resources/shopping_mall'] = 23;
$a[23] = array('id' => 23, 'alias' => 'shopping_mall', 'path' => 'home/resources');
$m[] = array('5' => '23');
$d['home/pastor/149'] = 149;
$a[149] = array('id' => 149, 'alias' => '149', 'path' => 'home/pastor');
$m[] = array('8' => '149');
$d['home/pastor/pastor_blog'] = 25;
$a[25] = array('id' => 25, 'alias' => 'pastor_blog', 'path' => 'home/pastor');
$m[] = array('8' => '25');
$d['home/top-navigation/mtzion_home'] = 61;
$a[61] = array('id' => 61, 'alias' => 'mtzion_home', 'path' => 'home/top-navigation');
$m[] = array('10' => '61');
$d['home/top-navigation/589'] = 589;
$a[589] = array('id' => 589, 'alias' => '589', 'path' => 'home/top-navigation');
$m[] = array('10' => '589');
$d['home/top-navigation/351'] = 351;
$a[351] = array('id' => 351, 'alias' => '351', 'path' => 'home/top-navigation');
$m[] = array('10' => '351');
$d['home/top-navigation/calendar-old'] = 7;
$a[7] = array('id' => 7, 'alias' => 'calendar-old', 'path' => 'home/top-navigation');
$m[] = array('10' => '7');
$d['home/top-navigation/calendar'] = 423;
$a[423] = array('id' => 423, 'alias' => 'calendar', 'path' => 'home/top-navigation');
$m[] = array('10' => '423');
$d['home/top-navigation/directions'] = 11;
$a[11] = array('id' => 11, 'alias' => 'directions', 'path' => 'home/top-navigation');
$m[] = array('10' => '11');
$d['home/top-navigation/contact'] = 9;
$a[9] = array('id' => 9, 'alias' => 'contact', 'path' => 'home/top-navigation');
$m[] = array('10' => '9');
$d['home/top-navigation/mtzion-rss'] = 171;
$a[171] = array('id' => 171, 'alias' => 'mtzion-rss', 'path' => 'home/top-navigation');
$m[] = array('10' => '171');
$d['home/top-navigation/yahoo-sitemap'] = 96;
$a[96] = array('id' => 96, 'alias' => 'yahoo-sitemap', 'path' => 'home/top-navigation');
$m[] = array('10' => '96');
$d['home/top-navigation/google-sitemap'] = 12;
$a[12] = array('id' => 12, 'alias' => 'google-sitemap', 'path' => 'home/top-navigation');
$m[] = array('10' => '12');
$d['home/annoucnments/quartleysurvey'] = 381;
$a[381] = array('id' => 381, 'alias' => 'quartleysurvey', 'path' => 'home/annoucnments');
$m[] = array('13' => '381');
$d['home/annoucnments/churchcancelled'] = 588;
$a[588] = array('id' => 588, 'alias' => 'churchcancelled', 'path' => 'home/annoucnments');
$m[] = array('13' => '588');
$d['home/annoucnments/yetpraisehim'] = 336;
$a[336] = array('id' => 336, 'alias' => 'yetpraisehim', 'path' => 'home/annoucnments');
$m[] = array('13' => '336');
$d['home/annoucnments/299'] = 299;
$a[299] = array('id' => 299, 'alias' => '299', 'path' => 'home/annoucnments');
$m[] = array('13' => '299');
$d['home/annoucnments/300'] = 300;
$a[300] = array('id' => 300, 'alias' => '300', 'path' => 'home/annoucnments');
$m[] = array('13' => '300');
$d['home/annoucnments/301'] = 301;
$a[301] = array('id' => 301, 'alias' => '301', 'path' => 'home/annoucnments');
$m[] = array('13' => '301');
$d['home/annoucnments/302'] = 302;
$a[302] = array('id' => 302, 'alias' => '302', 'path' => 'home/annoucnments');
$m[] = array('13' => '302');
$d['home/annoucnments/303'] = 303;
$a[303] = array('id' => 303, 'alias' => '303', 'path' => 'home/annoucnments');
$m[] = array('13' => '303');
$d['home/annoucnments/304'] = 304;
$a[304] = array('id' => 304, 'alias' => '304', 'path' => 'home/annoucnments');
$m[] = array('13' => '304');
$d['home/annoucnments/vbs_tailgate'] = 306;
$a[306] = array('id' => 306, 'alias' => 'vbs_tailgate', 'path' => 'home/annoucnments');
$m[] = array('13' => '306');
$d['home/annoucnments/307'] = 307;
$a[307] = array('id' => 307, 'alias' => '307', 'path' => 'home/annoucnments');
$m[] = array('13' => '307');
$d['home/annoucnments/308'] = 308;
$a[308] = array('id' => 308, 'alias' => '308', 'path' => 'home/annoucnments');
$m[] = array('13' => '308');
$d['home/annoucnments/309'] = 309;
$a[309] = array('id' => 309, 'alias' => '309', 'path' => 'home/annoucnments');
$m[] = array('13' => '309');
$d['home/annoucnments/310'] = 310;
$a[310] = array('id' => 310, 'alias' => '310', 'path' => 'home/annoucnments');
$m[] = array('13' => '310');
$d['home/annoucnments/311'] = 311;
$a[311] = array('id' => 311, 'alias' => '311', 'path' => 'home/annoucnments');
$m[] = array('13' => '311');
$d['home/annoucnments/312'] = 312;
$a[312] = array('id' => 312, 'alias' => '312', 'path' => 'home/annoucnments');
$m[] = array('13' => '312');
$d['home/annoucnments/best_of_cary'] = 332;
$a[332] = array('id' => 332, 'alias' => 'best_of_cary', 'path' => 'home/annoucnments');
$m[] = array('13' => '332');
$d['home/annoucnments/313'] = 313;
$a[313] = array('id' => 313, 'alias' => '313', 'path' => 'home/annoucnments');
$m[] = array('13' => '313');
$d['home/annoucnments/314'] = 314;
$a[314] = array('id' => 314, 'alias' => '314', 'path' => 'home/annoucnments');
$m[] = array('13' => '314');
$d['home/annoucnments/315'] = 315;
$a[315] = array('id' => 315, 'alias' => '315', 'path' => 'home/annoucnments');
$m[] = array('13' => '315');
$d['home/annoucnments/316'] = 316;
$a[316] = array('id' => 316, 'alias' => '316', 'path' => 'home/annoucnments');
$m[] = array('13' => '316');
$d['home/annoucnments/317'] = 317;
$a[317] = array('id' => 317, 'alias' => '317', 'path' => 'home/annoucnments');
$m[] = array('13' => '317');
$d['home/annoucnments/318'] = 318;
$a[318] = array('id' => 318, 'alias' => '318', 'path' => 'home/annoucnments');
$m[] = array('13' => '318');
$d['home/annoucnments/319'] = 319;
$a[319] = array('id' => 319, 'alias' => '319', 'path' => 'home/annoucnments');
$m[] = array('13' => '319');
$d['home/annoucnments/320'] = 320;
$a[320] = array('id' => 320, 'alias' => '320', 'path' => 'home/annoucnments');
$m[] = array('13' => '320');
$d['home/annoucnments/321'] = 321;
$a[321] = array('id' => 321, 'alias' => '321', 'path' => 'home/annoucnments');
$m[] = array('13' => '321');
$d['home/annoucnments/322'] = 322;
$a[322] = array('id' => 322, 'alias' => '322', 'path' => 'home/annoucnments');
$m[] = array('13' => '322');
$d['home/annoucnments/325'] = 325;
$a[325] = array('id' => 325, 'alias' => '325', 'path' => 'home/annoucnments');
$m[] = array('13' => '325');
$d['home/annoucnments/326'] = 326;
$a[326] = array('id' => 326, 'alias' => '326', 'path' => 'home/annoucnments');
$m[] = array('13' => '326');
$d['home/annoucnments/327'] = 327;
$a[327] = array('id' => 327, 'alias' => '327', 'path' => 'home/annoucnments');
$m[] = array('13' => '327');
$d['home/annoucnments/329'] = 329;
$a[329] = array('id' => 329, 'alias' => '329', 'path' => 'home/annoucnments');
$m[] = array('13' => '329');
$d['home/annoucnments/330'] = 330;
$a[330] = array('id' => 330, 'alias' => '330', 'path' => 'home/annoucnments');
$m[] = array('13' => '330');
$d['home/annoucnments/331'] = 331;
$a[331] = array('id' => 331, 'alias' => '331', 'path' => 'home/annoucnments');
$m[] = array('13' => '331');
$d['home/annoucnments/333'] = 333;
$a[333] = array('id' => 333, 'alias' => '333', 'path' => 'home/annoucnments');
$m[] = array('13' => '333');
$d['home/annoucnments/334'] = 334;
$a[334] = array('id' => 334, 'alias' => '334', 'path' => 'home/annoucnments');
$m[] = array('13' => '334');
$d['home/annoucnments/338'] = 338;
$a[338] = array('id' => 338, 'alias' => '338', 'path' => 'home/annoucnments');
$m[] = array('13' => '338');
$d['home/annoucnments/339'] = 339;
$a[339] = array('id' => 339, 'alias' => '339', 'path' => 'home/annoucnments');
$m[] = array('13' => '339');
$d['home/annoucnments/340'] = 340;
$a[340] = array('id' => 340, 'alias' => '340', 'path' => 'home/annoucnments');
$m[] = array('13' => '340');
$d['home/annoucnments/341'] = 341;
$a[341] = array('id' => 341, 'alias' => '341', 'path' => 'home/annoucnments');
$m[] = array('13' => '341');
$d['home/annoucnments/342'] = 342;
$a[342] = array('id' => 342, 'alias' => '342', 'path' => 'home/annoucnments');
$m[] = array('13' => '342');
$d['home/annoucnments/343'] = 343;
$a[343] = array('id' => 343, 'alias' => '343', 'path' => 'home/annoucnments');
$m[] = array('13' => '343');
$d['home/annoucnments/344'] = 344;
$a[344] = array('id' => 344, 'alias' => '344', 'path' => 'home/annoucnments');
$m[] = array('13' => '344');
$d['home/annoucnments/zionnews_20090906'] = 345;
$a[345] = array('id' => 345, 'alias' => 'zionnews_20090906', 'path' => 'home/annoucnments');
$m[] = array('13' => '345');
$d['home/annoucnments/347'] = 347;
$a[347] = array('id' => 347, 'alias' => '347', 'path' => 'home/annoucnments');
$m[] = array('13' => '347');
$d['home/annoucnments/348'] = 348;
$a[348] = array('id' => 348, 'alias' => '348', 'path' => 'home/annoucnments');
$m[] = array('13' => '348');
$d['home/annoucnments/349'] = 349;
$a[349] = array('id' => 349, 'alias' => '349', 'path' => 'home/annoucnments');
$m[] = array('13' => '349');
$d['home/annoucnments/352'] = 352;
$a[352] = array('id' => 352, 'alias' => '352', 'path' => 'home/annoucnments');
$m[] = array('13' => '352');
$d['home/annoucnments/353'] = 353;
$a[353] = array('id' => 353, 'alias' => '353', 'path' => 'home/annoucnments');
$m[] = array('13' => '353');
$d['home/annoucnments/354'] = 354;
$a[354] = array('id' => 354, 'alias' => '354', 'path' => 'home/annoucnments');
$m[] = array('13' => '354');
$d['home/annoucnments/zionnews_20090920'] = 355;
$a[355] = array('id' => 355, 'alias' => 'zionnews_20090920', 'path' => 'home/annoucnments');
$m[] = array('13' => '355');
$d['home/annoucnments/356'] = 356;
$a[356] = array('id' => 356, 'alias' => '356', 'path' => 'home/annoucnments');
$m[] = array('13' => '356');
$d['home/annoucnments/357'] = 357;
$a[357] = array('id' => 357, 'alias' => '357', 'path' => 'home/annoucnments');
$m[] = array('13' => '357');
$d['home/annoucnments/358'] = 358;
$a[358] = array('id' => 358, 'alias' => '358', 'path' => 'home/annoucnments');
$m[] = array('13' => '358');
$d['home/annoucnments/359'] = 359;
$a[359] = array('id' => 359, 'alias' => '359', 'path' => 'home/annoucnments');
$m[] = array('13' => '359');
$d['home/annoucnments/157'] = 157;
$a[157] = array('id' => 157, 'alias' => '157', 'path' => 'home/annoucnments');
$m[] = array('13' => '157');
$d['home/annoucnments/360'] = 360;
$a[360] = array('id' => 360, 'alias' => '360', 'path' => 'home/annoucnments');
$m[] = array('13' => '360');
$d['home/annoucnments/361'] = 361;
$a[361] = array('id' => 361, 'alias' => '361', 'path' => 'home/annoucnments');
$m[] = array('13' => '361');
$d['home/annoucnments/362'] = 362;
$a[362] = array('id' => 362, 'alias' => '362', 'path' => 'home/annoucnments');
$m[] = array('13' => '362');
$d['home/annoucnments/ZionNews20091004'] = 363;
$a[363] = array('id' => 363, 'alias' => 'ZionNews20091004', 'path' => 'home/annoucnments');
$m[] = array('13' => '363');
$d['home/annoucnments/fia_survey'] = 364;
$a[364] = array('id' => 364, 'alias' => 'fia_survey', 'path' => 'home/annoucnments');
$m[] = array('13' => '364');
$d['home/annoucnments/365'] = 365;
$a[365] = array('id' => 365, 'alias' => '365', 'path' => 'home/annoucnments');
$m[] = array('13' => '365');
$d['home/annoucnments/366'] = 366;
$a[366] = array('id' => 366, 'alias' => '366', 'path' => 'home/annoucnments');
$m[] = array('13' => '366');
$d['home/annoucnments/367'] = 367;
$a[367] = array('id' => 367, 'alias' => '367', 'path' => 'home/annoucnments');
$m[] = array('13' => '367');
$d['home/annoucnments/368'] = 368;
$a[368] = array('id' => 368, 'alias' => '368', 'path' => 'home/annoucnments');
$m[] = array('13' => '368');
$d['home/annoucnments/369'] = 369;
$a[369] = array('id' => 369, 'alias' => '369', 'path' => 'home/annoucnments');
$m[] = array('13' => '369');
$d['home/annoucnments/370'] = 370;
$a[370] = array('id' => 370, 'alias' => '370', 'path' => 'home/annoucnments');
$m[] = array('13' => '370');
$d['home/annoucnments/371'] = 371;
$a[371] = array('id' => 371, 'alias' => '371', 'path' => 'home/annoucnments');
$m[] = array('13' => '371');
$d['home/annoucnments/372'] = 372;
$a[372] = array('id' => 372, 'alias' => '372', 'path' => 'home/annoucnments');
$m[] = array('13' => '372');
$d['home/annoucnments/373'] = 373;
$a[373] = array('id' => 373, 'alias' => '373', 'path' => 'home/annoucnments');
$m[] = array('13' => '373');
$d['home/annoucnments/374'] = 374;
$a[374] = array('id' => 374, 'alias' => '374', 'path' => 'home/annoucnments');
$m[] = array('13' => '374');
$d['home/annoucnments/zionnews_20091025'] = 375;
$a[375] = array('id' => 375, 'alias' => 'zionnews_20091025', 'path' => 'home/annoucnments');
$m[] = array('13' => '375');
$d['home/annoucnments/376'] = 376;
$a[376] = array('id' => 376, 'alias' => '376', 'path' => 'home/annoucnments');
$m[] = array('13' => '376');
$d['home/annoucnments/zionnews11012009'] = 377;
$a[377] = array('id' => 377, 'alias' => 'zionnews11012009', 'path' => 'home/annoucnments');
$m[] = array('13' => '377');
$d['home/annoucnments/378'] = 378;
$a[378] = array('id' => 378, 'alias' => '378', 'path' => 'home/annoucnments');
$m[] = array('13' => '378');
$d['home/annoucnments/379'] = 379;
$a[379] = array('id' => 379, 'alias' => '379', 'path' => 'home/annoucnments');
$m[] = array('13' => '379');
$d['home/annoucnments/zionnews_20091108'] = 380;
$a[380] = array('id' => 380, 'alias' => 'zionnews_20091108', 'path' => 'home/annoucnments');
$m[] = array('13' => '380');
$d['home/annoucnments/383'] = 383;
$a[383] = array('id' => 383, 'alias' => '383', 'path' => 'home/annoucnments');
$m[] = array('13' => '383');
$d['home/annoucnments/384'] = 384;
$a[384] = array('id' => 384, 'alias' => '384', 'path' => 'home/annoucnments');
$m[] = array('13' => '384');
$d['home/annoucnments/385'] = 385;
$a[385] = array('id' => 385, 'alias' => '385', 'path' => 'home/annoucnments');
$m[] = array('13' => '385');
$d['home/annoucnments/386'] = 386;
$a[386] = array('id' => 386, 'alias' => '386', 'path' => 'home/annoucnments');
$m[] = array('13' => '386');
$d['home/annoucnments/388'] = 388;
$a[388] = array('id' => 388, 'alias' => '388', 'path' => 'home/annoucnments');
$m[] = array('13' => '388');
$d['home/annoucnments/389'] = 389;
$a[389] = array('id' => 389, 'alias' => '389', 'path' => 'home/annoucnments');
$m[] = array('13' => '389');
$d['home/annoucnments/390'] = 390;
$a[390] = array('id' => 390, 'alias' => '390', 'path' => 'home/annoucnments');
$m[] = array('13' => '390');
$d['home/annoucnments/391'] = 391;
$a[391] = array('id' => 391, 'alias' => '391', 'path' => 'home/annoucnments');
$m[] = array('13' => '391');
$d['home/annoucnments/393'] = 393;
$a[393] = array('id' => 393, 'alias' => '393', 'path' => 'home/annoucnments');
$m[] = array('13' => '393');
$d['home/annoucnments/christmascampaign'] = 394;
$a[394] = array('id' => 394, 'alias' => 'christmascampaign', 'path' => 'home/annoucnments');
$m[] = array('13' => '394');
$d['home/annoucnments/hallofhope'] = 297;
$a[297] = array('id' => 297, 'alias' => 'hallofhope', 'path' => 'home/annoucnments');
$m[] = array('13' => '297');
$d['home/annoucnments/396'] = 396;
$a[396] = array('id' => 396, 'alias' => '396', 'path' => 'home/annoucnments');
$m[] = array('13' => '396');
$d['home/annoucnments/397'] = 397;
$a[397] = array('id' => 397, 'alias' => '397', 'path' => 'home/annoucnments');
$m[] = array('13' => '397');
$d['home/annoucnments/398'] = 398;
$a[398] = array('id' => 398, 'alias' => '398', 'path' => 'home/annoucnments');
$m[] = array('13' => '398');
$d['home/annoucnments/399'] = 399;
$a[399] = array('id' => 399, 'alias' => '399', 'path' => 'home/annoucnments');
$m[] = array('13' => '399');
$d['home/annoucnments/400'] = 400;
$a[400] = array('id' => 400, 'alias' => '400', 'path' => 'home/annoucnments');
$m[] = array('13' => '400');
$d['home/annoucnments/401'] = 401;
$a[401] = array('id' => 401, 'alias' => '401', 'path' => 'home/annoucnments');
$m[] = array('13' => '401');
$d['home/annoucnments/402'] = 402;
$a[402] = array('id' => 402, 'alias' => '402', 'path' => 'home/annoucnments');
$m[] = array('13' => '402');
$d['home/annoucnments/403'] = 403;
$a[403] = array('id' => 403, 'alias' => '403', 'path' => 'home/annoucnments');
$m[] = array('13' => '403');
$d['home/annoucnments/404'] = 404;
$a[404] = array('id' => 404, 'alias' => '404', 'path' => 'home/annoucnments');
$m[] = array('13' => '404');
$d['home/annoucnments/405'] = 405;
$a[405] = array('id' => 405, 'alias' => '405', 'path' => 'home/annoucnments');
$m[] = array('13' => '405');
$d['home/annoucnments/406'] = 406;
$a[406] = array('id' => 406, 'alias' => '406', 'path' => 'home/annoucnments');
$m[] = array('13' => '406');
$d['home/annoucnments/407'] = 407;
$a[407] = array('id' => 407, 'alias' => '407', 'path' => 'home/annoucnments');
$m[] = array('13' => '407');
$d['home/annoucnments/408'] = 408;
$a[408] = array('id' => 408, 'alias' => '408', 'path' => 'home/annoucnments');
$m[] = array('13' => '408');
$d['home/annoucnments/409'] = 409;
$a[409] = array('id' => 409, 'alias' => '409', 'path' => 'home/annoucnments');
$m[] = array('13' => '409');
$d['home/annoucnments/410'] = 410;
$a[410] = array('id' => 410, 'alias' => '410', 'path' => 'home/annoucnments');
$m[] = array('13' => '410');
$d['home/annoucnments/411'] = 411;
$a[411] = array('id' => 411, 'alias' => '411', 'path' => 'home/annoucnments');
$m[] = array('13' => '411');
$d['home/annoucnments/412'] = 412;
$a[412] = array('id' => 412, 'alias' => '412', 'path' => 'home/annoucnments');
$m[] = array('13' => '412');
$d['home/annoucnments/413'] = 413;
$a[413] = array('id' => 413, 'alias' => '413', 'path' => 'home/annoucnments');
$m[] = array('13' => '413');
$d['home/annoucnments/414'] = 414;
$a[414] = array('id' => 414, 'alias' => '414', 'path' => 'home/annoucnments');
$m[] = array('13' => '414');
$d['home/annoucnments/415'] = 415;
$a[415] = array('id' => 415, 'alias' => '415', 'path' => 'home/annoucnments');
$m[] = array('13' => '415');
$d['home/annoucnments/417'] = 417;
$a[417] = array('id' => 417, 'alias' => '417', 'path' => 'home/annoucnments');
$m[] = array('13' => '417');
$d['home/annoucnments/418'] = 418;
$a[418] = array('id' => 418, 'alias' => '418', 'path' => 'home/annoucnments');
$m[] = array('13' => '418');
$d['home/annoucnments/419'] = 419;
$a[419] = array('id' => 419, 'alias' => '419', 'path' => 'home/annoucnments');
$m[] = array('13' => '419');
$d['home/annoucnments/420'] = 420;
$a[420] = array('id' => 420, 'alias' => '420', 'path' => 'home/annoucnments');
$m[] = array('13' => '420');
$d['home/annoucnments/421'] = 421;
$a[421] = array('id' => 421, 'alias' => '421', 'path' => 'home/annoucnments');
$m[] = array('13' => '421');
$d['home/annoucnments/422'] = 422;
$a[422] = array('id' => 422, 'alias' => '422', 'path' => 'home/annoucnments');
$m[] = array('13' => '422');
$d['home/annoucnments/424'] = 424;
$a[424] = array('id' => 424, 'alias' => '424', 'path' => 'home/annoucnments');
$m[] = array('13' => '424');
$d['home/annoucnments/425'] = 425;
$a[425] = array('id' => 425, 'alias' => '425', 'path' => 'home/annoucnments');
$m[] = array('13' => '425');
$d['home/annoucnments/426'] = 426;
$a[426] = array('id' => 426, 'alias' => '426', 'path' => 'home/annoucnments');
$m[] = array('13' => '426');
$d['home/annoucnments/427'] = 427;
$a[427] = array('id' => 427, 'alias' => '427', 'path' => 'home/annoucnments');
$m[] = array('13' => '427');
$d['home/annoucnments/428'] = 428;
$a[428] = array('id' => 428, 'alias' => '428', 'path' => 'home/annoucnments');
$m[] = array('13' => '428');
$d['home/annoucnments/429'] = 429;
$a[429] = array('id' => 429, 'alias' => '429', 'path' => 'home/annoucnments');
$m[] = array('13' => '429');
$d['home/annoucnments/zionnew_20100221'] = 430;
$a[430] = array('id' => 430, 'alias' => 'zionnew_20100221', 'path' => 'home/annoucnments');
$m[] = array('13' => '430');
$d['home/annoucnments/zionnews20100228'] = 431;
$a[431] = array('id' => 431, 'alias' => 'zionnews20100228', 'path' => 'home/annoucnments');
$m[] = array('13' => '431');
$d['home/annoucnments/zionnews372010'] = 432;
$a[432] = array('id' => 432, 'alias' => 'zionnews372010', 'path' => 'home/annoucnments');
$m[] = array('13' => '432');
$d['home/annoucnments/433'] = 433;
$a[433] = array('id' => 433, 'alias' => '433', 'path' => 'home/annoucnments');
$m[] = array('13' => '433');
$d['home/annoucnments/434'] = 434;
$a[434] = array('id' => 434, 'alias' => '434', 'path' => 'home/annoucnments');
$m[] = array('13' => '434');
$d['home/annoucnments/435'] = 435;
$a[435] = array('id' => 435, 'alias' => '435', 'path' => 'home/annoucnments');
$m[] = array('13' => '435');
$d['home/annoucnments/zionnews20100314'] = 436;
$a[436] = array('id' => 436, 'alias' => 'zionnews20100314', 'path' => 'home/annoucnments');
$m[] = array('13' => '436');
$d['home/annoucnments/437'] = 437;
$a[437] = array('id' => 437, 'alias' => '437', 'path' => 'home/annoucnments');
$m[] = array('13' => '437');
$d['home/annoucnments/438'] = 438;
$a[438] = array('id' => 438, 'alias' => '438', 'path' => 'home/annoucnments');
$m[] = array('13' => '438');
$d['home/annoucnments/439'] = 439;
$a[439] = array('id' => 439, 'alias' => '439', 'path' => 'home/annoucnments');
$m[] = array('13' => '439');
$d['home/annoucnments/440'] = 440;
$a[440] = array('id' => 440, 'alias' => '440', 'path' => 'home/annoucnments');
$m[] = array('13' => '440');
$d['home/annoucnments/zionnews20100321'] = 441;
$a[441] = array('id' => 441, 'alias' => 'zionnews20100321', 'path' => 'home/annoucnments');
$m[] = array('13' => '441');
$d['home/annoucnments/442'] = 442;
$a[442] = array('id' => 442, 'alias' => '442', 'path' => 'home/annoucnments');
$m[] = array('13' => '442');
$d['home/annoucnments/zionnews20100328'] = 443;
$a[443] = array('id' => 443, 'alias' => 'zionnews20100328', 'path' => 'home/annoucnments');
$m[] = array('13' => '443');
$d['home/annoucnments/444'] = 444;
$a[444] = array('id' => 444, 'alias' => '444', 'path' => 'home/annoucnments');
$m[] = array('13' => '444');
$d['home/annoucnments/445'] = 445;
$a[445] = array('id' => 445, 'alias' => '445', 'path' => 'home/annoucnments');
$m[] = array('13' => '445');
$d['home/annoucnments/446'] = 446;
$a[446] = array('id' => 446, 'alias' => '446', 'path' => 'home/annoucnments');
$m[] = array('13' => '446');
$d['home/annoucnments/zionnews20100304'] = 447;
$a[447] = array('id' => 447, 'alias' => 'zionnews20100304', 'path' => 'home/annoucnments');
$m[] = array('13' => '447');
$d['home/annoucnments/448'] = 448;
$a[448] = array('id' => 448, 'alias' => '448', 'path' => 'home/annoucnments');
$m[] = array('13' => '448');
$d['home/annoucnments/449'] = 449;
$a[449] = array('id' => 449, 'alias' => '449', 'path' => 'home/annoucnments');
$m[] = array('13' => '449');
$d['home/annoucnments/450'] = 450;
$a[450] = array('id' => 450, 'alias' => '450', 'path' => 'home/annoucnments');
$m[] = array('13' => '450');
$d['home/annoucnments/451'] = 451;
$a[451] = array('id' => 451, 'alias' => '451', 'path' => 'home/annoucnments');
$m[] = array('13' => '451');
$d['home/annoucnments/452'] = 452;
$a[452] = array('id' => 452, 'alias' => '452', 'path' => 'home/annoucnments');
$m[] = array('13' => '452');
$d['home/annoucnments/453'] = 453;
$a[453] = array('id' => 453, 'alias' => '453', 'path' => 'home/annoucnments');
$m[] = array('13' => '453');
$d['home/annoucnments/454'] = 454;
$a[454] = array('id' => 454, 'alias' => '454', 'path' => 'home/annoucnments');
$m[] = array('13' => '454');
$d['home/annoucnments/455'] = 455;
$a[455] = array('id' => 455, 'alias' => '455', 'path' => 'home/annoucnments');
$m[] = array('13' => '455');
$d['home/annoucnments/456'] = 456;
$a[456] = array('id' => 456, 'alias' => '456', 'path' => 'home/annoucnments');
$m[] = array('13' => '456');
$d['home/annoucnments/zionnews20100411'] = 457;
$a[457] = array('id' => 457, 'alias' => 'zionnews20100411', 'path' => 'home/annoucnments');
$m[] = array('13' => '457');
$d['home/annoucnments/zionnews20100418'] = 458;
$a[458] = array('id' => 458, 'alias' => 'zionnews20100418', 'path' => 'home/annoucnments');
$m[] = array('13' => '458');
$d['home/annoucnments/459'] = 459;
$a[459] = array('id' => 459, 'alias' => '459', 'path' => 'home/annoucnments');
$m[] = array('13' => '459');
$d['home/annoucnments/460'] = 460;
$a[460] = array('id' => 460, 'alias' => '460', 'path' => 'home/annoucnments');
$m[] = array('13' => '460');
$d['home/annoucnments/zionnews20100424'] = 461;
$a[461] = array('id' => 461, 'alias' => 'zionnews20100424', 'path' => 'home/annoucnments');
$m[] = array('13' => '461');
$d['home/annoucnments/462'] = 462;
$a[462] = array('id' => 462, 'alias' => '462', 'path' => 'home/annoucnments');
$m[] = array('13' => '462');
$d['home/annoucnments/463'] = 463;
$a[463] = array('id' => 463, 'alias' => '463', 'path' => 'home/annoucnments');
$m[] = array('13' => '463');
$d['home/annoucnments/464'] = 464;
$a[464] = array('id' => 464, 'alias' => '464', 'path' => 'home/annoucnments');
$m[] = array('13' => '464');
$d['home/annoucnments/465'] = 465;
$a[465] = array('id' => 465, 'alias' => '465', 'path' => 'home/annoucnments');
$m[] = array('13' => '465');
$d['home/annoucnments/zionnews20100502'] = 466;
$a[466] = array('id' => 466, 'alias' => 'zionnews20100502', 'path' => 'home/annoucnments');
$m[] = array('13' => '466');
$d['home/annoucnments/470'] = 470;
$a[470] = array('id' => 470, 'alias' => '470', 'path' => 'home/annoucnments');
$m[] = array('13' => '470');
$d['home/annoucnments/471'] = 471;
$a[471] = array('id' => 471, 'alias' => '471', 'path' => 'home/annoucnments');
$m[] = array('13' => '471');
$d['home/annoucnments/zionnews20100509'] = 473;
$a[473] = array('id' => 473, 'alias' => 'zionnews20100509', 'path' => 'home/annoucnments');
$m[] = array('13' => '473');
$d['home/annoucnments/474'] = 474;
$a[474] = array('id' => 474, 'alias' => '474', 'path' => 'home/annoucnments');
$m[] = array('13' => '474');
$d['home/annoucnments/274'] = 274;
$a[274] = array('id' => 274, 'alias' => '274', 'path' => 'home/annoucnments');
$m[] = array('13' => '274');
$d['home/annoucnments/275'] = 275;
$a[275] = array('id' => 275, 'alias' => '275', 'path' => 'home/annoucnments');
$m[] = array('13' => '275');
$d['home/annoucnments/zionnews20100516'] = 475;
$a[475] = array('id' => 475, 'alias' => 'zionnews20100516', 'path' => 'home/annoucnments');
$m[] = array('13' => '475');
$d['home/annoucnments/281'] = 281;
$a[281] = array('id' => 281, 'alias' => '281', 'path' => 'home/annoucnments');
$m[] = array('13' => '281');
$d['home/annoucnments/476'] = 476;
$a[476] = array('id' => 476, 'alias' => '476', 'path' => 'home/annoucnments');
$m[] = array('13' => '476');
$d['home/annoucnments/282'] = 282;
$a[282] = array('id' => 282, 'alias' => '282', 'path' => 'home/annoucnments');
$m[] = array('13' => '282');
$d['home/annoucnments/478'] = 478;
$a[478] = array('id' => 478, 'alias' => '478', 'path' => 'home/annoucnments');
$m[] = array('13' => '478');
$d['home/annoucnments/283'] = 283;
$a[283] = array('id' => 283, 'alias' => '283', 'path' => 'home/annoucnments');
$m[] = array('13' => '283');
$d['home/annoucnments/284'] = 284;
$a[284] = array('id' => 284, 'alias' => '284', 'path' => 'home/annoucnments');
$m[] = array('13' => '284');
$d['home/annoucnments/479'] = 479;
$a[479] = array('id' => 479, 'alias' => '479', 'path' => 'home/annoucnments');
$m[] = array('13' => '479');
$d['home/annoucnments/285'] = 285;
$a[285] = array('id' => 285, 'alias' => '285', 'path' => 'home/annoucnments');
$m[] = array('13' => '285');
$d['home/annoucnments/480'] = 480;
$a[480] = array('id' => 480, 'alias' => '480', 'path' => 'home/annoucnments');
$m[] = array('13' => '480');
$d['home/annoucnments/zionnews20100530'] = 481;
$a[481] = array('id' => 481, 'alias' => 'zionnews20100530', 'path' => 'home/annoucnments');
$m[] = array('13' => '481');
$d['home/annoucnments/290'] = 290;
$a[290] = array('id' => 290, 'alias' => '290', 'path' => 'home/annoucnments');
$m[] = array('13' => '290');
$d['home/annoucnments/482'] = 482;
$a[482] = array('id' => 482, 'alias' => '482', 'path' => 'home/annoucnments');
$m[] = array('13' => '482');
$d['home/annoucnments/291'] = 291;
$a[291] = array('id' => 291, 'alias' => '291', 'path' => 'home/annoucnments');
$m[] = array('13' => '291');
$d['home/annoucnments/483'] = 483;
$a[483] = array('id' => 483, 'alias' => '483', 'path' => 'home/annoucnments');
$m[] = array('13' => '483');
$d['home/annoucnments/296'] = 296;
$a[296] = array('id' => 296, 'alias' => '296', 'path' => 'home/annoucnments');
$m[] = array('13' => '296');
$d['home/annoucnments/484'] = 484;
$a[484] = array('id' => 484, 'alias' => '484', 'path' => 'home/annoucnments');
$m[] = array('13' => '484');
$d['home/annoucnments/292'] = 292;
$a[292] = array('id' => 292, 'alias' => '292', 'path' => 'home/annoucnments');
$m[] = array('13' => '292');
$d['home/annoucnments/293'] = 293;
$a[293] = array('id' => 293, 'alias' => '293', 'path' => 'home/annoucnments');
$m[] = array('13' => '293');
$d['home/annoucnments/485'] = 485;
$a[485] = array('id' => 485, 'alias' => '485', 'path' => 'home/annoucnments');
$m[] = array('13' => '485');
$d['home/annoucnments/zionnews20100606'] = 486;
$a[486] = array('id' => 486, 'alias' => 'zionnews20100606', 'path' => 'home/annoucnments');
$m[] = array('13' => '486');
$d['home/annoucnments/294'] = 294;
$a[294] = array('id' => 294, 'alias' => '294', 'path' => 'home/annoucnments');
$m[] = array('13' => '294');
$d['home/annoucnments/295'] = 295;
$a[295] = array('id' => 295, 'alias' => '295', 'path' => 'home/annoucnments');
$m[] = array('13' => '295');
$d['home/annoucnments/487'] = 487;
$a[487] = array('id' => 487, 'alias' => '487', 'path' => 'home/annoucnments');
$m[] = array('13' => '487');
$d['home/annoucnments/488'] = 488;
$a[488] = array('id' => 488, 'alias' => '488', 'path' => 'home/annoucnments');
$m[] = array('13' => '488');
$d['home/annoucnments/zionnews20100613'] = 490;
$a[490] = array('id' => 490, 'alias' => 'zionnews20100613', 'path' => 'home/annoucnments');
$m[] = array('13' => '490');
$d['home/annoucnments/491'] = 491;
$a[491] = array('id' => 491, 'alias' => '491', 'path' => 'home/annoucnments');
$m[] = array('13' => '491');
$d['home/annoucnments/492'] = 492;
$a[492] = array('id' => 492, 'alias' => '492', 'path' => 'home/annoucnments');
$m[] = array('13' => '492');
$d['home/annoucnments/zionnews20100620'] = 493;
$a[493] = array('id' => 493, 'alias' => 'zionnews20100620', 'path' => 'home/annoucnments');
$m[] = array('13' => '493');
$d['home/annoucnments/494'] = 494;
$a[494] = array('id' => 494, 'alias' => '494', 'path' => 'home/annoucnments');
$m[] = array('13' => '494');
$d['home/annoucnments/495'] = 495;
$a[495] = array('id' => 495, 'alias' => '495', 'path' => 'home/annoucnments');
$m[] = array('13' => '495');
$d['home/annoucnments/496'] = 496;
$a[496] = array('id' => 496, 'alias' => '496', 'path' => 'home/annoucnments');
$m[] = array('13' => '496');
$d['home/annoucnments/497'] = 497;
$a[497] = array('id' => 497, 'alias' => '497', 'path' => 'home/annoucnments');
$m[] = array('13' => '497');
$d['home/annoucnments/498'] = 498;
$a[498] = array('id' => 498, 'alias' => '498', 'path' => 'home/annoucnments');
$m[] = array('13' => '498');
$d['home/annoucnments/499'] = 499;
$a[499] = array('id' => 499, 'alias' => '499', 'path' => 'home/annoucnments');
$m[] = array('13' => '499');
$d['home/annoucnments/500'] = 500;
$a[500] = array('id' => 500, 'alias' => '500', 'path' => 'home/annoucnments');
$m[] = array('13' => '500');
$d['home/annoucnments/zionnews20100711'] = 501;
$a[501] = array('id' => 501, 'alias' => 'zionnews20100711', 'path' => 'home/annoucnments');
$m[] = array('13' => '501');
$d['home/annoucnments/502'] = 502;
$a[502] = array('id' => 502, 'alias' => '502', 'path' => 'home/annoucnments');
$m[] = array('13' => '502');
$d['home/annoucnments/503'] = 503;
$a[503] = array('id' => 503, 'alias' => '503', 'path' => 'home/annoucnments');
$m[] = array('13' => '503');
$d['home/annoucnments/504'] = 504;
$a[504] = array('id' => 504, 'alias' => '504', 'path' => 'home/annoucnments');
$m[] = array('13' => '504');
$d['home/annoucnments/505'] = 505;
$a[505] = array('id' => 505, 'alias' => '505', 'path' => 'home/annoucnments');
$m[] = array('13' => '505');
$d['home/annoucnments/506'] = 506;
$a[506] = array('id' => 506, 'alias' => '506', 'path' => 'home/annoucnments');
$m[] = array('13' => '506');
$d['home/annoucnments/507'] = 507;
$a[507] = array('id' => 507, 'alias' => '507', 'path' => 'home/annoucnments');
$m[] = array('13' => '507');
$d['home/annoucnments/508'] = 508;
$a[508] = array('id' => 508, 'alias' => '508', 'path' => 'home/annoucnments');
$m[] = array('13' => '508');
$d['home/annoucnments/zionews20100718'] = 509;
$a[509] = array('id' => 509, 'alias' => 'zionews20100718', 'path' => 'home/annoucnments');
$m[] = array('13' => '509');
$d['home/annoucnments/510'] = 510;
$a[510] = array('id' => 510, 'alias' => '510', 'path' => 'home/annoucnments');
$m[] = array('13' => '510');
$d['home/annoucnments/zionnews20100725'] = 511;
$a[511] = array('id' => 511, 'alias' => 'zionnews20100725', 'path' => 'home/annoucnments');
$m[] = array('13' => '511');
$d['home/annoucnments/zionnews20100801'] = 512;
$a[512] = array('id' => 512, 'alias' => 'zionnews20100801', 'path' => 'home/annoucnments');
$m[] = array('13' => '512');
$d['home/annoucnments/513'] = 513;
$a[513] = array('id' => 513, 'alias' => '513', 'path' => 'home/annoucnments');
$m[] = array('13' => '513');
$d['home/annoucnments/514'] = 514;
$a[514] = array('id' => 514, 'alias' => '514', 'path' => 'home/annoucnments');
$m[] = array('13' => '514');
$d['home/annoucnments/515'] = 515;
$a[515] = array('id' => 515, 'alias' => '515', 'path' => 'home/annoucnments');
$m[] = array('13' => '515');
$d['home/annoucnments/516'] = 516;
$a[516] = array('id' => 516, 'alias' => '516', 'path' => 'home/annoucnments');
$m[] = array('13' => '516');
$d['home/annoucnments/517'] = 517;
$a[517] = array('id' => 517, 'alias' => '517', 'path' => 'home/annoucnments');
$m[] = array('13' => '517');
$d['home/annoucnments/518'] = 518;
$a[518] = array('id' => 518, 'alias' => '518', 'path' => 'home/annoucnments');
$m[] = array('13' => '518');
$d['home/annoucnments/zionnews20100815'] = 519;
$a[519] = array('id' => 519, 'alias' => 'zionnews20100815', 'path' => 'home/annoucnments');
$m[] = array('13' => '519');
$d['home/annoucnments/520'] = 520;
$a[520] = array('id' => 520, 'alias' => '520', 'path' => 'home/annoucnments');
$m[] = array('13' => '520');
$d['home/annoucnments/521'] = 521;
$a[521] = array('id' => 521, 'alias' => '521', 'path' => 'home/annoucnments');
$m[] = array('13' => '521');
$d['home/annoucnments/522'] = 522;
$a[522] = array('id' => 522, 'alias' => '522', 'path' => 'home/annoucnments');
$m[] = array('13' => '522');
$d['home/annoucnments/zionnews20100822'] = 523;
$a[523] = array('id' => 523, 'alias' => 'zionnews20100822', 'path' => 'home/annoucnments');
$m[] = array('13' => '523');
$d['home/annoucnments/524'] = 524;
$a[524] = array('id' => 524, 'alias' => '524', 'path' => 'home/annoucnments');
$m[] = array('13' => '524');
$d['home/annoucnments/525'] = 525;
$a[525] = array('id' => 525, 'alias' => '525', 'path' => 'home/annoucnments');
$m[] = array('13' => '525');
$d['home/annoucnments/zionnews20100829'] = 526;
$a[526] = array('id' => 526, 'alias' => 'zionnews20100829', 'path' => 'home/annoucnments');
$m[] = array('13' => '526');
$d['home/annoucnments/caregivers'] = 527;
$a[527] = array('id' => 527, 'alias' => 'caregivers', 'path' => 'home/annoucnments');
$m[] = array('13' => '527');
$d['home/annoucnments/528'] = 528;
$a[528] = array('id' => 528, 'alias' => '528', 'path' => 'home/annoucnments');
$m[] = array('13' => '528');
$d['home/annoucnments/529'] = 529;
$a[529] = array('id' => 529, 'alias' => '529', 'path' => 'home/annoucnments');
$m[] = array('13' => '529');
$d['home/annoucnments/530'] = 530;
$a[530] = array('id' => 530, 'alias' => '530', 'path' => 'home/annoucnments');
$m[] = array('13' => '530');
$d['home/annoucnments/531'] = 531;
$a[531] = array('id' => 531, 'alias' => '531', 'path' => 'home/annoucnments');
$m[] = array('13' => '531');
$d['home/annoucnments/532'] = 532;
$a[532] = array('id' => 532, 'alias' => '532', 'path' => 'home/annoucnments');
$m[] = array('13' => '532');
$d['home/annoucnments/zionnews20100905'] = 533;
$a[533] = array('id' => 533, 'alias' => 'zionnews20100905', 'path' => 'home/annoucnments');
$m[] = array('13' => '533');
$d['home/annoucnments/534'] = 534;
$a[534] = array('id' => 534, 'alias' => '534', 'path' => 'home/annoucnments');
$m[] = array('13' => '534');
$d['home/annoucnments/zionnews20100912'] = 535;
$a[535] = array('id' => 535, 'alias' => 'zionnews20100912', 'path' => 'home/annoucnments');
$m[] = array('13' => '535');
$d['home/annoucnments/536'] = 536;
$a[536] = array('id' => 536, 'alias' => '536', 'path' => 'home/annoucnments');
$m[] = array('13' => '536');
$d['home/annoucnments/zionnews20100919'] = 537;
$a[537] = array('id' => 537, 'alias' => 'zionnews20100919', 'path' => 'home/annoucnments');
$m[] = array('13' => '537');
$d['home/annoucnments/bbq'] = 538;
$a[538] = array('id' => 538, 'alias' => 'bbq', 'path' => 'home/annoucnments');
$m[] = array('13' => '538');
$d['home/annoucnments/539'] = 539;
$a[539] = array('id' => 539, 'alias' => '539', 'path' => 'home/annoucnments');
$m[] = array('13' => '539');
$d['home/annoucnments/540'] = 540;
$a[540] = array('id' => 540, 'alias' => '540', 'path' => 'home/annoucnments');
$m[] = array('13' => '540');
$d['home/annoucnments/541'] = 541;
$a[541] = array('id' => 541, 'alias' => '541', 'path' => 'home/annoucnments');
$m[] = array('13' => '541');
$d['home/annoucnments/542'] = 542;
$a[542] = array('id' => 542, 'alias' => '542', 'path' => 'home/annoucnments');
$m[] = array('13' => '542');
$d['home/annoucnments/zionnews20100926'] = 543;
$a[543] = array('id' => 543, 'alias' => 'zionnews20100926', 'path' => 'home/annoucnments');
$m[] = array('13' => '543');
$d['home/annoucnments/544'] = 544;
$a[544] = array('id' => 544, 'alias' => '544', 'path' => 'home/annoucnments');
$m[] = array('13' => '544');
$d['home/annoucnments/545'] = 545;
$a[545] = array('id' => 545, 'alias' => '545', 'path' => 'home/annoucnments');
$m[] = array('13' => '545');
$d['home/annoucnments/zionnews2010103'] = 546;
$a[546] = array('id' => 546, 'alias' => 'zionnews2010103', 'path' => 'home/annoucnments');
$m[] = array('13' => '546');
$d['home/annoucnments/547'] = 547;
$a[547] = array('id' => 547, 'alias' => '547', 'path' => 'home/annoucnments');
$m[] = array('13' => '547');
$d['home/annoucnments/548'] = 548;
$a[548] = array('id' => 548, 'alias' => '548', 'path' => 'home/annoucnments');
$m[] = array('13' => '548');
$d['home/annoucnments/549'] = 549;
$a[549] = array('id' => 549, 'alias' => '549', 'path' => 'home/annoucnments');
$m[] = array('13' => '549');
$d['home/annoucnments/550'] = 550;
$a[550] = array('id' => 550, 'alias' => '550', 'path' => 'home/annoucnments');
$m[] = array('13' => '550');
$d['home/annoucnments/551'] = 551;
$a[551] = array('id' => 551, 'alias' => '551', 'path' => 'home/annoucnments');
$m[] = array('13' => '551');
$d['home/annoucnments/552'] = 552;
$a[552] = array('id' => 552, 'alias' => '552', 'path' => 'home/annoucnments');
$m[] = array('13' => '552');
$d['home/annoucnments/553'] = 553;
$a[553] = array('id' => 553, 'alias' => '553', 'path' => 'home/annoucnments');
$m[] = array('13' => '553');
$d['home/annoucnments/zionnews20101010'] = 554;
$a[554] = array('id' => 554, 'alias' => 'zionnews20101010', 'path' => 'home/annoucnments');
$m[] = array('13' => '554');
$d['home/annoucnments/555'] = 555;
$a[555] = array('id' => 555, 'alias' => '555', 'path' => 'home/annoucnments');
$m[] = array('13' => '555');
$d['home/annoucnments/556'] = 556;
$a[556] = array('id' => 556, 'alias' => '556', 'path' => 'home/annoucnments');
$m[] = array('13' => '556');
$d['home/annoucnments/zionnews20101017'] = 557;
$a[557] = array('id' => 557, 'alias' => 'zionnews20101017', 'path' => 'home/annoucnments');
$m[] = array('13' => '557');
$d['home/annoucnments/zionnews20101024'] = 558;
$a[558] = array('id' => 558, 'alias' => 'zionnews20101024', 'path' => 'home/annoucnments');
$m[] = array('13' => '558');
$d['home/annoucnments/559'] = 559;
$a[559] = array('id' => 559, 'alias' => '559', 'path' => 'home/annoucnments');
$m[] = array('13' => '559');
$d['home/annoucnments/zionnews20101031'] = 560;
$a[560] = array('id' => 560, 'alias' => 'zionnews20101031', 'path' => 'home/annoucnments');
$m[] = array('13' => '560');
$d['home/annoucnments/561'] = 561;
$a[561] = array('id' => 561, 'alias' => '561', 'path' => 'home/annoucnments');
$m[] = array('13' => '561');
$d['home/annoucnments/562'] = 562;
$a[562] = array('id' => 562, 'alias' => '562', 'path' => 'home/annoucnments');
$m[] = array('13' => '562');
$d['home/annoucnments/563'] = 563;
$a[563] = array('id' => 563, 'alias' => '563', 'path' => 'home/annoucnments');
$m[] = array('13' => '563');
$d['home/annoucnments/zionnews20101107'] = 564;
$a[564] = array('id' => 564, 'alias' => 'zionnews20101107', 'path' => 'home/annoucnments');
$m[] = array('13' => '564');
$d['home/annoucnments/565'] = 565;
$a[565] = array('id' => 565, 'alias' => '565', 'path' => 'home/annoucnments');
$m[] = array('13' => '565');
$d['home/annoucnments/566'] = 566;
$a[566] = array('id' => 566, 'alias' => '566', 'path' => 'home/annoucnments');
$m[] = array('13' => '566');
$d['home/annoucnments/567'] = 567;
$a[567] = array('id' => 567, 'alias' => '567', 'path' => 'home/annoucnments');
$m[] = array('13' => '567');
$d['home/annoucnments/568'] = 568;
$a[568] = array('id' => 568, 'alias' => '568', 'path' => 'home/annoucnments');
$m[] = array('13' => '568');
$d['home/annoucnments/zionnews20101114'] = 569;
$a[569] = array('id' => 569, 'alias' => 'zionnews20101114', 'path' => 'home/annoucnments');
$m[] = array('13' => '569');
$d['home/annoucnments/570'] = 570;
$a[570] = array('id' => 570, 'alias' => '570', 'path' => 'home/annoucnments');
$m[] = array('13' => '570');
$d['home/annoucnments/571'] = 571;
$a[571] = array('id' => 571, 'alias' => '571', 'path' => 'home/annoucnments');
$m[] = array('13' => '571');
$d['home/annoucnments/zionnews20101121'] = 572;
$a[572] = array('id' => 572, 'alias' => 'zionnews20101121', 'path' => 'home/annoucnments');
$m[] = array('13' => '572');
$d['home/annoucnments/573'] = 573;
$a[573] = array('id' => 573, 'alias' => '573', 'path' => 'home/annoucnments');
$m[] = array('13' => '573');
$d['home/annoucnments/574'] = 574;
$a[574] = array('id' => 574, 'alias' => '574', 'path' => 'home/annoucnments');
$m[] = array('13' => '574');
$d['home/annoucnments/575'] = 575;
$a[575] = array('id' => 575, 'alias' => '575', 'path' => 'home/annoucnments');
$m[] = array('13' => '575');
$d['home/annoucnments/576'] = 576;
$a[576] = array('id' => 576, 'alias' => '576', 'path' => 'home/annoucnments');
$m[] = array('13' => '576');
$d['home/annoucnments/577'] = 577;
$a[577] = array('id' => 577, 'alias' => '577', 'path' => 'home/annoucnments');
$m[] = array('13' => '577');
$d['home/annoucnments/578'] = 578;
$a[578] = array('id' => 578, 'alias' => '578', 'path' => 'home/annoucnments');
$m[] = array('13' => '578');
$d['home/annoucnments/zionnews20101212'] = 579;
$a[579] = array('id' => 579, 'alias' => 'zionnews20101212', 'path' => 'home/annoucnments');
$m[] = array('13' => '579');
$d['home/annoucnments/580'] = 580;
$a[580] = array('id' => 580, 'alias' => '580', 'path' => 'home/annoucnments');
$m[] = array('13' => '580');
$d['home/annoucnments/581'] = 581;
$a[581] = array('id' => 581, 'alias' => '581', 'path' => 'home/annoucnments');
$m[] = array('13' => '581');
$d['home/annoucnments/582'] = 582;
$a[582] = array('id' => 582, 'alias' => '582', 'path' => 'home/annoucnments');
$m[] = array('13' => '582');
$d['home/annoucnments/583'] = 583;
$a[583] = array('id' => 583, 'alias' => '583', 'path' => 'home/annoucnments');
$m[] = array('13' => '583');
$d['home/annoucnments/584'] = 584;
$a[584] = array('id' => 584, 'alias' => '584', 'path' => 'home/annoucnments');
$m[] = array('13' => '584');
$d['home/annoucnments/zionnews20101219'] = 585;
$a[585] = array('id' => 585, 'alias' => 'zionnews20101219', 'path' => 'home/annoucnments');
$m[] = array('13' => '585');
$d['home/annoucnments/586'] = 586;
$a[586] = array('id' => 586, 'alias' => '586', 'path' => 'home/annoucnments');
$m[] = array('13' => '586');
$d['home/annoucnments/587'] = 587;
$a[587] = array('id' => 587, 'alias' => '587', 'path' => 'home/annoucnments');
$m[] = array('13' => '587');
$d['home/annoucnments/592'] = 592;
$a[592] = array('id' => 592, 'alias' => '592', 'path' => 'home/annoucnments');
$m[] = array('13' => '592');
$d['home/annoucnments/radical2011'] = 590;
$a[590] = array('id' => 590, 'alias' => 'radical2011', 'path' => 'home/annoucnments');
$m[] = array('13' => '590');
$d['home/annoucnments/593'] = 593;
$a[593] = array('id' => 593, 'alias' => '593', 'path' => 'home/annoucnments');
$m[] = array('13' => '593');
$d['home/annoucnments/zionnews20110102'] = 591;
$a[591] = array('id' => 591, 'alias' => 'zionnews20110102', 'path' => 'home/annoucnments');
$m[] = array('13' => '591');
$d['home/annoucnments/594'] = 594;
$a[594] = array('id' => 594, 'alias' => '594', 'path' => 'home/annoucnments');
$m[] = array('13' => '594');
$d['home/annoucnments/595'] = 595;
$a[595] = array('id' => 595, 'alias' => '595', 'path' => 'home/annoucnments');
$m[] = array('13' => '595');
$d['home/annoucnments/zionnews20110109'] = 596;
$a[596] = array('id' => 596, 'alias' => 'zionnews20110109', 'path' => 'home/annoucnments');
$m[] = array('13' => '596');
$d['home/annoucnments/zionnews20110116'] = 599;
$a[599] = array('id' => 599, 'alias' => 'zionnews20110116', 'path' => 'home/annoucnments');
$m[] = array('13' => '599');
$d['home/annoucnments/600'] = 600;
$a[600] = array('id' => 600, 'alias' => '600', 'path' => 'home/annoucnments');
$m[] = array('13' => '600');
$d['home/annoucnments/601'] = 601;
$a[601] = array('id' => 601, 'alias' => '601', 'path' => 'home/annoucnments');
$m[] = array('13' => '601');
$d['home/annoucnments/602'] = 602;
$a[602] = array('id' => 602, 'alias' => '602', 'path' => 'home/annoucnments');
$m[] = array('13' => '602');
$d['home/annoucnments/603'] = 603;
$a[603] = array('id' => 603, 'alias' => '603', 'path' => 'home/annoucnments');
$m[] = array('13' => '603');
$d['home/annoucnments/604'] = 604;
$a[604] = array('id' => 604, 'alias' => '604', 'path' => 'home/annoucnments');
$m[] = array('13' => '604');
$d['home/annoucnments/605'] = 605;
$a[605] = array('id' => 605, 'alias' => '605', 'path' => 'home/annoucnments');
$m[] = array('13' => '605');
$d['home/annoucnments/607'] = 607;
$a[607] = array('id' => 607, 'alias' => '607', 'path' => 'home/annoucnments');
$m[] = array('13' => '607');
$d['home/annoucnments/608'] = 608;
$a[608] = array('id' => 608, 'alias' => '608', 'path' => 'home/annoucnments');
$m[] = array('13' => '608');
$d['home/annoucnments/609'] = 609;
$a[609] = array('id' => 609, 'alias' => '609', 'path' => 'home/annoucnments');
$m[] = array('13' => '609');
$d['home/annoucnments/610'] = 610;
$a[610] = array('id' => 610, 'alias' => '610', 'path' => 'home/annoucnments');
$m[] = array('13' => '610');
$d['home/annoucnments/611'] = 611;
$a[611] = array('id' => 611, 'alias' => '611', 'path' => 'home/annoucnments');
$m[] = array('13' => '611');
$d['home/annoucnments/612'] = 612;
$a[612] = array('id' => 612, 'alias' => '612', 'path' => 'home/annoucnments');
$m[] = array('13' => '612');
$d['home/annoucnments/613'] = 613;
$a[613] = array('id' => 613, 'alias' => '613', 'path' => 'home/annoucnments');
$m[] = array('13' => '613');
$d['home/annoucnments/614'] = 614;
$a[614] = array('id' => 614, 'alias' => '614', 'path' => 'home/annoucnments');
$m[] = array('13' => '614');
$d['home/annoucnments/615'] = 615;
$a[615] = array('id' => 615, 'alias' => '615', 'path' => 'home/annoucnments');
$m[] = array('13' => '615');
$d['home/annoucnments/616'] = 616;
$a[616] = array('id' => 616, 'alias' => '616', 'path' => 'home/annoucnments');
$m[] = array('13' => '616');
$d['home/annoucnments/617'] = 617;
$a[617] = array('id' => 617, 'alias' => '617', 'path' => 'home/annoucnments');
$m[] = array('13' => '617');
$d['home/annoucnments/619'] = 619;
$a[619] = array('id' => 619, 'alias' => '619', 'path' => 'home/annoucnments');
$m[] = array('13' => '619');
$d['home/annoucnments/620'] = 620;
$a[620] = array('id' => 620, 'alias' => '620', 'path' => 'home/annoucnments');
$m[] = array('13' => '620');
$d['home/annoucnments/621'] = 621;
$a[621] = array('id' => 621, 'alias' => '621', 'path' => 'home/annoucnments');
$m[] = array('13' => '621');
$d['home/annoucnments/622'] = 622;
$a[622] = array('id' => 622, 'alias' => '622', 'path' => 'home/annoucnments');
$m[] = array('13' => '622');
$d['home/annoucnments/623'] = 623;
$a[623] = array('id' => 623, 'alias' => '623', 'path' => 'home/annoucnments');
$m[] = array('13' => '623');
$d['home/annoucnments/624'] = 624;
$a[624] = array('id' => 624, 'alias' => '624', 'path' => 'home/annoucnments');
$m[] = array('13' => '624');
$d['home/annoucnments/625'] = 625;
$a[625] = array('id' => 625, 'alias' => '625', 'path' => 'home/annoucnments');
$m[] = array('13' => '625');
$d['home/annoucnments/626'] = 626;
$a[626] = array('id' => 626, 'alias' => '626', 'path' => 'home/annoucnments');
$m[] = array('13' => '626');
$d['home/annoucnments/627'] = 627;
$a[627] = array('id' => 627, 'alias' => '627', 'path' => 'home/annoucnments');
$m[] = array('13' => '627');
$d['home/annoucnments/629'] = 629;
$a[629] = array('id' => 629, 'alias' => '629', 'path' => 'home/annoucnments');
$m[] = array('13' => '629');
$d['home/annoucnments/630'] = 630;
$a[630] = array('id' => 630, 'alias' => '630', 'path' => 'home/annoucnments');
$m[] = array('13' => '630');
$d['home/annoucnments/631'] = 631;
$a[631] = array('id' => 631, 'alias' => '631', 'path' => 'home/annoucnments');
$m[] = array('13' => '631');
$d['home/annoucnments/632'] = 632;
$a[632] = array('id' => 632, 'alias' => '632', 'path' => 'home/annoucnments');
$m[] = array('13' => '632');
$d['home/annoucnments/633'] = 633;
$a[633] = array('id' => 633, 'alias' => '633', 'path' => 'home/annoucnments');
$m[] = array('13' => '633');
$d['home/annoucnments/634'] = 634;
$a[634] = array('id' => 634, 'alias' => '634', 'path' => 'home/annoucnments');
$m[] = array('13' => '634');
$d['home/annoucnments/635'] = 635;
$a[635] = array('id' => 635, 'alias' => '635', 'path' => 'home/annoucnments');
$m[] = array('13' => '635');
$d['home/annoucnments/636'] = 636;
$a[636] = array('id' => 636, 'alias' => '636', 'path' => 'home/annoucnments');
$m[] = array('13' => '636');
$d['home/annoucnments/637'] = 637;
$a[637] = array('id' => 637, 'alias' => '637', 'path' => 'home/annoucnments');
$m[] = array('13' => '637');
$d['home/annoucnments/goodfridaypoll'] = 639;
$a[639] = array('id' => 639, 'alias' => 'goodfridaypoll', 'path' => 'home/annoucnments');
$m[] = array('13' => '639');
$d['home/annoucnments/zionnews20110403'] = 640;
$a[640] = array('id' => 640, 'alias' => 'zionnews20110403', 'path' => 'home/annoucnments');
$m[] = array('13' => '640');
$d['home/annoucnments/641'] = 641;
$a[641] = array('id' => 641, 'alias' => '641', 'path' => 'home/annoucnments');
$m[] = array('13' => '641');
$d['home/annoucnments/642'] = 642;
$a[642] = array('id' => 642, 'alias' => '642', 'path' => 'home/annoucnments');
$m[] = array('13' => '642');
$d['home/annoucnments/643'] = 643;
$a[643] = array('id' => 643, 'alias' => '643', 'path' => 'home/annoucnments');
$m[] = array('13' => '643');
$d['home/annoucnments/644'] = 644;
$a[644] = array('id' => 644, 'alias' => '644', 'path' => 'home/annoucnments');
$m[] = array('13' => '644');
$d['home/annoucnments/645'] = 645;
$a[645] = array('id' => 645, 'alias' => '645', 'path' => 'home/annoucnments');
$m[] = array('13' => '645');
$d['home/annoucnments/646'] = 646;
$a[646] = array('id' => 646, 'alias' => '646', 'path' => 'home/annoucnments');
$m[] = array('13' => '646');
$d['home/annoucnments/zionnews20110410'] = 647;
$a[647] = array('id' => 647, 'alias' => 'zionnews20110410', 'path' => 'home/annoucnments');
$m[] = array('13' => '647');
$d['home/annoucnments/648'] = 648;
$a[648] = array('id' => 648, 'alias' => '648', 'path' => 'home/annoucnments');
$m[] = array('13' => '648');
$d['home/annoucnments/649'] = 649;
$a[649] = array('id' => 649, 'alias' => '649', 'path' => 'home/annoucnments');
$m[] = array('13' => '649');
$d['home/annoucnments/651'] = 651;
$a[651] = array('id' => 651, 'alias' => '651', 'path' => 'home/annoucnments');
$m[] = array('13' => '651');
$d['home/annoucnments/zionnews20110417'] = 652;
$a[652] = array('id' => 652, 'alias' => 'zionnews20110417', 'path' => 'home/annoucnments');
$m[] = array('13' => '652');
$d['home/annoucnments/653'] = 653;
$a[653] = array('id' => 653, 'alias' => '653', 'path' => 'home/annoucnments');
$m[] = array('13' => '653');
$d['home/annoucnments/654'] = 654;
$a[654] = array('id' => 654, 'alias' => '654', 'path' => 'home/annoucnments');
$m[] = array('13' => '654');
$d['home/annoucnments/zionnews20110424'] = 655;
$a[655] = array('id' => 655, 'alias' => 'zionnews20110424', 'path' => 'home/annoucnments');
$m[] = array('13' => '655');
$d['home/annoucnments/656'] = 656;
$a[656] = array('id' => 656, 'alias' => '656', 'path' => 'home/annoucnments');
$m[] = array('13' => '656');
$d['home/annoucnments/657'] = 657;
$a[657] = array('id' => 657, 'alias' => '657', 'path' => 'home/annoucnments');
$m[] = array('13' => '657');
$d['home/annoucnments/658'] = 658;
$a[658] = array('id' => 658, 'alias' => '658', 'path' => 'home/annoucnments');
$m[] = array('13' => '658');
$d['home/annoucnments/659'] = 659;
$a[659] = array('id' => 659, 'alias' => '659', 'path' => 'home/annoucnments');
$m[] = array('13' => '659');
$d['home/annoucnments/660'] = 660;
$a[660] = array('id' => 660, 'alias' => '660', 'path' => 'home/annoucnments');
$m[] = array('13' => '660');
$d['home/annoucnments/661'] = 661;
$a[661] = array('id' => 661, 'alias' => '661', 'path' => 'home/annoucnments');
$m[] = array('13' => '661');
$d['home/annoucnments/662'] = 662;
$a[662] = array('id' => 662, 'alias' => '662', 'path' => 'home/annoucnments');
$m[] = array('13' => '662');
$d['home/annoucnments/zionnews20110508'] = 663;
$a[663] = array('id' => 663, 'alias' => 'zionnews20110508', 'path' => 'home/annoucnments');
$m[] = array('13' => '663');
$d['home/annoucnments/664'] = 664;
$a[664] = array('id' => 664, 'alias' => '664', 'path' => 'home/annoucnments');
$m[] = array('13' => '664');
$d['home/annoucnments/665'] = 665;
$a[665] = array('id' => 665, 'alias' => '665', 'path' => 'home/annoucnments');
$m[] = array('13' => '665');
$d['home/annoucnments/666'] = 666;
$a[666] = array('id' => 666, 'alias' => '666', 'path' => 'home/annoucnments');
$m[] = array('13' => '666');
$d['home/annoucnments/667'] = 667;
$a[667] = array('id' => 667, 'alias' => '667', 'path' => 'home/annoucnments');
$m[] = array('13' => '667');
$d['home/annoucnments/zionnew20110522'] = 668;
$a[668] = array('id' => 668, 'alias' => 'zionnew20110522', 'path' => 'home/annoucnments');
$m[] = array('13' => '668');
$d['home/annoucnments/669'] = 669;
$a[669] = array('id' => 669, 'alias' => '669', 'path' => 'home/annoucnments');
$m[] = array('13' => '669');
$d['home/annoucnments/20110529zionnews'] = 670;
$a[670] = array('id' => 670, 'alias' => '20110529zionnews', 'path' => 'home/annoucnments');
$m[] = array('13' => '670');
$d['home/annoucnments/671'] = 671;
$a[671] = array('id' => 671, 'alias' => '671', 'path' => 'home/annoucnments');
$m[] = array('13' => '671');
$d['home/annoucnments/672'] = 672;
$a[672] = array('id' => 672, 'alias' => '672', 'path' => 'home/annoucnments');
$m[] = array('13' => '672');
$d['home/annoucnments/673'] = 673;
$a[673] = array('id' => 673, 'alias' => '673', 'path' => 'home/annoucnments');
$m[] = array('13' => '673');
$d['home/annoucnments/674'] = 674;
$a[674] = array('id' => 674, 'alias' => '674', 'path' => 'home/annoucnments');
$m[] = array('13' => '674');
$d['home/annoucnments/20110605zionnews'] = 675;
$a[675] = array('id' => 675, 'alias' => '20110605zionnews', 'path' => 'home/annoucnments');
$m[] = array('13' => '675');
$d['home/annoucnments/676'] = 676;
$a[676] = array('id' => 676, 'alias' => '676', 'path' => 'home/annoucnments');
$m[] = array('13' => '676');
$d['home/annoucnments/zionnews20110612'] = 677;
$a[677] = array('id' => 677, 'alias' => 'zionnews20110612', 'path' => 'home/annoucnments');
$m[] = array('13' => '677');
$d['home/ministries/care/christian_counseling'] = 32;
$a[32] = array('id' => 32, 'alias' => 'christian_counseling', 'path' => 'home/ministries/care');
$m[] = array('26' => '32');
$d['home/ministries/care/pastors_aid'] = 33;
$a[33] = array('id' => 33, 'alias' => 'pastors_aid', 'path' => 'home/ministries/care');
$m[] = array('26' => '33');
$d['home/ministries/care/health_safety'] = 34;
$a[34] = array('id' => 34, 'alias' => 'health_safety', 'path' => 'home/ministries/care');
$m[] = array('26' => '34');
$d['home/ministries/care/membership_ministry'] = 35;
$a[35] = array('id' => 35, 'alias' => 'membership_ministry', 'path' => 'home/ministries/care');
$m[] = array('26' => '35');
$d['home/ministries/worship/music_ministry'] = 45;
$a[45] = array('id' => 45, 'alias' => 'music_ministry', 'path' => 'home/ministries/worship');
$m[] = array('27' => '45');
$d['home/ministries/worship/finearts_ministry'] = 89;
$a[89] = array('id' => 89, 'alias' => 'finearts_ministry', 'path' => 'home/ministries/worship');
$m[] = array('27' => '89');
$d['home/ministries/service/ushers_greeters'] = 36;
$a[36] = array('id' => 36, 'alias' => 'ushers_greeters', 'path' => 'home/ministries/service');
$m[] = array('28' => '36');
$d['home/ministries/service/it_media_ministry'] = 37;
$a[37] = array('id' => 37, 'alias' => 'it_media_ministry', 'path' => 'home/ministries/service');
$m[] = array('28' => '37');
$d['home/ministries/service/transportation_ministry'] = 38;
$a[38] = array('id' => 38, 'alias' => 'transportation_ministry', 'path' => 'home/ministries/service');
$m[] = array('28' => '38');
$d['home/ministries/service/hospitality_ministry'] = 39;
$a[39] = array('id' => 39, 'alias' => 'hospitality_ministry', 'path' => 'home/ministries/service');
$m[] = array('28' => '39');
$d['home/ministries/special_events/special_events_ministry'] = 41;
$a[41] = array('id' => 41, 'alias' => 'special_events_ministry', 'path' => 'home/ministries/special_events');
$m[] = array('29' => '41');
$d['home/ministries/fellowship/couples_ministry'] = 42;
$a[42] = array('id' => 42, 'alias' => 'couples_ministry', 'path' => 'home/ministries/fellowship');
$m[] = array('30' => '42');
$d['home/ministries/fellowship/mens_ministry'] = 46;
$a[46] = array('id' => 46, 'alias' => 'mens_ministry', 'path' => 'home/ministries/fellowship');
$m[] = array('30' => '46');
$d['home/ministries/fellowship/womens_ministry'] = 47;
$a[47] = array('id' => 47, 'alias' => 'womens_ministry', 'path' => 'home/ministries/fellowship');
$m[] = array('30' => '47');
$d['home/ministries/christian_education/youth_ministry'] = 48;
$a[48] = array('id' => 48, 'alias' => 'youth_ministry', 'path' => 'home/ministries/christian_education');
$m[] = array('31' => '48');
$d['home/ministries/christian_education/vacation_bible'] = 49;
$a[49] = array('id' => 49, 'alias' => 'vacation_bible', 'path' => 'home/ministries/christian_education');
$m[] = array('31' => '49');
$d['home/ministries/christian_education/sunday_school'] = 44;
$a[44] = array('id' => 44, 'alias' => 'sunday_school', 'path' => 'home/ministries/christian_education');
$m[] = array('31' => '44');
$d['home/ministries/christian_education/bible_study'] = 50;
$a[50] = array('id' => 50, 'alias' => 'bible_study', 'path' => 'home/ministries/christian_education');
$m[] = array('31' => '50');
$d['home/ministries/christian_education/childrens_ministry'] = 52;
$a[52] = array('id' => 52, 'alias' => 'childrens_ministry', 'path' => 'home/ministries/christian_education');
$m[] = array('31' => '52');
$d['home/ministries/christian_education/college_ministry'] = 53;
$a[53] = array('id' => 53, 'alias' => 'college_ministry', 'path' => 'home/ministries/christian_education');
$m[] = array('31' => '53');
$d['home/ministries/care/health_safety/wellness-101'] = 161;
$a[161] = array('id' => 161, 'alias' => 'wellness-101', 'path' => 'home/ministries/care/health_safety');
$m[] = array('34' => '161');
$d['home/ministries/fellowship/mens_ministry/279'] = 279;
$a[279] = array('id' => 279, 'alias' => '279', 'path' => 'home/ministries/fellowship/mens_ministry');
$m[] = array('46' => '279');
$d['home/ministries/fellowship/womens_ministry/girls_ministry'] = 277;
$a[277] = array('id' => 277, 'alias' => 'girls_ministry', 'path' => 'home/ministries/fellowship/womens_ministry');
$m[] = array('47' => '277');
$d['home/ministries/fellowship/womens_ministry/singles_ministry'] = 278;
$a[278] = array('id' => 278, 'alias' => 'singles_ministry', 'path' => 'home/ministries/fellowship/womens_ministry');
$m[] = array('47' => '278');
$d['home/ministries/outreach/outreach_ministry'] = 55;
$a[55] = array('id' => 55, 'alias' => 'outreach_ministry', 'path' => 'home/ministries/outreach');
$m[] = array('54' => '55');
$d['home/59/60'] = 60;
$a[60] = array('id' => 60, 'alias' => '60', 'path' => 'home/59');
$m[] = array('59' => '60');
$d['home/59/content_test'] = 63;
$a[63] = array('id' => 63, 'alias' => 'content_test', 'path' => 'home/59');
$m[] = array('59' => '63');
$d['home/church_contacts/about_mtzion'] = 19;
$a[19] = array('id' => 19, 'alias' => 'about_mtzion', 'path' => 'home/church_contacts');
$m[] = array('73' => '19');
$d['home/74/75'] = 75;
$a[75] = array('id' => 75, 'alias' => '75', 'path' => 'home/74');
$m[] = array('74' => '75');
$d['home/74/335'] = 335;
$a[335] = array('id' => 335, 'alias' => '335', 'path' => 'home/74');
$m[] = array('74' => '335');
$d['home/74/75/member_care_contact'] = 76;
$a[76] = array('id' => 76, 'alias' => 'member_care_contact', 'path' => 'home/74/75');
$m[] = array('75' => '76');
$d['home/74/75/service_contact_form'] = 77;
$a[77] = array('id' => 77, 'alias' => 'service_contact_form', 'path' => 'home/74/75');
$m[] = array('75' => '77');
$d['home/74/75/worship_contact_form'] = 78;
$a[78] = array('id' => 78, 'alias' => 'worship_contact_form', 'path' => 'home/74/75');
$m[] = array('75' => '78');
$d['home/74/75/fellowship_contact_form'] = 79;
$a[79] = array('id' => 79, 'alias' => 'fellowship_contact_form', 'path' => 'home/74/75');
$m[] = array('75' => '79');
$d['home/74/75/christianed_contact_form'] = 80;
$a[80] = array('id' => 80, 'alias' => 'christianed_contact_form', 'path' => 'home/74/75');
$m[] = array('75' => '80');
$d['home/74/75/outreach_contact_form'] = 81;
$a[81] = array('id' => 81, 'alias' => 'outreach_contact_form', 'path' => 'home/74/75');
$m[] = array('75' => '81');
$d['home/survey/survey-thankyou'] = 416;
$a[416] = array('id' => 416, 'alias' => 'survey-thankyou', 'path' => 'home/survey');
$m[] = array('328' => '416');
$d['home/annoucnments/yetpraisehim/yetpraisehimfull'] = 337;
$a[337] = array('id' => 337, 'alias' => 'yetpraisehimfull', 'path' => 'home/annoucnments/yetpraisehim');
$m[] = array('336' => '337');
$d['home/annoucnments/yetpraisehim/606'] = 606;
$a[606] = array('id' => 606, 'alias' => '606', 'path' => 'home/annoucnments/yetpraisehim');
$m[] = array('336' => '606');
$c = &$this->contentTypes;
$c[12] = 'text/xml';
$c[96] = 'text/plain';
$c[171] = 'text/xml';
$c = &$this->chunkCache;
$c['WebLoginSideBar'] = '
<!-- #declare:separator <hr> --> 
<!-- login form section-->
<form method="post" name="loginfrm" action="[+action+]" style="margin: 0px; padding: 0px;"> 
<input type="hidden" value="[+rememberme+]" name="rememberme"> 
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td>
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><b>User:</b></td>
	<td><input type="text" name="username" tabindex="1" onkeypress="return webLoginEnter(document.loginfrm.password);" size="5" style="width: 100px;" value="[+username+]" /></td>
  </tr>
  <tr>
	<td><b>Password:</b></td>
	<td><input type="password" name="password" tabindex="2" onkeypress="return webLoginEnter(document.loginfrm.cmdweblogin);" size="5" style="width: 100px;" value="" /></td>
  </tr>
  <tr>
	<td><label for="chkbox" style="cursor:pointer">Remember me:&nbsp; </label></td>
	<td>
	<table width="100%"  border="0" cellspacing="0" cellpadding="0">
	  <tr>
		<td valign="top"><input type="checkbox" id="chkbox" name="chkbox" tabindex="4" size="1" value="" [+checkbox+] onClick="webLoginCheckRemember()" /></td>
		<td align="right">									
		<input type="submit" value="[+logintext+]" name="cmdweblogin" /></td>
	  </tr>
	</table>
	</td>
  </tr>
  <tr>
	<td colspan="2"><a href="#" onclick="webLoginShowForm(2);return false;">Forget Password?</a></td>
  </tr>
</table>
</td>
</tr>
</table>
</form>
<hr>
<!-- log out hyperlink section -->
<a href=\'[+action+]\'>[+logouttext+]</a>
<hr>
<!-- Password reminder form section -->
<form name="loginreminder" method="post" action="[+action+]" style="margin: 0px; padding: 0px;">
<input type="hidden" name="txtpwdrem" value="0" />
<table border="0">
	<tr>
	  <td>Enter the email address of your account <br />below to receive your password:</td>
	</tr>
	<tr>
	  <td><input type="text" name="txtwebemail" size="24" /></td>
	</tr>
	<tr>
	  <td align="right"><input type="submit" value="Submit" name="cmdweblogin" />
	  <input type="reset" value="Cancel" name="cmdcancel" onclick="webLoginShowForm(1);" /></td>
	</tr>
  </table>
</form>
';
$c['MtZionHeader'] = '		<div id="headertext" title="[(site_name)]">
			<h1><a href="/"><span></span>[(site_name)]</a></h1>
		</div>	
               <div id="headernavigation">
                       [!Wayfinder? &startId=`10` &level=`1` &\'ignoreHidden=`TRUE`!]
               </div>';
$c['mm_demo_rules'] = '
// PHP *is* allowed
// $news_role and $news_tpl will not apply to demo content but are left as a demonstration of what can be done
// For everyone
mm_default(\'pub_date\');
mm_renameField(\'introtext\',\'Summary\');
mm_changeFieldHelp(\'alias\', \'The URL that will be used to reach this resource. Only numbers, letters and hyphens can be used\');
mm_widget_tags(\'documentTags\',\' \'); // Give blog tag editing capabilities to the \'documentTags (3)\' TV
mm_widget_showimagetvs(); // Always give a preview of Image TVs
// mm_widget_colors(\'color\', \'#666666\'); // make a color selector widget for the \'colour\' TV
// For everyone except administrators
mm_hideFields(\'link_attributes\', \'!1\');
mm_hideFields(\'loginName \', \'!1\');
// mm_renameField(\'alias\',\'URL alias\',\'!1\');
// News editors role -- creating a variable makes it easier to manage if this changes in the future
$news_role = \'3\';
mm_hideFields(\'pagetitle,menutitle,link_attributes,template,menuindex,description,show_in_menu,which_editor,is_folder,is_richtext,log,searchable,cacheable,clear_cache\', $news_role);
mm_renameTab(\'settings\', \'Publication settings\', $news_role);	
mm_synch_fields(\'pagetitle,menutitle,longtitle\', $news_role);
mm_renameField(\'longtitle\',\'Headline\', $news_role, \'\', \'This will be displayed at the top of each page\');
// News story template
$news_tpl = \'8\';
// mm_createTab(\'Categories\',\'HrCats\', \'\', $news_tpl, \'\', \'600\');
// mm_moveFieldsToTab(\'updateImage1\', \'general\', \'\', $news_tpl);
// mm_hideFields(\'menuindex,show_in_menu\', \'\', $news_tpl);
mm_changeFieldHelp(\'longtitle\', \'The story\\\'s headline\', \'\', $news_tpl);
mm_changeFieldHelp(\'introtext\', \'A short summary of the story\', \'\', $news_tpl);
mm_changeFieldHelp(\'parent\', \'To move this story to a different folder: Click this icon to activate, then choose a new folder in the tree on the left.\', \'\', $news_tpl);
';
$c['MtZionFooter'] = '		<div id="footer">
			<p>Copyright &copy; [[CopyYears]] <a href="/">[(site_name)]</a><br />
			316 Allen Lewis Drive ~ Cary, NC 27513 <br />
 Telephone:  (919) 469-5323 ~ Fax: (919) 469-3958 
			 </p>
		</div>';
$c['GoodSearch'] = '<a target="_blank" href="/index.php?id=22">
<img src="http://www.goodsearch.com/_gfx/GS_banner_church.gif" alt="GoodSearch church banner" border="0" height="60" width="120" /></a>';
$c['eFeedBackForm'] = '[+validationmessage+]
<form id="feedbackForm" method="post" action="[~[*id*]~]">
    <input type="hidden" name="formid" value="feedbackForm" />
    <p><label accesskey="n" for="Name">Your Name</label>
    <input type="text" name="Name" maxlength="60" eform="Your Name::1:Expected at least two words:#REGEX /^\\w+\\s\\w+/i" /></p>
    <p><label accesskey="e" for="email">Your Email Address</label>
    <input type="text" name="email" size="40" maxlength="40" eform="Your Email Address:email:1" /></p>
    <p><label accesskey="s" for="department">Subject</label>
    <select name="department">
        <option value="1">Website feedback</option>
        <option value="2">Support request</option>
        <option value="3">Feature request</option>
    </select></p>
    <p><label accesskey="c" for="comments">Comments</label>
    <textarea cols="40" rows="10" name="comments" eform="Comments:html:1"></textarea></p>
    <p>
    Please enter the     anti spam code below:<br />
    <img src="[+verimageurl+]" alt="verification code" border="1"/>
    </p>
    <p>
    <label accesskey="c" for="vericode">code</label>
    <input type="text" name="vericode" size="20" />
    </p>
    <p><input type="submit" name="submit" value="Send Feedback"></p>
</form>';
$c['eFeedbackReport'] = '<p>This is a response sent by [+contact_name+] using the feedback form on the Mt. Zion website. The details of the message follow below:</p>
<table>
<tr valign="top"><td>Name:</td><td>[+contact_name+]</td></tr>
<tr valign="top"><td>Email:</td><td>[+contact_email+]</td></tr>
<tr valign="top"><td>comments:</td><td>[+comments+]</td></tr>
</table>
<p>You can use this link to reply: <a href="mailto:[+contact_email+]?subject=RE:[+subject+]">[+contact_email+]</a></p>
';
$c['eFeedBackThanks'] = '<h3>Thank you for your feedback</h3>
<p>Thank you for your feedback. We will address this as soon as possible. </p>
<p>Below is a copy of your message:</p>
<table>
<tr><td>Your name:</td><td>[+contact_name+]</td></tr>
<tr><td>Your email address</td><td>[+contact_email+]</td></tr>
<tr valign="top"><td>Your comments</td><td>[+comments+]</td></tr>
</table>';
$c['eMinistryReport'] = '<p>This is a response sent by [+contact_name+] using the Ministry feedback form on the Mt. Zion website for the [+ministry+]. The details of the message follow below:</p>
<table>
<tr valign="top"><td>Name:</td><td>[+personal_title+] [+contact_name+]</td></tr>
<tr valign="top"><td>Email:</td><td>[+contact_email+]</td></tr>
<tr valign="top"><td>comments:</td><td>[+comments+]</td></tr>
</table>
<p>You can use this link to reply: <a href="mailto:[+contact_email+]?subject=RE:Mt. Zion [+ministry+] Email">[+contact_email+]</a></p>';
$c['ContactForm'] = '<p>[+validationmessage+]</p>
<form id="ContactForm" method="post" action="[~[*id*]~]">
	<p><strong>Bold</strong> fields are required.</p>
	<fieldset>
		<legend>Personal Information</legend>
        <div class="optional">
          <fieldset>
			  <legend>Title:</legend>
			  <label for="title_mr" class="labelRadio compact">
				<input type="radio" name="personal_title" id="title_mr" class="inputRadio" value="Mr."/>
				Mr.
			  </label>
			  <label for="title_mrs" class="labelRadio compact">
				<input type="radio" name="personal_title" id="title_mrs" class="inputRadio" value="Mrs."/>
				Mrs.
			  </label>
			  <label for="title_ms" class="labelRadio compact">
				<input type="radio" name="personal_title" id="subject_partner" class="inputRadio" value="Ms."/>
				Ms.
			  </label>
          </fieldset>
        </div>	
		<div class="required">
			<label for="contact_name">Name:</label>
			<input id="contact_name" name="contact_name" type="text" class="inputText" value="[+contact_name+]" eform="Your Name::1:"/>
		</div>		
		<div class="required">					
			<label for="email">Email:</label>
			<input id="contact_email" name="contact_email" type="text" class="inputText" value="[+contact_email+]" eform="Email Address:email:1"/>
		</div>		
	</fieldset>
	<fieldset>
		<legend>Feedback</legend>
		<div class="required">
			<label for="church_function">Category:</label>
			<select name="feeback_category" id="feeback_category">
				<option value="Church Events">Church Events</option>
				<option value="Web Site">Web Site</option>
			</select> 
		</div>				
		<div class="optional">
			<label accesskey="c" for="comments">Comments:</label>
			<textarea  id="comments" name="comments" eform="Comments:html:1">[+comments+]</textarea>	
		</div>
	</fieldset>
    <div class="submit">
		<div>
			<input type="submit" name="submit" value="submit" />
			<input type="reset" value="Reset" />
		</div>
	</div>
</form>';
$c['DittoNews'] = '<div id="news_item">
        <h3><span>[+pagetitle+]</span></h3>
        <p>[+content+]</p>
        <div class="date">[+date+]</div>
</div>
';
$c['ePrayerThanks'] = '<p>[+contact_name+],</p>
<p>Thank you for sending us your Prayer Request. If you have asked us to contact you, we will be using the following information:</p>
<p><strong>E-mail:</strong> [+contact_email+]<br />
<strong>Telephone:</strong> [+contact_phone+]</p>
<p>If any of this information is incorrect, please go back to the feedback form
and change it. We thank you for taking the time to help us be a better company.</p>
<p>Sincerely,</p>
<p><em>Mt. Zion</em></p>';
$c['ePrayerForm'] = '<p>[+validationmessage+]</p>
<form id="prayerForm" method="post" action="[~[*id*]~]" enctype="multipart/form-data">
	<fieldset>
		<legend>Contact Information</legend>
		<div class="optional">
			<label for="contact_name">Name:</label>
			<input name="contact_name" id="contact_name" type="text" class="inputText" value="[+contact_name+]"  />
		</div>
		<div class="optional">
			<label for="contact_phone">Phone:</label>
			<input name="contact_phone" id="contact_phone" type="text" class="inputText" value="[+contact_phone+]"  />
		</div>
		<div class="optional">
			<label for="contact_email">Email:</label>
			<input id="contact_email" name="contact_email" type="text" class="inputText" value="[+contact_email+]" eform="Email Address:email:"/>
		</div>
	</fieldset>
	<fieldset>
		<legend>Prayer Request</legend>			
		<div class="required">
			<textarea name="request" id="request" class="long" eform="Prayer Request:html:1">[+request+]</textarea>
		</div>
	</fieldset>	
    <div class="submit">
		<div>
			<input type="submit" name="submit" value="submit" />
			<input type="reset" value="Reset" />
		</div>
	</div>
</form>';
$c['ePrayerResponse'] = '<p>This is a prayer request sent by [+contact_name+] using the feedback form on the website. The details of the message follow below:</p>
<table>
<tr valign="top"><td>Name:</td><td>[+contact_name+]</td></tr>
<tr valign="top"><td>Email:</td><td>[+contact_email+]</td></tr>
<tr vailgn="top"><td>Phone:</td><td>[+contact_phone+]</td></tr>
<tr valign="top"><td>Request::</td><td>[+request+]</td></tr>
</table>';
$c['eMediaForm'] = '<p>[+validationmessage+]</p>
<form id="mediaRequestForm" method="post" action="[~[*id*]~]" enctype="multipart/form-data">
	 <p><strong>Bold</strong> fields are required.</p>
	<fieldset>
		<legend>Personal Information</legend>
        <div class="notes">
          <h4>Personal Information</h4>
          <p class="last">Please enter your name and address so that we may be able to appropriately deliver your order to you.</p>
        </div>		
        <div class="optional">
          <fieldset>
			  <legend>Title:</legend>
			  <label for="title_mr" class="labelRadio compact">
				<input type="radio" name="personal_title" id="title_mr" class="inputRadio" value="Mr."/>
				Mr.
			  </label>
			  <label for="title_mrs" class="labelRadio compact">
				<input type="radio" name="personal_title" id="title_mrs" class="inputRadio" value="Mrs."/>
				Mrs.
			  </label>
			  <label for="title_ms" class="labelRadio compact">
				<input type="radio" name="personal_title" id="subject_partner" class="inputRadio" value="Ms."/>
				Ms.
			  </label>
          </fieldset>
        </div>		
		<div class="required">
			<label for="first_name">First Name:</label>
			<input type="text" class="inputText"  name="first_name" id="first_name" value="[+first_name+]" eform="Your First Name::1:Please provide your first name" />
		</div>
		<div class="required">	
			<label for="last_name">Last Name:</label>
			<input type="text" class="inputText"  name="last_name" id="last_name" value="[+last_name+]" eform="Your Last Name::1:Please provide your last name" />
		</div>
		<div class="optional">
			<label for="street_address1">Street Address:</label>
			<input type="text" class="inputText"  name="street_address1" id="street_address1" value="[+street_address1+]" eform="Street Address:::" />
			<input type="text" class="inputText"  name="street_address2" id="street_address2" value="[+street_address2+]" eform="Street Address:::" />
		</div>
		<div class="optional">
			<label for="city">City:</label>
			<input type="text" class="inputText"  name="city" id="city" value="[+city+]" eform="City:::" />
		</div>
		<div class="optional">		
			<label for="state">State/Province:</label>
			<input type="text" class="inputText"  name="state" id="state" value="[+state+]" eform="State or Provicne:::" />
		</div>
		<div class="optional">	
			<label for="zip_code">Zip Code:</label>
			<input type="text" class="inputText"  name="zip_code" id="zip_code" value="[+zip_code+]" eform="Zip Code:::" />		
		</div>
	</fieldset>
	<fieldset>
		<legend>Contact Information</legend>	
        <div class="notes">
          <h4>Contact Information</h4>
          <p class="last">Please provide both your Home Phone number and a valid email address so that we may reach you in the event we have any questions about your purchase.</p>
        </div>		
        <div class="optional">
          <fieldset>
			  <legend>How to Best Contact You?</legend>
			  <label for="how_contact_phone" class="labelRadio compact">
				<input type="radio" name="how_contact" id="how_contact_phone" class="inputRadio" value="Phone"/>
				Phone
			  </label>
			  <label for="how_contact_email" class="labelRadio compact">
				<input type="radio" name="how_contact" id="how_contact_email" class="inputRadio" value="Email" checked="checked"/>
				Email
			  </label>
          </fieldset>
        </div>		
		<div class="required">	
			<label for="home_phone">Home Phone:</label>
			<input type="text" class="inputText"  name="home_phone" id="home_phone"  value="[+home_phone+]"  eform="Home Phone Number:::" />		
		</div>	
		<div class="optional">	
			<label for="work_phone">Work Phone:</label>
			<input type="text" class="inputText"  name="work_phone" id="work_phone" value="[+work_phone+]" eform="Work Phone Number:::" />		
		</div>
		<div class="required">					
			<label for="email">Email:</label>
			<input id="email" name="email" type="text" class="inputText"  value="[+email+]" eform="Email Address:email:1"/>
		</div>			
	</fieldset>
	<fieldset>
		<legend>Purchase Information</legend>
        <div class="notes">
          <h4>Purchase Information</h4>
          <p >Please Select the Function you wish to Purchase.</p>
		  <p class="last">Cost per Item:
		  	<ul>
			    <li>Free CD</li>
				<li>$10.00 DVD</li>
			</ul>
		  </p>
        </div>		
        <div class="required">
          <fieldset>
          	<legend>Media Type:</legend>
          	<label for="media_type_1" class="labelCheckbox">
    	      <input type="checkbox" name="media_type" id="media_type_1" class="inputCheckbox" value="CD-ROM"/>
        	  CD-ROM
			</label>
          	<label for="media_type_2" class="labelCheckbox">
         	 	<input type="checkbox" name="media_type" id="media_type_2" class="inputCheckbox" value="DVD"/>
	         	 DVD
			</label>
          </fieldset>
        </div>				
		<div class="required">
			<label for="church_function">Function:</label>
			<select name="church_function" id="church_function">
				<option value="">Select Service</option>
				<option value="9:45 am Service">9:45 am Service</option>
				<option value="Bible Study">Bible Study</option>
				<option value="Anniversary Service">Anniversary Service</option>
				<option value="Other">Other</option>
			</select> 
		</div>
		<div class="optional">
			<label for="other_function">Other:</label>
			<input type="text" class="inputText"  name="other_function" id="other_function" value="[+other_function+]" eform="Other:::" />
			<small>Only use if event not in list</small>
		</div>		
		<div class="required">
			<label for="event_date">Event Date:</label>
			<input type="text" class="inputText"  name="event_date" id="event_date" value="[+event_date+]" eform="Event Date:date:1:" />
		</div>
		<div class="required">
			<label for="copy_number">Number of Copies:</label>
			<input type="text" class="inputText"  name="copy_number" id="copy_number" value="[+copy_number+]" eform="Number of Copies::1" />
		</div>
		<div class="optional">
			<label for="comments">	Comments / Additional Information?</label>
			<textarea name="comments" id="comments">[+comments+]</textarea>
		</div>
	</fieldset>
    <div class="submit">
		<div>
			<input type="submit" name="submit" value="submit" />
			<input type="reset" value="Reset" />
		</div>
	</div>
</form>';
$c['eMediaEmail'] = '<p>The following media request was submitted by [+first_name+] [+last_name+] for the [+event_date+] [+church_function+] [+other_function+].</p>
<p>
Name: [+first_name+] [+last_name+] <br />
Street Address: [+street_address1+] <br />
				[+street_address2+] <br />
City: [+city+]<br />
State/Provice: [+state+] <br/>
Zip Code: [+zip_code+] <br />
Home Phone: [+home_phone+] <br />
Work Phone: [+work_phone+]  <br />
Email: [+email+]  <br />
Function: [+church_function+] <br />
Other: [+other_function+] <br />
Media Type:	[+media_type+]  <br />
Event Date: [+event_date+] <br />
Number of Copies: [+copy_number+] <br />
Additional Information: [+comments+] <br />
</p>		
';
$c['eMediaThanks'] = '<p>Thank you for your request for<strong> [+church_function+]</strong> that occurred on <strong>[+event_date+]</strong>. We will be in contact with you to confirm your request and to provide you with an estimate of when to expect your request. Please note that you have <strong>30 days</strong> 
from the time that we contact you to pick up your order. We will reach you through one of the
following:</p>
<p><strong>NOTE: </strong>If you desire to make additional media request, click the
    back button on your browser so that you will not have to retype your
    personal information. Then just change the requested event and press
    submit.</p>';
$c['MinistryBoxes'] = '<div id="[+div_id+]">
      <h4>[+title+]</h4>
      [[Wayfinder? &startId=`[+page_id+]` &level=`0`]]
</div>';
$c['eMinistryForm'] = '<p>[+validationmessage+]</p>
<form id="feedbackForm" method="post" action="[~[*id*]~]">
	<h4>Communicate with [+ministry+]</h4>
	<p><strong>Bold</strong> fields are required.</p>
	<fieldset>
		<legend>Personal Information</legend>
        <div class="optional">
          <fieldset>
			  <legend>Title:</legend>
			  <label for="title_mr" class="labelRadio compact">
				<input type="radio" name="personal_title" id="title_mr" class="inputRadio" value="Mr."/>
				Mr.
			  </label>
			  <label for="title_mrs" class="labelRadio compact">
				<input type="radio" name="personal_title" id="title_mrs" class="inputRadio" value="Mrs."/>
				Mrs.
			  </label>
			  <label for="title_ms" class="labelRadio compact">
				<input type="radio" name="personal_title" id="subject_partner" class="inputRadio" value="Ms."/>
				Ms.
			  </label>
          </fieldset>
        </div>	
		<div class="required">
			<label for="contact_name">Name:</label>
			<input id="contact_name" name="contact_name" type="text" class="inputText" value="[+contact_name+]" eform="Your Name::1:"/>
		</div>		
		<div class="required">					
			<label for="email">Email:</label>
			<input id="contact_email" name="contact_email" type="text" class="inputText" value="[+contact_email+]" eform="Email Address:email:1"/>
		</div>		
	</fieldset>
	<fieldset>
		<legend>Feedback</legend>		
		<div class="optional">
			<label accesskey="c" for="comments">Comments:</label>
			<textarea  id="comments" name="comments" eform="Comments:html:1">[+comments+]</textarea>	
		</div>
	</fieldset>
    <div class="submit">
		<div>
			<input type="submit" name="submit" value="submit" />
			<input type="reset" value="Reset" />
		</div>
	</div>
	<input type="hidden" name="ministry_id" value="[+ministry_id+]" eform="Hidden Field:integer:1::#RANGE 1~100" />
	<input type="hidden" name="ministry" value="[+ministry+]" eform="::0::" />
</form>';
$c['eMarketingForm'] = '<p>[+validationmessage+]</p>
<form id="marketingRequestForm" method="post" action="[~[*id*]~]" enctype="multipart/form-data">
	 <p><strong>Bold</strong> fields are required.</p>
	<fieldset>
		<legend>Contact Information</legend>	
        <div class="notes">
          <h4>Contact Information</h4>
          <p class="last">In order for us to contact please provide your name and the best way for us to contact you so that we may be able to best provide service to you.</p>
        </div>		
		<div class="required">
			<label for="first_name">First Name:</label>
			<input type="text" class="inputText"  name="first_name" id="first_name" value="[+first_name+]" eform="Your First Name::1:Please provide your first name" />
		</div>
		<div class="required">	
			<label for="last_name">Last Name:</label>
			<input type="text" class="inputText"  name="last_name" id="last_name" value="[+last_name+]" eform="Your Last Name::1:Please provide your last name" />
		</div>	
        <div class="optional">
          <fieldset>
			  <legend>How to Best Contact You?</legend>
			  <label for="how_contact_phone" class="labelRadio compact">
				<input type="radio" name="how_contact" id="how_contact_phone" class="inputRadio" value="Phone"/>
				Phone
			  </label>
			  <label for="how_contact_email" class="labelRadio compact">
				<input type="radio" name="how_contact" id="how_contact_email" class="inputRadio" value="Email" checked="checked"/>
				Email
			  </label>
          </fieldset>
        </div>		
		<div class="required">	
			<label for="home_phone">Home Phone:</label>
			<input type="text" class="inputText"  name="home_phone" id="home_phone"  value="[+home_phone+]"  eform="Home Phone Number:::" />		
		</div>	
		<div class="optional">	
			<label for="work_phone">Work Phone:</label>
			<input type="text" class="inputText"  name="work_phone" id="work_phone" value="[+work_phone+]" eform="Work Phone Number:::" />		
		</div>
		<div class="required">					
			<label for="email">Email:</label>
			<input id="email" name="email" type="text" class="inputText"  value="[+email+]" eform="Email Address:email:1"/>
		</div>			
	</fieldset>
	<fieldset>
		<legend>Request Information</legend>
        <div class="notes">
          <h4>Request Information</h4>
		  <p class="last">Please give us information about the event you would like to promote.  Be as detailed as you can, and we will get in touch with you for any follow-up concerns we may have. </p>
        </div>			
		<div class="required">
			<label for="event_type">Event Type:</label>
			<select name="event_type" id="event_type" eform="Home Phone Number:::" >
				<option value=""> - Select a Value - </option>
				<option value="Flyer">Flyer</option>
				<option value="Power Point">Power Point</option>
				<option value="Image">Image</option>
				<option value="Banner">Banner</option>
				<option value="News Letter Entry">News  Letter Entry</option>
                                <option value="Other">Other</option>
			</select>
		</div>
		<div class="required">
			<label for="comments">	Comments / Additional Information?</label>
			<textarea name="comments" id="comments" eform="Home Phone Number:::" >[+comments+]</textarea>
		</div>
	</fieldset>
    <div class="submit">
		<div>
			<input type="submit" name="submit" value="submit" />
			<input type="reset" value="Reset" />
		</div>
	</div>
</form>';
$c['eMinistryThanks'] = '<h4>Thank You for Contacting the [+ministry+]</h4>
<p>Your feedback has been received and will be forwarded to someone who will address your response shortly</p>';
$c['eMinistryAutoMessage'] = '<p>Thank You for submitting your comment to the [+ministry+].</p>  Your feedback is greatly appreciated.  Here is what was submitted to us</p>
<p>
<strong>Name:</strong> [+personal_title+] [+contact_name+] <br />
<strong>Email:</strong> [+personal_email+] <br />
<strong>Comments:</strong> [+comments+]
</p>
<p>Please DO NOT reply to this email. </p>';
$c['eMarketingReport'] = '<p>This is a request sent by [+first_name+] [+last_name+] using the marketing ministry request form on the Mt. Zion website. The details of the message follow below:</p>
<table>
<tr valign="top"><td>Name:</td><td>[+first_name+] [+last_name+]</td></tr>
<tr valign="top"><td>How to Contact</td><td>[+how_contact+]</td></tr>
<tr valign="top"><td>Email:</td><td>[+email+]</td></tr>
<tr valign="top"><td>Home Phone:</td><td>[+home_phone+]</td></tr>
<tr valign="top"><td>Work Phone:</td><td>[+work_phone+]</td></tr>
<tr valign="top"><td>Request Type:</td><td>[+event_type+]</td></tr>
<tr valign="top"><td>comments:</td><td>[+comments+]</td></tr>
</table>
<p>You can use this link to reply: <a href="mailto:[+email+]">[+email+]</a></p>';
$c['eMarketingThanks'] = '<p>Thank you [+first_name+], for your request.  Someone from the Marketing Ministry will contact you within the next couple of days to assist you.</p>';
$c['ChurchesHelpingChurches'] = '<p><a href="http://pastorharrisblog.blogspot.com/2010/04/rebuilding-churches-in-haiti.html"><img src="assets/images/churchesHelpingChurches.png" alt="Churches Helping Churches" width="150" height="59" /></a></p>';
$c['CBLogin'] = '<!--<form id="form1" action="http://www.congregationbuilder.com/cb/home.aspx" method="post" name="form1">
<input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="" />
<input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" />
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTIwNTI2ODM1MDgPZBYCZg9kFgYCAQ8PFgIeBFRleHQFF0NvbmdyZWdhdGlvbkJ1aWxkZXIuQ29tZGQCAg8PFgIeB1Zpc2libGVnZGQCEg8WBB4UU2xpZGVTaG93U2VydmljZVBhdGgFElNsaWRlc1NlcnZpY2UuYXNteB4WU2xpZGVTaG93U2VydmljZU1ldGhvZAUJR2V0U2xpZGVzZBgBBR5fX0NvbnRyb2xzUmVxdWlyZVBvc3RCYWNrS2V5X18WBQUMSW1hZ2VCdXR0b24xBQxJbWFnZUJ1dHRvbjIFDEltYWdlQnV0dG9uMwUMSW1hZ2VCdXR0b240BQxJbWFnZUJ1dHRvbjWxg5t/etPOFuZ7KTVBvCjFFr2RRw==" />
<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEWBwLI64n2CAK5o9vTCQLSwpnTCALSwtXkAgLSwsGJCgLSwv2aBALSwum/C4vzymiEUkZ0i8aCk2bPycfMcIq7" />
<input type="submit" id="btnMemberLogin" value="Congregation Builder Login" name="btnMemberLogin">
</form>-->
';
$c['MtZionTwitter'] = '<p><a href="http://twitter.com/mtzioncary"><img alt="Follow mtzioncary on Twitter" height="55" src="assets/images/twitter.png" title="Follow mtzioncary on Twitter" width="148" border="0"/></a></p>';
$s = &$this->snippetCache;
$s['AjaxSearch'] = '/* -----------------------------------------------------------------------------
  Created by:
      Coroico (coroico@wangba.fr)
      Jason Coward (opengeek - jason@opengeek.com)
      Kyle Jaebker (kylej - kjaebker@muddydogpaws.com)
      Ryan Thrash  (rthrash - ryan@vertexworks.com)
      Live Search by Thomas (Shadock)
      Fixes & Additions by identity/Perrine/mikkelwe
      Document selection from Ditto by Mark Kaplan
  Originally based on the FlexSearchForm snippet created by jaredc (jaredc@honeydewdesign.com)
--------------------------------------------------------------------------------
:: Description
--------------------------------------------------------------------------------
    The AjaxSearch snippet is an enhanced version of the original FlexSearchForm
    snippet for MODx. This snippet adds AJAX functionality on top of the robust
    content searching.
    - search in title, description, content and TVs of documents
    - search in a subset of documents
    - highlighting of searchword in the results returned
    It could works in two modes:
    ajaxSearch mode :
    - Search results displayed in current page through AJAX request
    - Multiple search options including live search and non-AJAX option
    - Available link to view all results in a new page when only a subset is retuned
    - Customize the number of results returned
    - Uses the MooTools js library for AJAX and visual effects
    non-ajaxSearch mode :
    - Search results displayed in a new page
    - customize the paginating of results
    - works without JS enabled as FlexSearchForm
    - designed to load only the required FSF code
MORE : See the ajaxSearch.readme.txt file for more informations
----------------------------------------------------------------------------- */
global $modx;
// ajaxSearch version being executed
define(\'AS_VERSION\', \'1.8.4\');
// Path where ajaxSearch is installed
define(\'AS_SPATH\', \'assets/snippets/ajaxSearch/\');
//include snippet file
define (\'AS_PATH\', $modx->config[\'base_path\'].AS_SPATH);
//------------------------------------------------------------------------------
// Configure - general AjaxSearch snippet setup options
//------------------------------------------------------------------------------
// Load the default configuration $dcfg to get the default values
$as_default = AS_PATH . \'configs/default.config.php\';
if (file_exists($as_default)) include $as_default;
else return  "<h3> $as_default not found !<br />Check the existing of this file!</h3>";
if (!isset($dcfg)) return  "<h3> default configuration array not defined in $as_default!<br /> Check the content of this file!</h3>";
$cfg = array();  // final configuration
// Load a custom configuration file if required
// config_name - Other config installed in the configs folder or in any folder within the MODx base path via @FILE
// Configuration files should be named in the form: <config_name>.config.php
// Default: \'\' - no custom config
$cfg[\'config\'] = isset($config) ? $config : $dcfg[\'config\'];
if ($cfg[\'config\']){
  $config = $cfg[\'config\'];
  $as_config = (substr($config, 0, 5) != "@FILE") ? AS_PATH."configs/$config.config.php" : $modx->config[\'base_path\'].trim(substr($config, 5));
  if (file_exists($as_config)) include $as_config;
  else return  "<h3>" .$as_config . " not found !<br />Check your config parameter or your config file name!</h3>";
}
// &debug = [ 0 | 1 | 2 | 3 | -1 | -2 | -3 ]
// 1,2,3 : File mode - Output logged into a file named ajaxSearch_log.txt in the ajaxSearch folder
// -1,-2,-3 : FireBug mode. The trace is logged into the Firebug console of Mozilla.
// Default: 0 - no logs
$cfg[\'debug\'] = isset($debug)? $debug : (isset($__debug)? $__debug : $dcfg[\'debug\']);
// &language [ language_name | manager_language ] (optional)
// Default: $modx->config[\'manager_language\'] - manager language used
$cfg[\'language\'] = isset($language) ? $language : (isset($__language) ? $__language : $dcfg[\'language\']);
// &ajaxSearch [1 | 0] (as passed in snippet variable ONLY)
// Use this to display the search results using ajax You must include the Mootools library in your template
// Default: 1 - ajax mode selected
$cfg[\'ajaxSearch\'] = isset($ajaxSearch) ? $ajaxSearch : (isset($__ajaxSearch) ? $__ajaxSearch : $dcfg[\'ajaxSearch\']);
// &advSearch [ \'exactphrase\' | \'allwords\' | \'nowords\' | \'oneword\' ]
// Advanced search:
// - exactphrase : provides the documents which contain the exact phrase
// - allwords : provides the documents which contain all the words
// - nowords : provides the documents which do not contain the words
// - oneword : provides the document which contain at least one word
// Default: \'oneword\'
$cfg[\'advSearch\'] = isset($advSearch) ? $advSearch : (isset($__advSearch) ? $__advSearch : $dcfg[\'advSearch\']);
// &whereSearch
// Define where should occur the search
// a separated list of keywords describing the tables where to search
// keywords allowed :
// "content" for site_content, "tv" for site_tmplvar_contentvalues, "jot" for jot_content, "maxigallery" for maxigallery
// you could add your own keywords. But the keyword should be a user function which describes the tables to use
// all the text fields are searchable but you could specify the fields like this:
// whereSearch=`content:pagetitle,introtext,content|tv:tv_value|maxigallery:gal_title`
// Default: \'content|tv\'
$cfg[\'whereSearch\'] = isset($whereSearch) ? $whereSearch : (isset($__whereSearch) ? $__whereSearch : $dcfg[\'whereSearch\']);
// &subSearch  [ int , int ]
// Define the maximum number of choice and the default choice selected
// Default: \'5,1\' - 5 choices and default choice 1 selected
$cfg[\'subSearch\'] = isset($subSearch) ? $subSearch : (isset($__subSearch) ? $__subSearch : $dcfg[\'subSearch\']);
// &withTvs - Define which Tvs are used for the search in Tvs
// a comma separated list of TV names
// Default: \'\' - all TVs are used (empty list)
$cfg[\'withTvs\'] = isset($withTvs) ? $withTvs : (isset($__withTvs) ? $__withTvs : $dcfg[\'withTvs\']);
// &order - Define the sort order of results
// Comma separated list of fields defined as searchable in the table definition
// to suppress the sorting, use &order=``
// Default: \'pub_date,pagetitle\'
$cfg[\'order\'] = isset($order) ? $order : (isset($__order) ? $__order : $dcfg[\'order\']);
// &rank - Define the rank of search results. Results are sorted by rank value
// Comma separated list of fields with optionally user defined weight
// Default: \'pagetitle:100,extract\'
// to suppress the rank sorting, use &rank=``;
// &rank sort occurs after the &order sort
$cfg[\'rank\'] = isset($rank) ? $rank : (isset($__rank) ? $__rank : $dcfg[\'rank\']);
// &maxWords [ 1 < int < 10 ]
// Maximum number of words for searching
// Default: 5
$cfg[\'maxWords\'] = isset($maxWords) ? intval($maxWords) : (isset($__maxWords) ? intval($__maxWords) : $dcfg[\'maxWords\']);
// &minChars [  2 < int < 100 ]
// Minimum number of characters to require for a word to be valid for searching.
// length of each word with $advSearch = \'allwords\', \'oneword\' or \'nowords\'
// length of the search string with possible spaces with $advSearch = \'exactphrase\'
// Default: 3
$cfg[\'minChars\'] = isset($minChars) ? intval($minChars) : (isset($__minChars) ? intval($__minChars) : $dcfg[\'minChars\']);
// &AS_showForm [0 | 1]
// If you would like to turn off the search form when showing results you can set this to false.(1=true, 0=false)
// Default: 1
$cfg[\'AS_showForm\'] = isset($AS_showForm ) ? $AS_showForm : (isset($__AS_showForm ) ? $__AS_showForm : $dcfg[\'AS_showForm\']);
// &resultsPage [int]
// The default behavior is to show the results on the current page, but you may define the results page any way you like. The priority is:
// 1- snippet variable - set in page template like this: [[AjaxSearch? AS_landing=int]]
//    where int is the page id number of the page you want your results on
// 2- querystring variable AS_form
// 3- variable set here
// 4- use current page
// This is VERY handy when you want to put the search form in a discrete and/or small place
// on your page - like a side column, but don\'t want all your results to show up there!
// Set to results page or leave 0 as default
$cfg[\'resultsPage\'] = $dcfg[\'resultsPage\'];
// &grabMax [ int ]
// Set to the max number of records you would like on each page. Set to 0 if unlimited.
// Default: 10
$cfg[\'grabMax\'] = isset($grabMax)? intval($grabMax) : (isset($__grabMax)? intval($__grabMax) : $dcfg[\'grabMax\']);
// &extract [ n:searchable fields list | 1:content,description,introtext,tv_content]
// show the search terms highlighted in a little extract
// n : maximum number of extracts displayed
// ordered searchable fields list : separated list of fields define as searchable in the table definition
// Default: \'1:content,description,introtext,tv_value\' - One extract from content then description,introtext,tv_value
$cfg[\'extract\'] = isset($extract) ? $extract : (isset($__extract) ? $__extract : $dcfg[\'extract\']);
// &extractLength [ 50 < int < 800]
// Length of extract around the search words found - between 50 and 800 characters
// Default: 200
$cfg[\'extractLength\'] = isset($extractLength) ? intval($extractLength) : (isset($__extractLength) ? intval($__extractLength) : $dcfg[\'extractLength\']);
// &extractEllips [ string ]
// Ellipside to mark the star and the end of  an extract when the sentence is cutting
// Default: \'...\'
$cfg[\'extractEllips\'] = isset($extractEllips) ? $extractEllips : (isset($__extractEllips) ? $__extractEllips : $dcfg[\'extractEllips\']);
// &extractSeparator [ string ]
// Any html tag to mark the separation between extracts
// Default: \'<br />\' - but you could also choose for instance \'<hr />\'
$cfg[\'extractSeparator\'] = isset($extractSeparator) ? $extractSeparator : (isset($__extractSeparator) ? $__extractSeparator : $dcfg[\'extractSeparator\']);
// &formatDate [ string ]
// The format of outputted dates. See http://www.php.net/manual/en/function.date.php
// Default: \'d/m/y : H:i:s\' - e.g: 21/01/08 : 23:09:22
$cfg[\'formatDate\'] = isset($formatDate) ? $formatDate : (isset($__formatDate) ? $__formatDate : $dcfg[\'formatDate\']);
// &highlightResult [1 | 0]
// create links so that search terms will be highlighted when linked page clicked
// Default: 1 - Results highlighted
$cfg[\'highlightResult\'] = isset($highlightResult) ? $highlightResult : (isset($__highlightResult) ? $__highlightResult : $dcfg[\'highlightResult\']);
// &pageLinkSeparator [ string ]
// What you want, if anything, between your page link numbers
// Default: \' | \'
$cfg[\'pageLinkSeparator\'] = isset($pageLinkSeparator) ? $pageLinkSeparator : (isset($__pageLinkSeparator) ? $__pageLinkSeparator : $dcfg[\'pageLinkSeparator\']);
// &showPagingAlways[1 | 0]
// Determine whether or not to always show paging
$cfg[\'showPagingAlways\'] = isset($showPagingAlways) ? $showPagingAlways : (isset($__showPagingAlways) ? $__showPagingAlways : $dcfg[\'showPagingAlways\']);
// &AS_landing  [int] set the page to show the results page (non Ajax search)
// Default: false
$cfg[\'AS_landing\'] = isset($AS_landing) ? $AS_landing : (isset($__AS_landing) ? $__AS_landing : $dcfg[\'AS_landing\']);
// &AS_showResults  [1 | 0]  establish whether to show the results or not
// Default: 1
$cfg[\'AS_showResults\'] = isset($AS_showResults) ? $AS_showResults : (isset($__AS_showResults) ? $__AS_showResults : $dcfg[\'AS_showResults\']);
// &parents [ comma separated list of IDs | \'\' ]
// IDs of documents to retrieve their children to &depth depth  where to do the search
// Default: \'\' - empty list
$cfg[\'parents\'] = isset($parents) ? $parents : (isset($__parents) ? $__parents : $dcfg[\'parents\']);
// &documents [ comma separated list of IDs | \'\' ]
// IDs of documents where to do the search
// Default: \'\' - empty list
$cfg[\'documents\'] = isset($documents) ? $documents : (isset($__documents) ? $__documents : $dcfg[\'documents\']);
// &depth [ 0 < int ] Number of levels deep to retrieve documents
// Default: 10
$cfg[\'depth\'] = isset($depth) ? intval($depth): (isset($__depth) ? intval($__depth) : $dcfg[\'depth\']);
// &hideMenu [0 | 1| 2]  Search in hidden documents from menu.
// 0 - search only in documents visible from menu
// 1 - search only in documents hidden from menu
// 2 - search in hidden or visible documents from menu
// Default: 2
$cfg[\'hideMenu\'] = isset($hideMenu) ? $hideMenu : (isset($__hideMenu) ? $__hideMenu : $dcfg[\'hideMenu\']);
// &hideLink [0 | 1 ]   Search in content of type reference (link)
// 0 - search only in content of type document
// 1 - search in content of type document AND reference
// Default: 1
$cfg[\'hideLink\'] = isset($hideLink) ? $hideLink : (isset($__hideLink) ? $__hideLink : $dcfg[\'hideLink\']);
// &filter - Basic filtering : remove unwanted documents that meets the criteria of the filter
// See Ditto 2 Basic filtering for more information
// Default: \'\' - empty list
$cfg[\'filter\'] = isset($filter) ? $filter : (isset($__filter) ? $__filter : $dcfg[\'filter\']);
// &tplLayout - Chunk to style the ajaxSearch input form and layout
// Default: \'@FILE:\' . AS_SPATH . \'templates/layout.tpl.html\'
$cfg[\'tplLayout\'] = isset($tplLayout) ? $tplLayout : (isset($__tplLayout) ? $__tplLayout : $dcfg[\'tplLayout\']);
// &tplResults - Chunk to style the non-ajax output results outer
// Default: \'@FILE:\' . AS_SPATH . \'templates/results.tpl.html\'
$cfg[\'tplResults\'] = isset($tplResults) ? $tplResults : (isset($__tplResults) ? $__tplResults : $dcfg[\'tplResults\']);
// &tplResult - Chunk to style each output result
// Default: "@FILE:" . AS_SPATH . \'templates/result.tpl.html\'
$cfg[\'tplResult\'] = isset($tplResult) ? $tplResult : (isset($__tplResult) ? $__tplResult : $dcfg[\'tplResult\']);
// &tplComment - Chunk to style the comment form (Also used with the ajax mode)
// Default: \'@FILE:\' . AS_SPATH . \'templates/comment.tpl.html\'
$cfg[\'tplComment\'] = isset($tplComment) ? $tplComment : (isset($__tplComment) ? $__tplComment : $dcfg[\'tplComment\']);
// &tplPaging - Chunk to style the paging links
// Default: \'@FILE:\' . AS_SPATH . \'templates/paging.tpl.html\'
$cfg[\'tplPaging\'] = isset($tplPaging) ? $tplPaging : (isset($__tplPaging) ? $__tplPaging : $dcfg[\'tplPaging\']);
// &stripInput - stripInput user function name
// Default: \'defaultStripInput\'
$cfg[\'stripInput\'] = isset($stripInput) ? $stripInput : (isset($__stripInput) ? $__stripInput : $dcfg[\'stripInput\']);
// &stripOutput - stripOutput user function name
// Default: \'defaultStripOutput\'
$cfg[\'stripOutput\'] = isset($stripOutput) ? $stripOutput : (isset($__stripOutput) ? $__stripOutput : $dcfg[\'stripOutput\']);
// &searchWordList - searchWordList user function name
// [user_function_name,params] where params is an optional array of parameters
// Default: \'\' - empty string
$cfg[\'searchWordList\'] = isset($searchWordList) ? $searchWordList : (isset($__searchWordList) ? $__searchWordList : $dcfg[\'searchWordList\']);
// &breadcrumbs
// 0 : disallow the breadcrumbs link
// Name of the breadcrumbs function : allow the breadcrumbs link
// The function name could be followed by some parameter initialization
// e.g: &breadcrumbs=`Breadcrumbs,showHomeCrumb:0,showCrumbsAtHome:1`
// Default: \'\' - empty string
$cfg[\'breadcrumbs\'] = isset($breadcrumbs) ? $breadcrumbs : (isset($__breadcrumbs) ? $__breadcrumbs : $dcfg[\'breadcrumbs\']);
// &tvPhx - Set placeHolders for TV (template variables)
// 0 : disallow the feature (default)
// \'tv:displayTV\' : set up a placeholder named [+as.tvName.+] for each TV (named tvName) linked to the documents found
// displayTV is a provided ajaxSearch function which render the TV output
// tvPhx could also be used with custom tables
// Default: 0 - tvPhx disallowed
$cfg[\'tvPhx\'] = isset($tvPhx) ? $tvPhx : (isset($__tvPhx) ? $__tvPhx : $cfg[\'tvPhx\']);
// &jsClearDefault - Clearing default text
// Set this to 1 if you would like to include the clear default js function
// add the class "cleardefault" to your input text form and set this parameter
// Default: 0
$cfg[\'clearDefault\'] = isset($clearDefault) ? $clearDefault : (isset($__clearDefault) ? $__clearDefault : $dcfg[\'clearDefault\']);
// &jsClearDefault - Location of the js library
// Default: AS_SPATH . \'js/clearDefault.js\'
$cfg[\'jsClearDefault\'] = $dcfg[\'jsClearDefault\'];
// &mbstring - php_mbstring extension available [0 | 1]
// Default: 1 - extension available
$cfg[\'mbstring\'] = isset($mbstring) ? $mbstring : (isset($__mbstring) ? $__mbstring : $dcfg[\'mbstring\']);
//  &asLog - ajaxSearch log [ level [: comment [: purge]]]
//  level:
//        0 : disallow the ajaxSearch log (Default)
//        1 : failed search requests are logged
//        2 : all ajaxSearch requests are logged
//  comment:
//        0 : user comment not allowed (Default)
//        1 : user comment allowed
//  purge: number of logs allowed before to do an automatic purge of the table
//        Default: 200
$cfg[\'asLog\'] = isset($asLog) ? $asLog : (isset($__asLog) ? $__asLog : $dcfg[\'asLog\']);
//------------------------------------------------------------------------------
// Configure - Ajax mode snippet setup options
//------------------------------------------------------------------------------
if ($cfg[\'ajaxSearch\']){  // ajax mode
    // $liveSearch [1 | 0] (as passed in snippet variable ONLY)
    // Set this to 1 if you would like to use the live search (i.e. results as you type)
    // Default: 0 - livesearch mode inactivated
    $cfg[\'liveSearch\'] = isset($liveSearch) ? $liveSearch : (isset($__liveSearch) ? $__liveSearch : $dcfg[\'liveSearch\']);
    // &ajaxMax [int] - The maximum number of results to show for the ajaxsearch
    // Default: 6
    $cfg[\'ajaxMax\'] = isset($ajaxMax) ? $ajaxMax : (isset($__ajaxMax) ? $__ajaxMax : $dcfg[\'ajaxMax\']);
    // &showMoreResults [1 | 0]
    // Set this to 1 if you would like a link to show all of the search results
    // Default: 0
    $cfg[\'showMoreResults\'] = isset($showMoreResults) ? $showMoreResults : (isset($__showMoreResults) ? $__showMoreResults : $dcfg[\'showMoreResults\']);
    // &moreResultsPage [int]
    // The document id of the page you want the more results link to point to
    // Default: 0
    $cfg[\'moreResultsPage\'] = isset($moreResultsPage ) ? $moreResultsPage : (isset($__moreResultsPage ) ? $__moreResultsPage : $dcfg[\'moreResultsPage\']);
    // &opacity - set the opacity of the div ajaxSearch_output
    // Should be a float value: [ 0. < float <= 1. ]
    // Default: 1.
    $cfg[\'opacity\'] = isset($opacity) ? $opacity : (isset($__opacity) ? $__opacity : $dcfg[\'opacity\']);
    // &tplAjaxResults - Chunk to style the ajax output results outer
    // Default: \'\' - empty string
    $cfg[\'tplAjaxResults\'] = isset($tplAjaxResults) ? $tplAjaxResults : (isset($__tplAjaxResults) ? $__tplAjaxResults : $dcfg[\'tplAjaxResults\']);
    // &tplAjaxResult - Chunk to style each output result
    // Default: \'\' - empty string
    $cfg[\'tplAjaxResult\'] = isset($tplAjaxResult) ? $tplAjaxResult : (isset($__tplAjaxResult) ? $__tplAjaxResult : $dcfg[\'tplAjaxResult\']);
    // &jscript [\'jquery\'|\'mootools1.2\'|\'mootools\']
    // Set this to jquery if you would like use the jquery library
    // set mootools1.2 to use the version 1.2 of mootools (limited to JS functions used by AS)
    // Default: \'mootools\'
    $cfg[\'jscript\'] = isset($jscript ) ? $jscript : (isset($__jscript ) ? $__jscript : $dcfg[\'jscript\']);
    // &addJscript [1 | 0]
    // Set this to 1 if you would like to include or not the mootool/jquery library in the header of your pages automatically
    // Default: 1
    $cfg[\'addJscript\'] = isset($addJscript ) ? $addJscript : (isset($__addJscript ) ? $__addJscript : $dcfg[\'addJscript\']);
    // &jsMooTools - Location of the mootools javascript library (current version of MODx)
    // Default: \'manager/media/script/mootools/mootools.js\'
    $cfg[\'jsMooTools\'] = $dcfg[\'jsMooTools\'];
    // &jsMooTools1.2 - Location of the mootools javascript library (version 1.2)
    // contains only the mootools functions needed by AjaxSearch
    // Default: AS_SPATH . \'js/mootools1.2/mootools.js\'
    $cfg[\'jsMooTools1.2\'] = $dcfg[\'jsMooTools1.2\'];
    // &jsQuery - Location of the jquery javascript library
    // Default: AS_SPATH . \'js/jquery/jquery.js\'
    $cfg[\'jsJquery\'] = $dcfg[\'jsJquery\'];
}
include_once AS_PATH."classes/ajaxSearch.class.inc.php";
if (class_exists(\'AjaxSearch\')) {
  $as = new ajaxSearch(AS_VERSION,$cfg,$dcfg);
  //Process ajaxSearch
  $output = $as->run();
} else {
  $output = "<h3>error: AjaxSearch class not found</h3>";
}
return $output;';
$s['Breadcrumbs'] = '/*
 * This snippet shows the path through the various levels of site structure. It
 * is NOT necessarily the path the user took to arrive at a given page.
 * Version: 1.0.1
 */
/* -----------------------------------------------------------------------------
 * CONFIGURATION
 * -----------------------------------------------------------------------------
 * This section contains brief explanations of the available parameters.
 */
/* General setup
 * -----------------------------------------------------------------------------
 */
/* $maxCrumbs [ integer ]
 * Max number of elemetns to have in a breadcrumb path. The default 100 is an
 * arbitrarily high number that will essentially include everything. If you were
 * to set it to 2, and you were 5 levels deep, it would appear like:
 * HOME > ... > Level 3 > Level 4 > CURRENT PAGE
 * It should be noted that the "home" link, and the current page do not count as
 * they are managed by their own configuration settings.
 */
( isset($maxCrumbs) ) ? $maxCrumbs : $maxCrumbs = 100;
/* $pathThruUnPub [ 1 | 0 ]
 * When your path includes an unpublished folder, setting this to 1 (true) will
 * show all documents in path EXCEPT the unpublished. When set to 0 (false), the
 * path will not go "through" that unpublished folder and will stop there.
 */
( isset($pathThruUnPub) ) ? $pathThruUnPub : $pathThruUnPub = 1;
/* $respectHidemenu [ 0 | 1 ]
 * Setting this to 1 (true) will respect the hidemenu setting of the document
 * and not include it in trail.
 */
( isset($respectHidemenu) ) ? (int)$respectHidemenu : $respectHidemenu = 1;
/* $showCurrentCrumb [ 1 | 0 ]
 * Include the current page at the end of the trail. On by default.
 */
( isset($showCurrentCrumb) ) ? $showCurrentCrumb : $showCurrentCrumb = 1;
/* $currentAsLink [ 1 | 0 ]
 * If the current page is included, this parameter will show it as a link (1) or
 * just plain text (0).
 */
( $currentAsLink ) ? $currentAsLink : $currentAsLink = 0;
/* $linkTextField [ string ]
 * Prioritized list of fields to use as link text. Options are: pagetitle,
 * longtitle, description, menutitle. The first of these fields that has a value
 * will be the title.
 */
( isset($linkTextField) ) ? $linkTextField : $linkTextField = \'menutitle,pagetitle,longtitle\';
/* $linkDescField [ string ]
 * Prioritized list of fields to use as link title text. Options are: pagetitle,
 * longtitle, description, menutitle. The first of these fields that has a value
 * will be the title.
 */
( isset($linkDescField) ) ? $linkDescField : $linkDescField = \'description,longtitle,pagetitle,menutitle\';
/* $showCrumbsAsLinks [ 1 | 0 ]
 * If for some reason you want breadcrumbs to be text and not links, set to 0
 * (false).
 */
( isset($showCrumbsAsLinks) ) ? $showCrumbsAsLinks : $showCrumbsAsLinks = 1;
/* $templateSet [ string ]
 * The set of templates you\'d like to use. (Templates are defined below.) It
 * will default to defaultString which replicates the output of previous
 * versions.
 */
( isset($templateSet) ) ? $templateSet : $templateSet = \'defaultString\';
/* $crumbGap [ string ]
 * String to be shown to represent gap if there are more crumbs in trail than
 * can be shown. Note: if you would like to use an image, the entire image tag
 * must be provided. When making a snippet call, you cannot use "=", so use "||"
 * instead and it will be converted for you.
 */
( isset($crumbGap) ) ? $crumbGap : $crumbGap = \'...\';
/* $stylePrefix [ string ]
 * Breadcrumbs will add style classes to various parts of the trail. To avoid
 * class name conflicts, you can determine your own prefix. The following
 * classes will be attached:
 * crumbBox: Span that surrounds all crumb output
 * hideCrumb: Span that surrounds the "..." if there are more crumbs than will
 * be shown
 * currentCrumb: Span or A tag surrounding the current crumb
 * firstCrumb: Span that will be applied to first crumb, whether it is "home" or
 * not
 * lastCrumb: Span surrounding last crumb, whether it is the current page or
 * not
 * crumb: Class given to each A tag surrounding the intermediate crumbs (not
 * "home", "current", or "hide")
 * homeCrumb: Class given to the home crumb
 */
( isset($stylePrefix) ) ? $stylePrefix : $stylePrefix = \'B_\';
/* Home link parameters
 * -----------------------------------------------------------------------------
 * The home link is unique. It is a link that can be placed at the head of the
 * breadcrumb trail, even if it is not truly in the hierarchy.
 */
/* $showHomeCrumb [ 1 | 0 ]
 * This toggles the "home" crumb to be added to the beginning of your trail.
 */
( isset($showHomeCrumb) ) ? $showHomeCrumb : $showHomeCrumb = 1;
/* $homeId [ integer ]
 * Usually the page designated as "site start" in MODx configuration is
 * considered the home page. But if you would like to use some other document,
 * you may explicitly define it.
 */
( isset($homeId) ) ? (int)$homeId : $homeId = $modx->config[\'site_start\'];
/* $homeCrumbTitle [ string ]
 * If you\'d like to use something other than the menutitle (or pagetitle) for
 * the home link.
 */
( isset($homeCrumbTitle) ) ? $homeCrumbTitle : $homeCrumbTitle = \'\';
/* $homeCrumbDescription [ string ]
 * If you\'d like to use a custom description (link title) on the home link. If
 * left blank, the title will follow the title order set in $titleField.
 */
( isset($homeCrumbDescription) ) ? $homeCrumbDescription : $homeCrumbDescription = \'\';
/* Custom behaviors
 * -----------------------------------------------------------------------------
 * The following parameters will alter the behavior of the Breadcrumbs based on
 * the page it is on.
 */
/* $showCrumbsAtHome [ 1 | 0 ]
 * You can turn off Breadcrumbs all together on the home page by setting this to
 * 1 (true);
 */
( isset($showCrumbsAtHome) ) ? $showCrumbsAtHome : $showCrumbsAtHome = 0;
/* $hideOn [ string ]
 * Comma separated list of documents you don\'t want Breadcrumbs on at all. If
 * you have a LOT of pages like this, you might try $hideUnder or use another
 * template. This parameter is best for those rare odd balls - otherwise it will
 * become a pain to manage.
 */
( isset($hideOn) ) ? $hideOn : $hideOn = \'\';
/* $hideUnder [ string ]
 * Comma separated list of parent documents, whose CHILDREN you don\'t want
 * Breadcrumbs to appear on at all. This enables you to hide Breadcrumbs on a
 * whole folders worth of documents by specifying the parent only. The PARENT
 * will not have Breadcrumbs hidden however. If you wanted to hide the parent
 * and the children, put the parent ID in hideUnder AND hideOn.
 */
( isset($hideUnder) ) ? $hideUnder : $hideUnder = \'\';
/* $stopIds [ string ]
 * Comma separated list of document IDs that when reached, stops Breadcrumbs
 * from going any further. This is useful in situations like where you have
 * language branches, and you don\'t want the Breadcrumbs going past the "home"
 * of the language you\'re in.
 */
( isset($stopIds) ) ? $stopIds : $stopIds = \'\';
/* $ignoreIds [ string ]
 * Comma separated list of document IDs to explicitly ignore.
 */
( isset($ignoreIds) ) ? $ignoreids : \'\';
/* Templates
 * -----------------------------------------------------------------------------
 * In an effort to keep the MODx chunks manager from getting mired down in lots
 * of templates, Breadcrumbs templates are included here. Two sets are provided
 * prefixed with defaultString, and defaultList. You can create as many more as
 * you like, each set with it\'s own prefix
 */
$templates = array(
    \'defaultString\' => array(
        \'crumb\' => \'[+crumb+]\',
        \'separator\' => \' &raquo; \',
        \'crumbContainer\' => \'<span class="[+crumbBoxClass+]">[+crumbs+]</span>\',
        \'lastCrumbWrapper\' => \'<span class="[+lastCrumbClass+]">[+lastCrumbSpanA+]</span>\',
        \'firstCrumbWrapper\' => \'<span class="[+firstCrumbClass+]">[+firstCrumbSpanA+]</span>\'
    ),
    \'defaultList\' => array(
        \'crumb\' => \'<li>[+crumb+]</li>\',
        \'separator\' => \'\',
        \'crumbContainer\' => \'<ul class="[+crumbBoxClass+]">[+crumbs+]</ul>\',
        \'lastCrumbWrapper\' => \'<span class="[+lastCrumbClass+]">[+lastCrumbSpanA+]</span>\',
        \'firstCrumbWrapper\' => \'<span class="[+firstCrumbClass+]">[+firstCrumbSpanA+]</span>\'
    ),
);
/* -----------------------------------------------------------------------------
 * END CONFIGURATION
 * -----------------------------------------------------------------------------
 */
// Return blank if necessary: on home page
if ( !$showCrumbsAtHome && $homeId == $modx->documentObject[\'id\'] )
{
    return \'\';
}
// Return blank if necessary: specified pages
if ( $hideOn || $hideUnder )
{
    // Create array of hide pages
    $hideOn = str_replace(\' \',\'\',$hideOn);
    $hideOn = explode(\',\',$hideOn);
    // Get more hide pages based on parents if needed
    if ( $hideUnder )
    {
        $hiddenKids = array();
        // Get child pages to hide
        $hideKidsQuery = $modx->db->select(\'id\',$modx->getFullTableName("site_content"),"parent IN ($hideUnder)");
        while ( $hideKid = $modx->db->getRow($hideKidsQuery) )
        {
            $hiddenKids[] = $hideKid[\'id\'];
        }
        // Merge with hideOn pages
        $hideOn = array_merge($hideOn,$hiddenKids);
    }
    if ( in_array($modx->documentObject[\'id\'],$hideOn) )
    {
        return \'\';
    }
}
// Initialize ------------------------------------------------------------------
// Put certain parameters in arrays
$stopIds = str_replace(\' \',\'\',$stopIds);
$stopIds = explode(\',\',$stopIds);
$linkTextField = str_replace(\' \',\'\',$linkTextField);
$linkTextField = explode(\',\',$linkTextField);
$linkDescField = str_replace(\' \',\'\',$linkDescField);
$linkDescField = explode(\',\',$linkDescField);
$ignoreIds = str_replace(\' \',\'\',$ignoreIds);
$ignoreIds = explode(\',\',$ignoreIds);
/* $crumbs
 * Crumb elements are: id, parent, pagetitle, longtitle, menutitle, description,
 * published, hidemenu
 */
$crumbs = array();
$parent = $modx->documentObject[\'parent\'];
$output = \'\';
$maxCrumbs += ($showCurrentCrumb) ? 1 : 0;
// Replace || in snippet parameters that accept them with =
$crumbGap = str_replace(\'||\',\'=\',$crumbGap);
// Curent crumb ----------------------------------------------------------------
// Decide if current page is to be a crumb
if ( $showCurrentCrumb )
{
    $crumbs[] = array(
        \'id\' => $modx->documentObject[\'id\'],
        \'parent\' => $modx->documentObject[\'parent\'],
        \'pagetitle\' => $modx->documentObject[\'pagetitle\'],
        \'longtitle\' => $modx->documentObject[\'longtitle\'],
        \'menutitle\' => $modx->documentObject[\'menutitle\'],
        \'description\' => $modx->documentObject[\'description\']);
}
// Intermediate crumbs ---------------------------------------------------------
// Iterate through parents till we hit root or a reason to stop
$loopSafety = 0;
while ( $parent && $loopSafety < 1000 )
{
    // Get next crumb
    $tempCrumb = $modx->getPageInfo($parent,0,"id,parent,pagetitle,longtitle,menutitle,description,published,hidemenu");
    // Check for include conditions & add to crumbs
    if (
        $tempCrumb[\'published\'] &&
        ( !$tempCrumb[\'hidemenu\'] || !$respectHidemenu ) &&
        !in_array($tempCrumb[\'id\'],$ignoreIds)
    )
    {
        // Add crumb
        $crumbs[] = array(
        \'id\' => $tempCrumb[\'id\'],
        \'parent\' => $tempCrumb[\'parent\'],
        \'pagetitle\' => $tempCrumb[\'pagetitle\'],
        \'longtitle\' => $tempCrumb[\'longtitle\'],
        \'menutitle\' => $tempCrumb[\'menutitle\'],
        \'description\' => $tempCrumb[\'description\']);
    }
    // Check stop conditions
    if (
        in_array($tempCrumb[\'id\'],$stopIds) ||  // Is one of the stop IDs
        !$tempCrumb[\'parent\'] || // At root
        ( !$tempCrumb[\'published\'] && !$pathThruUnPub ) // Unpublished
    )
    {
        // Halt making crumbs
        break;
    }
    // Reset parent
    $parent = $tempCrumb[\'parent\'];
    // Increment loop safety
    $loopSafety++;
}
// Home crumb ------------------------------------------------------------------
if ( $showHomeCrumb && $homeCrumb = $modx->getPageInfo($homeId,0,"id,parent,pagetitle,longtitle,menutitle,description,published,hidemenu") )
{
    $crumbs[] = array(
    \'id\' => $homeCrumb[\'id\'],
    \'parent\' => $homeCrumb[\'parent\'],
    \'pagetitle\' => $homeCrumb[\'pagetitle\'],
    \'longtitle\' => $homeCrumb[\'longtitle\'],
    \'menutitle\' => $homeCrumb[\'menutitle\'],
    \'description\' => $homeCrumb[\'description\']);
}
// Process each crumb ----------------------------------------------------------
$pretemplateCrumbs = array();
foreach ( $crumbs as $c )
{
    // Skip if we\'ve exceeded our crumb limit but we\'re waiting to get to home
    if ( count($pretemplateCrumbs) > $maxCrumbs && $c[\'id\'] != $homeId )
    {
        continue;
    }
    $text = \'\';
    $title = \'\';
    $pretemplateCrumb = \'\';
    // Determine appropriate span/link text: home link specified
    if ( $c[\'id\'] == $homeId && $homeCrumbTitle )
    {
        $text = $homeCrumbTitle;
    }
    else
    // Determine appropriate span/link text: home link not specified
    {
        for ($i = 0; !$text && $i < count($linkTextField); $i++)
        {
            if ( $c[$linkTextField[$i]] )
            {
                $text = $c[$linkTextField[$i]];
            }
        }
    }
    // Determine link/span class(es)
    if ( $c[\'id\'] == $homeId )
    {
        $crumbClass = $stylePrefix.\'homeCrumb\';
    }
    else if ( $modx->documentObject[\'id\'] == $c[\'id\'] )
    {
        $crumbClass = $stylePrefix.\'currentCrumb\';
    }
    else
    {
        $crumbClass = $stylePrefix.\'crumb\';
    }
    // Make link
    if (
        ( $c[\'id\'] != $modx->documentObject[\'id\'] && $showCrumbsAsLinks ) ||
        ( $c[\'id\'] == $modx->documentObject[\'id\'] && $currentAsLink )
    )
    {
        // Determine appropriate title for link: home link specified
        if ( $c[\'id\'] == $homeId && $homeCrumbDescription )
        {
            $title = htmlspecialchars($homeCrumbDescription);
        }
        else
        // Determine appropriate title for link: home link not specified
        {
            for ($i = 0; !$title && $i < count($linkDescField); $i++)
            {
                if ( $c[$linkDescField[$i]] )
                {
                    $title = htmlspecialchars($c[$linkDescField[$i]]);
                }
            }
        }
        $pretemplateCrumb .= \'<a class="\'.$crumbClass.\'" href="\'.$modx->makeUrl($c[\'id\']).\'" title="\'.$title.\'">\'.$text.\'</a>\';
    }
    else
    // Make a span instead of a link
    {
       $pretemplateCrumb .= \'<span class="\'.$crumbClass.\'">\'.$text.\'</span>\';
    }
    // Add crumb to pretemplate crumb array
    $pretemplateCrumbs[] = $pretemplateCrumb;
    // If we have hit the crumb limit
    if ( count($pretemplateCrumbs) == $maxCrumbs )
    {
        if ( count($crumbs) > ($maxCrumbs + (($showHomeCrumb) ? 1 : 0)) )
        {
            // Add gap
            $pretemplateCrumbs[] = \'<span class="\'.$stylePrefix.\'hideCrumb\'.\'">\'.$crumbGap.\'</span>\';
        }
        // Stop here if we\'re not looking for the home crumb
        if ( !$showHomeCrumb )
        {
            break;
        }
    }
}
// Put in correct order for output
$pretemplateCrumbs = array_reverse($pretemplateCrumbs);
// Wrap first/last spans
$pretemplateCrumbs[0] = str_replace(
    array(\'[+firstCrumbClass+]\',\'[+firstCrumbSpanA+]\'),
    array($stylePrefix.\'firstCrumb\',$pretemplateCrumbs[0]),
    $templates[$templateSet][\'firstCrumbWrapper\']
);
$pretemplateCrumbs[(count($pretemplateCrumbs)-1)] = str_replace(
    array(\'[+lastCrumbClass+]\',\'[+lastCrumbSpanA+]\'),
    array($stylePrefix.\'lastCrumb\',$pretemplateCrumbs[(count($pretemplateCrumbs)-1)]),
    $templates[$templateSet][\'lastCrumbWrapper\']
);
// Insert crumbs into crumb template
$processedCrumbs = array();
foreach ( $pretemplateCrumbs as $pc )
{
    $processedCrumbs[] = str_replace(\'[+crumb+]\',$pc,$templates[$templateSet][\'crumb\']);
}
// Combine crumbs together into one string with separator
$processedCrumbs = implode($templates[$templateSet][\'separator\'],$processedCrumbs);
// Put crumbs into crumb container template
$container = str_replace(
    array(\'[+crumbBoxClass+]\',\'[+crumbs+]\'),
    array($stylePrefix.\'crumbBox\',$processedCrumbs),
    $templates[$templateSet][\'crumbContainer\']
    );
// Return crumbs
return $container;';
$s['Ditto'] = '/* Description:
 *      Aggregates documents to create blogs, article/news
 *      collections, and more,with full support for templating.
 * 
 * Author: 
 *      Mark Kaplan for MODx CMF
*/
//---Core Settings---------------------------------------------------- //
$ditto_version = "2.1.0";
    // Ditto version being executed
$ditto_base = isset($ditto_base) ? $modx->config[\'base_path\'].$ditto_base : $modx->config[\'base_path\']."assets/snippets/ditto/";
/*
    Param: ditto_base
    Purpose:
    Location of Ditto files
    Options:
    Any valid folder location containing the Ditto source code with a trailing slash
    Default:
    [(base_path)]assets/snippets/ditto/
*/
$dittoID = (!isset($id)) ? "" : $id."_";
$GLOBALS["dittoID"] = $dittoID;
/*
    Param: id
    Purpose:
    Unique ID for this Ditto instance for connection with other scripts (like Reflect) and unique URL parameters
    Options:
    Any combination of characters a-z, underscores, and numbers 0-9
    Note:
    This is case sensitive
    Default:
    "" - blank
*/      
$language = (isset($language))? $language : "english";
/*
    Param: language
    Purpose:
    language for defaults, debug, and error messages
    Options:
    Any language name with a corresponding file in the &ditto_base/lang folder
    Default:
    "english"
*/
$format = (isset($format)) ? strtolower($format) : "html" ;
/*
    Param: format
    Purpose:
    Output format to use
    Options:
    - "html"
    - "json"
    - "xml"
    - "atom"
    - "rss"
    Default:
    "html"
*/
$config = (isset($config)) ? $config : "default";
/*
    Param: config
    Purpose:
    Load a custom configuration
    Options:
    "default" - default blank config file
    CONFIG_NAME - Other configs installed in the configs folder or in any folder within the MODx base path via @FILE
    Default:
    "default"
    Related:
    - <extenders>
*/
$debug = isset($debug)? $debug : 0;
/*
    Param: debug
    Purpose:
    Output debugging information
    Options:
    0 - off
    1 - on
    Default:
    0 - off
    Related:
    - <debug>
*/
$phx = (isset($phx))? $phx : 1;
/*
    Param: phx
    Purpose:
    Use PHx formatting
    Options:
    0 - off
    1 - on
    Default:
    1 - on
*/      
$extenders = isset($extenders) ? explode(",",$extenders) : array();
/*
    Param: extenders
    Purpose:
    Load an extender which adds functionality to Ditto
    Options:
    Any extender in the extenders folder or in any folder within the MODx base path via @FILE
    Default:
    [NULL]
    Related:
    - <config>
*/
    // Variable: extenders
    // Array that can be added to by configs or formats to load that extender
$placeholders = array();
    // Variable: placeholders
    // Initialize custom placeholders array for configs or extenders to add to
$filters = array("custom"=>array(),"parsed"=>array());
    // Variable: filters
    // Holds both the custom filters array for configs or extenders to add to 
    // and the parsed filters array. To add to this array, use the following format
    // (code)
    // $filters["parsed"][] = array("name" => array("source"=>$source,"value"=>$value,"mode"=>$mode));
    // $filters["custom"][] = array("source","callback_function");
$orderBy = array(\'parsed\'=>array(),\'custom\'=>array(),\'unparsed\'=>$orderBy);
    // Variable: orderBy
    // An array that holds all criteria to sort the result set by. 
    // Note that using a custom sort will disable all other sorting.
    // (code)
    // $orderBy["parsed"][] = array("sortBy","sortDir");
    // $orderBy["custom"][] = array("sortBy","callback_function");
//---Includes-------------------------------------------------------- //
$files = array (
    "base_language" => $ditto_base."lang/english.inc.php",
    "language" => $ditto_base."lang/$language.inc.php",
    "main_class" => $ditto_base."classes/ditto.class.inc.php",
    "template_class" => $ditto_base."classes/template.class.inc.php",
    "filter_class" => $ditto_base."classes/filter.class.inc.php",
    "format" => $ditto_base."formats/$format.format.inc.php",
    "config" => $ditto_base."configs/default.config.php",
    "user_config" => (substr($config, 0, 5) != "@FILE") ? $ditto_base."configs/$config.config.php" : $modx->config[\'base_path\'].trim(substr($config, 5))
);
if ($phx == 1) {
    $files["prePHx_class"] = $ditto_base."classes/phx.pre.class.inc.php";
}
if (isset($randomize)) {
    $files["randomize_class"] = $ditto_base."classes/random.class.inc.php";
}
if ($debug == 1) {
    $files["modx_debug_class"] = $ditto_base."debug/modxDebugConsole.class.php";
    $files["debug_class"] = $ditto_base."classes/debug.class.inc.php";
    $files["debug_templates"] = $ditto_base."debug/debug.templates.php";
}
$files = array_unique($files);
foreach ($files as $filename => $filevalue) {
    if (file_exists($filevalue) && strpos($filename,"class")) {
        include_once($filevalue);
    } else if (file_exists($filevalue)) {
        include($filevalue);
    } else if ($filename == "language") {
        $modx->logEvent(1, 3, "Language file does not exist Please check: " . $filevalue, "Ditto " . $ditto_version);
        return "Language file does not exist Please check: " . $filevalue;
    } else {
        $modx->logEvent(1, 3, $filevalue . " " . $_lang[\'file_does_not_exist\'], "Ditto " . $ditto_version);
        return $filevalue . " " . $_lang[\'file_does_not_exist\'];
    }
}
//---Initiate Class-------------------------------------------------- //
if (class_exists(\'ditto\')) {
    $ditto = new ditto($dittoID,$format,$_lang,$dbg_templates);
        // create a new Ditto instance in the specified format and language with the requested debug level
} else {
    $modx->logEvent(1,3,$_lang[\'invalid_class\'],"Ditto ".$ditto_version);
    return $_lang[\'invalid_class\'];
}
//---Initiate Extenders---------------------------------------------- //
if (isset($tagData)) {
    $extenders[] = "tagging";
}
if(count($extenders) > 0) {
    $extenders = array_unique($extenders);
    foreach ($extenders as $extender) {
            if(substr($extender, 0, 5) != "@FILE") {
                $extender_path = $ditto_base."extenders/".$extender.".extender.inc.php";                
            } else {
                $extender_path = $modx->config[\'base_path\'].trim(substr($extender, 5));
            }
            if (file_exists($extender_path)){
                include($extender_path);
            } else {
                $modx->logEvent(1, 3, $extender . " " . $_lang[\'extender_does_not_exist\'], "Ditto ".$ditto_version);
                return $extender . " " . $_lang[\'extender_does_not_exist\'];
            }       
    }   
}
//---Parameters------------------------------------------------------- /*
if (isset($startID)) {$parents = $startID;}
if (isset($summarize)) {$display = $summarize;}
if (isset($limit)) {$queryLimit = $limit;}
if (isset($sortBy) || isset($sortDir) || is_null($orderBy[\'unparsed\'])) {
    $sortDir = isset($sortDir) ? strtoupper($sortDir) : \'DESC\';
    $sortBy = isset($sortBy) ? $sortBy : "createdon";
    $orderBy[\'parsed\'][]=array($sortBy,$sortDir);
}
    // Allow backwards compatibility
$idType = isset($documents) ? "documents" : "parents";
    // Variable: idType
    // type of IDs provided; can be either parents or documents
$parents = isset($parents) ? $ditto->cleanIDs($parents) : $modx->documentIdentifier;
/*
    Param: parents
    Purpose:
    IDs of containers for Ditto to retrieve their children to &depth depth
    Options:
    Any valid MODx document marked as a container
    Default:
    Current MODx Document
    Related:
    - <documents>
    - <depth>
*/
$documents = isset($documents) ? $ditto->cleanIDs($documents) : false;
/*
    Param: documents
    Purpose:
    IDs of documents for Ditto to retrieve
    Options:
    Any valid MODx document marked as a container
    Default:
    None
    Related:
    - <parents>
*/
$IDs = ($idType == "parents") ? $parents : $documents;
    // Variable: IDs
    // Internal variable which holds the set of IDs for Ditto to fetch
$depth = isset($depth) ? $depth : 1;
/*
    Param: depth
    Purpose:
    Number of levels deep to retrieve documents
    Options:
    Any number greater than or equal to 1
    0 - infinite depth
    Default:
    1
    Related:
    - <seeThruUnpub>
*/
$paginate = isset($paginate)? $paginate : 0;
/*
    Param: paginate
    Purpose:
    Paginate the results set into pages of &display length.
    Use &total to limit the number of documents retreived.
    Options:
    0 - off
    1 - on
    Default:
    0 - off
    Related:
    - <paginateAlwaysShowLinks>
    - <paginateSplitterCharacter>
    - <display>
*/
$dateSource = isset($dateSource) ? $dateSource : "createdon";
/*
    Param: dateSource
    Purpose:
    Source of the [+date+] placeholder
    Options:
    # - Any UNIX timestamp from MODx fields or TVs such as createdon, pub_date, or editedon
    Default:
    "createdon"
    Related:
    - <dateFormat>
*/
$dateFormat = isset($dateFormat)? $dateFormat : $_lang["dateFormat"];
/*
    Param: dateFormat
    Purpose:
    Format the [+date+] placeholder in human readable form
    Options:
    Any PHP valid strftime option
    Default:
    [LANG]
    Related:
    - <dateSource>
*/
$display = isset($display) ? $display : "all";
/*
    Param: display
    Purpose:
    Number of documents to display in the results
    Options:
    # - Any number
    "all" - All documents found
    Default:
    "all"
    Related:
    - <queryLimit>
    - <total>
*/
$total = isset($total) ? $total : "all";
/*
    Param: total
    Purpose:
    Number of documents to retrieve
    Options:
    # - Any number
    "all" - All documents found
    Default:
    "all" - All documents found
    Related:
    - <display>
    - <queryLimit>
*/
$showPublishedOnly = isset($showPublishedOnly) ? $showPublishedOnly : 1;
/*
    Param: showPublishedOnly
    Purpose:
    Show only published documents
    Options:
    0 - show only unpublished documents
    1 - show both published and unpublished documents
    Default:
    1 - show both published and unpublished documents
    Related:
    - <seeThruUnpub>
    - <hideFolders>
    - <showPublishedOnly>
    - <where>
*/
$showInMenuOnly = isset($showInMenuOnly) ? $showInMenuOnly : 0;
/*
    Param: showInMenuOnly
    Purpose:
    Show only documents visible in the menu
    Options:
    0 - show all documents
    1 - show only documents with the show in menu flag checked
    Default:
    0 - show all documents
    Related:
    - <seeThruUnpub>
    - <hideFolders>
    - <where>
*/
$hideFolders = isset($hideFolders)? $hideFolders : 0;
/*
    Param: hideFolders
    Purpose:
    Don\'t show folders in the returned results
    Options:
    0 - keep folders
    1 - remove folders
    Default:
    0 - keep folders
    Related:
    - <seeThruUnpub>
    - <showInMenuOnly>
    - <where>
*/
$hidePrivate = isset($hidePrivate)? $hidePrivate : 1;
/*
    Param: hidePrivate
    Purpose:
    Don\'t show documents the guest or user does not have permission to see
    Options:
    0 - show private documents
    1 - hide private documents
    Default:
    1 - hide private documents
    Related:
    - <seeThruUnpub>
    - <showInMenuOnly>
    - <where>
*/
$seeThruUnpub = (isset($seeThruUnpub))? $seeThruUnpub : 1 ;
/*
    Param: seeThruUnpub
    Purpose:
    See through unpublished folders to retrive their children
    Used when depth is greater than 1
    Options:
    0 - off
    1 - on
    Default:
    0 - off
    Related:
    - <hideFolders>
    - <showInMenuOnly>
    - <where>
*/
$queryLimit = (isset($queryLimit))? $queryLimit : 0;
/*
    Param: queryLimit
    Purpose:
    Number of documents to retrieve from the database, same as MySQL LIMIT
    Options:
    # - Any number
    0 - automatic
    Default:
    0 - automatic
    Related:
    - <where>
*/
$where = (isset($where))? $where : "";
/*
    Param: where
    Purpose:
    Custom MySQL WHERE statement
    Options:
    A valid MySQL WHERE statement using only document object items (no TVs)
    Default:
    [NULL]
    Related:
    - <queryLimit>
*/
$noResults = isset($noResults)? $ditto->getParam($noResults,"no_documents") : $_lang[\'no_documents\'];
/*
    Param: noResults
    Purpose:
    Text or chunk to display when there are no results
    Options:
    Any valid chunk name or text
    Default:
    [LANG]
*/
$removeChunk = isset($removeChunk) ? explode(",",$removeChunk) : false;
/*
    Param: removeChunk
    Purpose:
    Name of chunks to be stripped from content separated by commas
    - Commonly used to remove comments
    Options:
    Any valid chunkname that appears in the output
    Default:
    [NULL]
*/
$hiddenFields = isset($hiddenFields) ? explode(",",$hiddenFields) : false;
/*
    Param: hiddenFields
    Purpose:
    Allow Ditto to retrieve fields its template parser cannot handle such as nested placeholders and [*fields*]
    Options:
    Any valid MODx fieldnames or TVs comma separated
    Default:
    [NULL]
*/
$offset = isset($start) ? $start : 0;
$start = (isset($_GET[$dittoID.\'start\'])) ? intval($_GET[$dittoID.\'start\']) : 0;
/*
    Param: start
    Purpose:
    Number of documents to skip in the results
    Options:
    Any number
    Default:
    0
*/
$globalFilterDelimiter = isset($globalFilterDelimiter) ? $globalFilterDelimiter : "|";
/*
    Param: globalFilterDelimiter
    Purpose:
    Filter delimiter used to separate filters in the filter string
    Options:
    Any character not used in the filters
    Default:
    "|"
    Related:
    - <localFilterDelimiter>
    - <filter>
    - <parseFilters>
*/
$localFilterDelimiter = isset($localFilterDelimiter) ? $localFilterDelimiter : ",";
/*
    Param: localFilterDelimiter
    Purpose:
    Delimiter used to separate individual parameters within each filter string
    Options:
    Any character not used in the filter itself
    Default:
    ","
    Related:
    - <globalFilterDelimiter>
    - <filter>
    - <parseFilters>
*/
$filters["custom"] = isset($cFilters) ? array_merge($filters["custom"],$cFilters) : $filters["custom"];
$filters["parsed"] = isset($parsedFilters) ? array_merge($filters["parsed"],$parsedFilters) : $filters["parsed"];
    // handle 2.0.0 compatibility
$filter = (isset($filter) || ($filters["custom"] != false) || ($filters["parsed"] != false)) ? $ditto->parseFilters($filter,$filters["custom"],$filters["parsed"],$globalFilterDelimiter,$localFilterDelimiter) : false;
/*
    Param: filter
    Purpose:
    Removes items not meeting a critera. Thus, if pagetitle == joe then it will be removed.
    Use in the format field,criteria,mode with the comma being the local delimiter
    *Mode* *Meaning*
    1 - !=
    2 - ==
    3 - <
    4 - >
    5 - <=
    6 - >=
    7 - Text not in field value
    8 - Text in field value
    9 - case insenstive version of #7
    10 - case insenstive version of #8
    11 - checks leading character of the field
    @EVAL:
        @EVAL in filters works the same as it does in MODx exect it can only be used 
        with basic filtering, not custom filtering (tagging, etc). Make sure that
        you return the value you wish Ditto to filter by and that the code is valid PHP.
    Default:
    [NULL]
    Related:
    - <localFilterDelimiter>
    - <globalFilterDelimiter>
    - <parseFilters>
*/
$keywords = (isset($keywords))? $keywords : 0;
/*  
    Param: keywords
    Purpose: 
    Enable fetching of associated keywords for each document
    Can be used as [+keywords+] or as a tagData source
    Options:
    0 - off
    1 - on
    Default:
    0 - off
*/
$randomize = (isset($randomize))? $randomize : 0;
/*  
    Param: randomize
    Purpose: 
    Randomize the order of the output
    Options:
    0 - off
    1 - on
    Any MODx field or TV for weighted random
    Default:
    0 - off
*/
$save = (isset($save))? $save : 0;
/*
    Param: save
    Purpose:
    Saves the ditto object and results set to placeholders
    for use by other snippets
    Options:
    0 - off; returns output
    1 - remaining; returns output
    2 - all;
    3 - all; returns ph only
    Default:
        0 - off; returns output
*/
$templates = array(
    "default" => "@CODE".$_lang[\'default_template\'],
    "base" => $tpl,
    "alt" => $tplAlt,
    "first" => $tplFirst,
    "last" => $tplLast,
    "current" => $tplCurrentDocument
);
/*
    Param: tpl
    Purpose:
    User defined chunk to format the documents 
    Options:
    - Any valid chunk name
    - Code via @CODE
    - File via @FILE
    Default:
    [LANG]
*/
/*
    Param: tplAlt
    Purpose:
    User defined chunk to format every other document
    Options:
    - Any valid chunk name
    - Code via @CODE
    - File via @FILE
    Default:
    &tpl
*/
/*
    Param: tplFirst
    Purpose:
    User defined chunk to format the first document 
    Options:
    - Any valid chunk name
    - Code via @CODE
    - File via @FILE
    Default:
    &tpl
*/
/*
    Param: tplLast
    Purpose:
    User defined chunk to format the last document 
    Options:
    - Any valid chunk name
    - Code via @CODE
    - File via @FILE
    Default:
    &tpl
*/
/*
    Param: tplCurrentDocument
    Purpose:
    User defined chunk to format the current document
    Options:
    - Any valid chunk name
    - Code via @CODE
    - File via @FILE
    Default:
    &tpl
*/
$orderBy = $ditto->parseOrderBy($orderBy,$randomize);
/*
    Param: orderBy
    Purpose:
    Sort the result set
    Options:
    Any valid MySQL style orderBy statement
    Default:
    createdon DESC
*/
//-------------------------------------------------------------------- */
$templates = $ditto->template->process($templates);
    // parse the templates for TV\'s and store them for later use
$ditto->setDisplayFields($ditto->template->fields,$hiddenFields);
    // parse hidden fields
$ditto->parseFields($placeholders,$seeThruUnpub,$dateSource,$randomize);
    // parse the fields into the field array
$documentIDs = $ditto->determineIDs($IDs, $idType, $ditto->fields["backend"]["tv"], $orderBy, $depth, $showPublishedOnly, $seeThruUnpub, $hideFolders, $hidePrivate, $showInMenuOnly, $where, $keywords, $dateSource, $queryLimit, $display, $filter,$paginate, $randomize);
    // retrieves a list of document IDs that meet the criteria and populates the $resources array with them
$count = count($documentIDs);
    // count the number of documents to be retrieved
$count = $count-$offset;
    // handle the offset
if ($count > 0) {
    // if documents are returned continue with execution
    $total = ($total == "all") ? $count : min($total,$count);
        // set total equal to count if all documents are to be included
    $display = ($display == "all") ? min($count,$total) : min($display,$total);
        // allow show to use all option
    $stop = ($save != "1") ? min($total-$start,$display) : min($count,$total);
        // set initial stop count
    if($paginate == 1) {
        $paginateAlwaysShowLinks = isset($paginateAlwaysShowLinks)? $paginateAlwaysShowLinks : 0;
        /*
            Param: paginateAlwaysShowLinks
            Purpose:
            Determine whether or not to always show previous next links
            Options:
            0 - off
            1 - on
            Default:
            0 - off
            Related:
            - <paginate>
            - <paginateSplitterCharacter>
        */
        $paginateSplitterCharacter = isset($paginateSplitterCharacter)? $paginateSplitterCharacter : $_lang[\'button_splitter\'];
        /*
            Param: paginateSplitterCharacter
            Purpose:
            Splitter to use if always show is disabled
            Options:
            Any valid character
            Default:
            [LANG]
            Related:
            - <paginate>
            - <paginateSplitterCharacter>
        */
        $tplPaginatePrevious = isset($tplPaginatePrevious)? $ditto->template->fetch($tplPaginatePrevious) : "<a href=\'[+url+]\' class=\'ditto_previous_link\'>[+lang:previous+]</a>";
        /*
            Param: tplPaginatePrevious
            Purpose:
            Template for the previous link
            Options:
            - Any valid chunk name
            - Code via @CODE
            - File via @FILE
            Placeholders:
            url - URL for the previous link
            lang:previous - value of \'prev\' from the language file
            Related:
            - <tplPaginateNext>
            - <paginateSplitterCharacter>
        */
        $tplPaginateNext = isset($tplPaginateNext)? $ditto->template->fetch($tplPaginateNext) : "<a href=\'[+url+]\' class=\'ditto_next_link\'>[+lang:next+]</a>";
        /*
            Param: tplPaginateNext
            Purpose:
            Template for the next link
            Options:
            - Any valid chunk name
            - Code via @CODE
            - File via @FILE
            Placeholders:
            url - URL for the next link
            lang:next - value of \'next\' from the language file
            Related:
            - <tplPaginatePrevious>
            - <paginateSplitterCharacter>
        */
        $tplPaginateNextOff = isset($tplPaginateNextOff)? $ditto->template->fetch($tplPaginateNextOff) : "<span class=\'ditto_next_off ditto_off\'>[+lang:next+]</span>";
        /*
            Param: tplPaginateNextOff
            Purpose:
            Template for the inside of the next link
            Options:
            - Any valid chunk name
            - Code via @CODE
            - File via @FILE
            Placeholders:
            lang:next - value of \'next\' from the language file
            Related:
            - <tplPaginatePrevious>
            - <paginateSplitterCharacter>
        */
        $tplPaginatePreviousOff = isset($tplPaginatePreviousOff)? $ditto->template->fetch($tplPaginatePreviousOff) : "<span class=\'ditto_previous_off ditto_off\'>[+lang:previous+]</span>";
        /*
            Param: tplPaginatePreviousOff
            Purpose:
            Template for the previous link when it is off
            Options:
            - Any valid chunk name
            - Code via @CODE
            - File via @FILE
            Placeholders:
            lang:previous - value of \'prev\' from the language file
            Related:
            - <tplPaginatePrevious>
            - <paginateSplitterCharacter>
        */
        $tplPaginatePage = isset($tplPaginatePage)? $ditto->template->fetch($tplPaginatePage) : "<a class=\'ditto_page\' href=\'[+url+]\'>[+page+]</a>";
        /*
            Param: tplPaginatePage
            Purpose:
            Template for the page link
            Options:
            - Any valid chunk name
            - Code via @CODE
            - File via @FILE
            Placeholders:
            url - url for the page
            page - number of the page
            Related:
            - <tplPaginatePrevious>
            - <paginateSplitterCharacter>
        */
        $tplPaginateCurrentPage = isset($tplPaginateCurrentPage)? $ditto->template->fetch($tplPaginateCurrentPage) : "<span class=\'ditto_currentpage\'>[+page+]</span>";
        /*
            Param: tplPaginateCurrentPage
            Purpose:
            Template for the current page link
            Options:
            - Any valid chunk name
            - Code via @CODE
            - File via @FILE
            Placeholders:
            page - number of the page
            Related:
            - <tplPaginatePrevious>
            - <paginateSplitterCharacter>
        */
        $ditto->paginate($start, $stop, $total, $display, $tplPaginateNext, $tplPaginatePrevious, $tplPaginateNextOff, $tplPaginatePreviousOff, $tplPaginatePage, $tplPaginateCurrentPage, $paginateAlwaysShowLinks, $paginateSplitterCharacter);
            // generate the pagination placeholders
    }
    $dbFields = $ditto->fields["display"]["db"];
        // get the database fields
    $TVs = $ditto->fields["display"]["tv"];
        // get the TVs
    switch($orderBy[\'parsed\'][0][1]) {
        case "DESC":
            $stop = ($ditto->prefetch === false) ? $stop + $start + $offset : $stop + $offset; 
            $start += $offset;
        break;
        case "ASC":
            $start += $offset;
            $stop += $start;
        break;
    }
    if ($ditto->prefetch !== false) {
        $documentIDs = array_slice($documentIDs,$start,$stop);
            // set the document IDs equal to the trimmed array
        $dbFields = array_diff($dbFields,$ditto->prefetch["fields"]["db"]);
            // calculate the difference between the database fields and those already prefetched
        $dbFields[] = "id";
            // append id to the db fields array
        $TVs = array_diff($TVs,$ditto->prefetch["fields"]["tv"]);
            // calculate the difference between the tv fields and those already prefetched
        $start = 0;
        $stop = min($display,($queryLimit != 0) ? $queryLimit : $display,count($documentIDs));
    } else {
        $queryLimit = ($queryLimit == 0) ? "" : $queryLimit;
    }
    $resource = $ditto->getDocuments($documentIDs, $dbFields, $TVs, $orderBy, $showPublishedOnly, 0, $hidePrivate, $where, $queryLimit, $keywords, $randomize, $dateSource);
        // retrieves documents
    $output = $header;
        // initialize the output variable and send the header
    if ($resource) {
        if ($randomize != "0" && $randomize != "1") {
            $resource = $ditto->weightedRandom($resource,$randomize,$stop);
                // randomize the documents
        }
        $resource = array_values($resource);
        for ($x=$start;$x<$stop;$x++) {
            $template = $ditto->template->determine($templates,$x,0,$stop,$resource[$x]["id"]);
                // choose the template to use and set the code of that template to the template variable
            $renderedOutput = $ditto->render($resource[$x], $template, $removeChunk, $dateSource, $dateFormat, $placeholders,$phx,abs($start-$x));
                // render the output using the correct template, in the correct format and language
            $modx->setPlaceholder($dittoID."item[".abs($start-$x)."]",$renderedOutput);
            /*
                Placeholder: item[x]
                Content:
                Individual items rendered output
            */
            $output .= $renderedOutput;
                // send the rendered output to the buffer
        }
    } else {
        $output .= $ditto->noResults($noResults,$paginate);
            // if no documents are found return a no documents found string
    }
    $output .= $footer;
        // send the footer
    // ---------------------------------------------------
    // Save Object
    // ---------------------------------------------------
    if($save) {
        $modx->setPlaceholder($dittoID."ditto_object", $ditto);
        $modx->setPlaceholder($dittoID."ditto_resource", ($save == "1") ? array_slice($resource,$display) : $resource);
    }
} else {
    $output = $header.$ditto->noResults($noResults,$paginate).$footer;
}
// ---------------------------------------------------
// Handle Debugging
// ---------------------------------------------------
if ($debug == 1) {
    $ditto_params =& $modx->event_params;
    if (!isset($_GET["ditto_".$dittoID."debug"])) {
    $_SESSION["ditto_debug_$dittoID"] = $ditto->debug->render_popup($ditto, $ditto_base, $ditto_version, $ditto_params, $documentIDs, array("db"=>$dbFields,"tv"=>$TVs), $display, $templates, $orderBy, $start, $stop, $total,$filter,$resource);
    }
    if (isset($_GET["ditto_".$dittoID."debug"])) {
        switch ($_GET["ditto_".$dittoID."debug"]) {
            case "open" :
                exit($_SESSION["ditto_debug_$dittoID"]);
            break;
            case "save" :
                $ditto->debug->save($_SESSION["ditto_debug_$dittoID"],"ditto".strtolower($ditto_version)."_debug_doc".$modx->documentIdentifier.".html");
            break;
        }
    } else {
        $output = $ditto->debug->render_link($dittoID,$ditto_base).$output;
    }
}
return ($save != 3) ? $output : "";';
$s['eForm'] = '# eForm 1.4.4.6 - Electronic Form Snippet
# Original created by Raymond Irving 15-Dec-2004.
# Version 1.3+ extended by Jelle Jager (TobyL) September 2006
# -----------------------------------------------------
# Captcha image support - thanks to Djamoer
# Multi checkbox, radio, select support - thanks to Djamoer
# Form Parser and extened validation - by Jelle Jager
#
# see eform/docs/eform.htm for history, usage and examples
#
# Set Snippet Paths
$snipFolder = isset($snipFolder)?$snipFolder:\'eform\';
$snipPath = $modx->config["base_path"].\'assets/snippets/\'.$snipFolder.\'/\';
# check if inside manager
if ($modx->isBackend()) {
return \'\'; # don\'t go any further when inside manager
}
//tidying up some casing errors in parameters
if(isset($eformOnValidate)) $eFormOnValidate = $eformOnValidate;
if(isset($eformOnBeforeMailSent)) $eFormOnBeforeMailSent = $eformOnBeforeMailSent;
if(isset($eformOnMailSent)) $eFormOnMailSent = $eformOnMailSent;
if(isset($eformOnValidate)) $eFormOnValidate = $eformOnValidate;
if(isset($eformOnBeforeFormMerge)) $eFormOnBeforeFormMerge = $eformOnBeforeFormMerge;
if(isset($eformOnBeforeFormParse)) $eFormOnBeforeFormParse = $eformOnBeforeFormParse;
//for sottwell :)
if(isset($eFormCSS)) $cssStyle = $eFormCSS;
# Snippet customize settings
$params = array (
   // Snippet Path
   \'snipPath\' => $snipPath, //includes $snipFolder
	 \'snipFolder\' => $snipFolder,
// eForm Params
   \'vericode\' => isset($vericode)? $vericode:"",
   \'formid\' => isset($formid)? $formid:"",
   \'from\' => isset($from)? $from:$modx->config[\'emailsender\'],
   \'fromname\' => isset($fromname)? $fromname:$modx->config[\'site_name\'],
   \'to\' => isset($to)? $to:$modx->config[\'emailsender\'],
   \'cc\' => isset($cc)? $cc:"",
   \'bcc\' => isset($bcc)? $bcc:"",
   \'subject\' => isset($subject)? $subject:"",
   \'ccsender\' => isset($ccsender)?$ccsender:0,
   \'sendirect\' => isset($sendirect)? $sendirect:0,
   \'mselector\' => isset($mailselector)? $mailselector:0,
   \'mobile\' => isset($mobile)? $mobile:\'\',
   \'mobiletext\' => isset($mobiletext)? $mobiletext:\'\',
   \'autosender\' => isset($autosender)? $autosender:$from,
   \'autotext\' => isset($automessage)? $automessage:"",
   \'category\' => isset($category)? $category:0,
   \'keywords\' => isset($keywords)? $keywords:"",
   \'gid\' => isset($gotoid)? $gotoid:$modx->documentIdentifier,
   \'noemail\' => isset($noemail)? ($noemail):false,
   \'saveform\' => isset($saveform)? ($saveform? true:false):true,
   \'tpl\' => isset($tpl)? $tpl:"",
   \'report\' => isset($report)? $report:"",
   \'allowhtml\' => isset($allowhtml)? $allowhtml:0,
   //Added by JJ
   \'replyto\' => isset($replyto)? $replyto:"",
   \'language\' => isset($language)? $language:$modx->config[\'manager_language\'],
   \'thankyou\' => isset($thankyou)? $thankyou:"",
   \'isDebug\' => isset($debug)? $debug:0,
   \'reportAbuse\' => isset($reportAbuse)? $reportAbuse:false,
   \'disclaimer\' => isset($disclaimer)?$disclaimer:\'\',
   \'sendAsHtml\' => isset($sendAsHtml)?$sendAsHtml:false,
   \'sendAsText\' => isset($sendAsText)?$sendAsText:false,
   \'sessionVars\' => isset($sessionVars)?$sessionVars:false,
   \'postOverides\' => isset($postOverides)?$postOverides:0,
   \'eFormOnBeforeMailSent\' => isset($eFormOnBeforeMailSent)?$eFormOnBeforeMailSent:\'\',
   \'eFormOnMailSent\' => isset($eFormOnMailSent)?$eFormOnMailSent:\'\',
   \'eFormOnValidate\' => isset($eFormOnValidate)?$eFormOnValidate:\'\',
   \'eFormOnBeforeFormMerge\' => isset($eFormOnBeforeFormMerge)?$eFormOnBeforeFormMerge:\'\',
   \'eFormOnBeforeFormParse\' => isset($eFormOnBeforeFormParse)?$eFormOnBeforeFormParse:\'\',
   \'cssStyle\' => isset($cssStyle)?$cssStyle:\'\',
   \'jScript\' => isset($jScript)?$jScript:\'\',
   \'submitLimit\' => (isset($submitLimit) &&  is_numeric($submitLimit))?$submitLimit*60:0,
   \'protectSubmit\' => isset($protectSubmit)?$protectSubmit:1,
   \'requiredClass\' => isset($requiredClass)?$requiredClass:"required",
   \'invalidClass\' => isset($invalidClass)?$invalidClass:"invalid",
   \'runSnippet\' => ( isset($runSnippet) && !is_numeric($runSnippet) )?$runSnippet:\'\',
   \'autoSenderName\' => isset($autoSenderName)?$autoSenderName:\'\',
   \'version\' => \'1.4.4\'
);
// pixelchutes PHx workaround
foreach( $params as $key=>$val ) $params[ $key ] = str_replace( array(\'((\',\'))\'), array(\'[+\',\'+]\'), $val );
# Start processing
include_once ($snipPath."eform.inc.php");
$output = eForm($modx,$params);
# Return
return $output;';
$s['FirstChildRedirect'] = '/*
 * @name FirstChildRedirect
 * @author Jason Coward <jason@opengeek.com>
 * @modified-by Ryan Thrash <ryan@vertexworks.com>
 * @license Public Domain
 * @version 1.0
 * 
 * This snippet redirects to the first child document of a folder in which this
 * snippet is included within the content (e.g. [!FirstChildRedirect!]).  This
 * allows MODx folders to emulate the behavior of real folders since MODx
 * usually treats folders as actual documents with their own content.
 * 
 * Modified to make Doc ID a required parameter... now defaults to the current 
 * Page/Folder you call the snippet from.
 * 
 * &docid=`12` 
 * Use the docid parameter to have this snippet redirect to the
 * first child document of the specified document.
 */
$docid = (isset($docid))? $docid: $modx->documentIdentifier;
$children= $modx->getActiveChildren($docid, \'menuindex\', \'ASC\');
if (!$children === false) {
    $firstChild= $children[0];
    $firstChildUrl= $modx->makeUrl($firstChild[\'id\']);
} else {
    $firstChildUrl= $modx->makeUrl($modx->config[\'site_start\']);
}
return $modx->sendRedirect($firstChildUrl);';
$s['Jot'] = '/*####
#
# Author: Armand "bS" Pondman (apondman@zerobarrier.nl)
#
# Latest Version: http://modxcms.com/Jot-998.html
# Jot Demo Site: http://projects.zerobarrier.nl/modx/
# Documentation: http://wiki.modxcms.com/index.php/Jot (wiki)
#
####*/
$jotPath = $modx->config[\'base_path\'] . \'assets/snippets/jot/\';
include_once($jotPath.\'jot.class.inc.php\');
$Jot = new CJot;
$Jot->VersionCheck("1.1.4");
$Jot->Set("path",$jotPath);
$Jot->Set("action", $action);
$Jot->Set("postdelay", $postdelay);
$Jot->Set("docid", $docid);
$Jot->Set("tagid", $tagid);
$Jot->Set("subscribe", $subscribe);
$Jot->Set("moderated", $moderated);
$Jot->Set("captcha", $captcha);
$Jot->Set("badwords", $badwords);
$Jot->Set("bw", $bw);
$Jot->Set("sortby", $sortby);
$Jot->Set("numdir", $numdir);
$Jot->Set("customfields", $customfields);
$Jot->Set("guestname", $guestname);
$Jot->Set("canpost", $canpost);
$Jot->Set("canview", $canview);
$Jot->Set("canedit", $canedit);
$Jot->Set("canmoderate", $canmoderate);
$Jot->Set("trusted", $trusted);
$Jot->Set("pagination", $pagination);
$Jot->Set("placeholders", $placeholders);
$Jot->Set("subjectSubscribe", $subjectSubscribe);
$Jot->Set("subjectModerate", $subjectModerate);
$Jot->Set("subjectAuthor", $subjectAuthor);
$Jot->Set("notify", $notify);
$Jot->Set("notifyAuthor", $notifyAuthor);
$Jot->Set("validate", $validate);
$Jot->Set("title", $title);
$Jot->Set("authorid", $authorid);
$Jot->Set("css", $css);
$Jot->Set("cssFile", $cssFile);
$Jot->Set("cssRowAlt", $cssRowAlt);
$Jot->Set("cssRowMe", $cssRowMe);
$Jot->Set("cssRowAuthor", $cssRowAuthor);
$Jot->Set("tplForm", $tplForm);
$Jot->Set("tplComments", $tplComments);
$Jot->Set("tplModerate", $tplModerate);
$Jot->Set("tplNav", $tplNav);
$Jot->Set("tplNotify", $tplNotify);
$Jot->Set("tplNotifyModerator", $tplNotifyModerator);
$Jot->Set("tplNotifyAuthor", $tplNotifyAuthor);
$Jot->Set("tplSubscribe", $tplSubscribe);
$Jot->Set("debug", $debug);
$Jot->Set("output", $output);
return $Jot->Run();';
$s['ListIndexer'] = '// added in 1.0.1: hidePrivate (hide items from unauthorized users)
//
// Derived from ListIndex 0.6j by jaredc@honeydewdesign.com
// Now supports Show In Menu
//
// This snippet was designed to be a VERY flexible way
// of showing what has been recently added. You can use
// this snippet to show news from one folder, or what has
// been recently added site wide. You can even show what\'s
// new in a \'section\' (everything under a defined folder)!
// Configuration Settings
   // Set the following snippet defaults the way you would normally
   // use this snippet, then use snippet variables in other situations
   // to override the default behaviors.
   // GENERAL OPTIONS
   // $rootFolder [ NULL | string (comma separated page id\'s) ]
   // Decide which folder to pull recent documents from.
   // If you want to specify a few folders, comma separate them.
   // The default NULL will set current page as root. Using 0
   // would search site wide. Can be set with snippet parameter
   // $LIn_root like:
   // [[ListIndexer?LIn_root=3,6,88]] 
   $rootFolder = NULL;
   // $descendentDepth [ int ]
   // How many levels below the root folder(s) do you want to
   // include? Can be overridden in snippet call with LIn_depth:
   // [[ListIndexer?LIn_depth=2]]
   // Uncomment one of these common two or create your own:
   // $descendentDepth = 1; // just children of root folder(s)
   $descendentDepth = 0; // all decendents of root folder(s)
   // $seeThruUnpub [ true | false ]
   // When using descendents, do you want to consider files below
   // an unpublished (hidden) folder? Usually no. But you decide.
   // Snippet parameter: LIn_seeThru
   // [[ListIndexer?LIn_seeThru=1]]
   $seeThruUnpub = false;
   // $seeShowInMenu [ true | false ]
   // When using descendents, do you want to consider files flagged
   // to be hidden from the menus? Usually no. But you decide.
   // Snippet parameter: LIn_seeShowInMenu
   // [[ListIndexer?LIn_seeShowInMenu=1]]
   $seeShowInMenu = false;
   // $hidePrivate [ true | false ]
   // Hide items from users that don\'t have appropriate
   // rights to view. Usually true. But you decide.
   // Snippet parameter: LIn_hidePrivate
   // [[ListIndexer?LIn_hidePrivate=0]]
   $hidePrivate = true;
   // $mode [ \'short\' | \'full\' ]
   // Defines whether this list should be a full, paged
   // list of all documents, or a short list of the most
   // recent few (how many will be defined next). Can be
   // overridden in snippet call with $LIn_mode:
   // [[ListIndexer?LIn_mode=full]]
   $mode = \'short\';
   // $sortBy [ \'alpha\' | \'date\' | \'menuindex\' ]
   // The default date will sort by most recent items first, but
   // by using the \'alpha\' option, and using full mode, you could
   // use this to create an index, or directory.
   // Settable with snippet call $LIn_sort:
   // [[ListIndexer?LIn_sort=alpha]]
   $sortBy = \'date\';
   // $sortDir [ \'ASC\' | \'DESC\' ]
   // Sort direction ascending or descending. Is applied to whatever $sortBy
   // field you have chosen above. If left blank, menuindex and alpha will sort
   // ASC and date DESC.
   // $LIn_dir in snippet call:
   // [[ListIndexer?LIn_dir=ASC&LIn_sortBy=menuindex]]
   $sortDir = \'\';
   // WHAT TO DISPLAY
   // $defaultTitle [ string ]
   // If you want a default title for your list
   // you can declare it here. Or use an empty
   // string to leave this off. This can be overridden
   // in the snippet call with the variable $LIn_title:
   // [[ListIndexer?LIn_title=Some new title]]
   $defaultTitle = \'\';
   // $shortDesc [ true | false ]
   // Show the description on the short list, or not. Snippet
   // parameter $LIn_sDesc:
   // [[ListIndexer?LIn_sDesc=0]]
   $shortDesc = true;
   // $fullDesc [ true | false ]
   // Show the description on the full list, or not. Snippet
   // parameter $LIn_fDesc:
   // [[ListIndexer?LIn_fDesc=0]]
   $fullDesc = true;
   // $linkToIndex [ int ]
   // If you have a page set up as an \'index\' for all the 
   // documents in this list, you can link to it by specifying 
   // its id- can also be set in snippet call with LIn_link:
   // [[ListIndexer?LIn_link=8]]
   // The default 0 will eliminate this link
   $linkToIndex = 0;
   // $indexText [ string ]
   // If you want a link to an index (probably a page running this
   // snippet in "full" mode), you can declare what you want that
   // link to say here. Or in the snippet call with LIn_indexText:
   // [[ListIndexer?LIn_indexText=Financial News Index]]
   $indexText = \'Index\';
   // $showCreationDate [ true | false ]
   // Decide to include date of creation in output or not. From
   // snippet call $LIn_showDate use 1 (true) or 0 (false)
   // [[ListIndexer?LIn_showDate=1]]
   $showCreationDate = true;
   // $dateFormat [ string ]
   // Used to define how date will be displayed (if using date)
   // Y = 4 digit year     y = 2 digit year
   // M = Jan - Dec        m = 01 - 12
   // D = Sun - Sat        d = 01 -31
   // Other standard PHP characters may be used
   $dateFormat = \'Y.m.d\';
   // $shortQty [ int ]
   // Number of entries to list in the short list. Can be
   // overridden in snippet call with $LIn_sQty:
   //[[ListIndexer?LIn_sQty=3]]
   $shortQty = 3;
   // PAGING
   // $fullQty [ int ]
   // Number of entries PER PAGE to list in the full list
   // Can be overridden in snippet call with $LIn_fQty:
   // [[ListIndexer?LIn_fQty=20]]
   // To show all set to 0 here or in snippet call
   $fullQty = 10;
   // $pageSeparator [ string ]
   // What you want your page number links to be separated by.
   // You NEED to include spaces if you want them. They are NOT
   // created automatically to facilitate styling ability.
   // For instance, " | " will render links like:
   // 1 | 2 | 3 | 4
   $pageSeparator = " | ";
   // $pgPosition [ \'top\' | \'bottom\' | \'both\']
   // Pick where you want your pagination links to appear.
   $pgPosition = \'both\';
   // PERFORMANCE
   // $useFastUrls [ true | false ]
   // IMPORTANT- using fast urls will reduce database queries
   // and improve performance WHEN IN FULL MODE ONLY and 
   // should NOT be used when multiple instances of this snippet
   // appear on the same page. With snippet call LIn_fast use 1
   // (true) or 0 (false)
   // [[ListIndexer?LIn_fast=0]]
   $useFastUrls = false;
   // $newLinesForLists [ true | false ]
   // Depending on how you want to style your list, you may
   // or may not want your <li>s on new lines. Generally, if you
   // are displaying then inline (horizontal, you do not want new
   // lines, but standard vertical block styling you do. This is
   // for IE, real browsers don\'t care.
   $newLinesForLists = true;
// Styles
//
// The following are the styles included in this snippet. It is up
// to you to include these styles in your stylesheet to get them to
// look the way you want.
   // div.LIn_title {}          List title div
   // ul.LIn_fullMode {}        UL class
   // ul.LIn_shortMode {}       UL class
   // span.LIn_date {}          Span surrounding pub/created date
   // span.LIn_desc {}          Span surrounding description
   // div.LIn_pagination        Div surrounding pagination links
   // span.LIn_currentPage {}   Span surrounding current page of
   //                           pagination (which wouldn\'t be css-able
   //                           by virtue of its <a> tag)
// **********************************************************************
// END CONFIG SETTINGS
// THE REST SHOULD TAKE CARE OF ITSELF
// **********************************************************************
// Take care of IE list issue
$ie = ($newLinesForLists)? "\\n" : \'\' ;
// Use snippet call defined variables if set
$activeTitle = (isset($LIn_title))? $LIn_title : $defaultTitle ;
$mode = (isset($LIn_mode))? $LIn_mode : $mode ;
$descendentDepth = (isset($LIn_depth))? $LIn_depth : $descendentDepth ;
$seeThruUnpub = (isset($LIn_seeThru))? $LIn_seeThru : $seeThruUnpub ;
$seeShowInMenu = (isset($LIn_seeShowInMenu))? $LIn_seeShowInMenu : $seeShowInMenu ;
$hidePrivate = (isset($LIn_hidePrivate))? $LIn_hidePrivate : $hidePrivate;
$linkToIndex = (isset($LIn_link))? $LIn_link : $linkToIndex ;
$rootFolder = (isset($LIn_root))? $LIn_root : $rootFolder ;
$shortQty = (isset($LIn_sQty))? $LIn_sQty : $shortQty ;
$fullQty = (isset($LIn_fQty))? $LIn_fQty : $fullQty ;
$showCreationDate = (isset($LIn_showDate))? $LIn_showDate : $showCreationDate ;
$indexText = (isset($LIn_indexText))? $LIn_indexText : $indexText ;
$useFastUrls = (isset($LIn_fast))? $LIn_fast : $useFastUrls ;
$sortBy = (isset($LIn_sort))? $LIn_sort : $sortBy;
$shortDesc = (isset($LIn_sDesc))? $LIn_sDesc : $shortDesc ;
$fullDesc = (isset($LIn_fDesc))? $LIn_fDesc : $fullDesc ;
$sortDir = (isset($LIn_dir))? $LIn_dir : $sortDir ;
if ($sortDir == \'\') $sortDir = ($sortBy == \'date\')? \'DESC\' : \'ASC\' ;
// Make useful variable shortcut for the content table
//$tbl = $modx->dbConfig[\'dbase\'] . "." . $modx->dbConfig[\'table_prefix\'] . "site_content";
$tblsc = $modx->getFullTableName("site_content");
$tbldg = $modx->getFullTableName("document_groups");
// Initialize output
$output = \'\';
// ---------------------------------------------------
// ---------------------------------------------------
// Query db for parent folders, or not. First check to
// see if a querystring cheat has been provided- this
// should speed things up considerably when using this
// in full mode. (a.k.a. fastUrls)
// ---------------------------------------------------
// ---------------------------------------------------
$inFolder= isset($_GET[\'LIn_f\'])? $_GET[\'LIn_f\']: 0;
if ((!$inFolder && $useFastUrls) || !$useFastUrls ){
  // Only run all the database queries if we don\'t already
  // know the folders AND fastUrls are desired.
  // ---------------------------------------------------
  // Seed list of viable parents
  // ---------------------------------------------------
  if ($rootFolder == NULL){
    $rootFolder = $modx->documentIdentifier;
  }
  // Set root level parent array
  $seedArray = explode(\',\',$rootFolder);
  $parentsArray = array();
  foreach($seedArray AS $seed){
    $parentsArray[\'level_0\'][] = $seed;
  }
  // ---------------------------------------------------
  // Make array of all allowed parents
  // ---------------------------------------------------
  // Process valid parents
  $levelCounter = 1;
  while (((count($parentsArray) < $descendentDepth) || ($descendentDepth == 0)) && ($levelCounter <= count($parentsArray)) && ($levelCounter < 10)){
    // Find all decendant parents for this level
    $pLevel = \'level_\'.($levelCounter - 1);
    $tempLevelArray = $parentsArray[$pLevel];
    foreach($tempLevelArray AS $p){
      // Get children who are parents (isfolder = 1)
      $validParentSql = "";
      $validParentSql .= "SELECT id FROM $tblsc sc WHERE ";
      $validParentSql .= "isfolder = 1 AND parent = $p ";
      $validParentSql .= "AND sc.deleted=0 ";
      $validParentSql .= ($seeThruUnpub)? ";" : "AND sc.published = 1;";
      // Run statement
      $rsTempParents = $modx->dbQuery($validParentSql);
      // Get number of results
      $countTempParents = $modx->recordCount($rsTempParents);
      // If there are results, put them in an array
      $tempValidArray = false;
      if ($countTempParents){
        for ($i=0;$i<$countTempParents;$i++){
          $tempId = $modx->fetchRow($rsTempParents);
          $tempValidArray[] = $tempId[\'id\'];
        } // end while
      } // end if
	  // populate next level of array 
	  if ($tempValidArray){
	    foreach($tempValidArray AS $kid){
	      $kidLevel = \'level_\'.$levelCounter;
	      $parentsArray[$kidLevel][] = $kid;
	    } // end foreach
	  } // end if
    } // end foreach
    // Do next level
    $levelCounter++;
  } // end while
  // Finalize list of parents
  $validParents = \'\';
  foreach ($parentsArray AS $level){
    foreach ($level AS $validP){
      $validParents .= $validP . \',\';
    }
  }
  // Remove trailing comma
  $validParents = substr($validParents,0,strlen($validParents)-1);
} else {
  $validParents = $_GET[\'LIn_f\'];
}
// ---------------------------------------------------
// Make appropriate SQL statement to pull recent items
// ---------------------------------------------------
// get document groups for current user
if($docgrp = $modx->getUserDocGroups()) $docgrp = implode(",",$docgrp);
$access = " (".($modx->isFrontend() ? "sc.privateweb=0":"1=\'".$_SESSION[\'mgrRole\']."\' OR sc.privatemgr=0").
          (!$docgrp ? "":" OR dg.document_group IN ($docgrp)").") AND ";
// Initialize
$recentSql = "";
$recentSql .= "SELECT sc.id, pagetitle, description";
// Include pub_date or createdon date if date is desired
$recentSql .= ($showCreationDate)? ", IF(pub_date > 0, pub_date, createdon) AS pubDate ": " " ;
$recentSql .= "FROM $tblsc sc LEFT JOIN $tbldg dg on dg.document = sc.id ";
$recentSql .= "WHERE ";
$recentSql .= ($hidePrivate)? $access:"";
// Look everywhere, or just under valid parents
$recentSql .= (($rootFolder == 0) && $seeThruUnpub && ($descendentDepth == 0))? "" : "parent IN ($validParents) AND " ;
// Published
$recentSql .= "sc.published = 1 ";
// Show In Menu
$recentSql .= ($seeShowInMenu)? " " : " AND sc.hidemenu=0 " ;
// Not deleted
$recentSql .= "AND sc.deleted=0 ";
// Choose sort method
switch ($sortBy){
  case \'alpha\':
    $recentSql .= "ORDER BY pagetitle ";
    break;
  case \'menuindex\':
    $recentSql .= "ORDER BY menuindex ";
    break;
  default:
    $recentSql .= "ORDER BY IF(pub_date>0, pub_date, createdon) ";
    break;
}
// Provide a sort direction
$recentSql .= $sortDir;
// If this is a short list, just pull a limited number
$recentSql .= ($mode == \'short\')? " LIMIT $shortQty;" : ";" ;
// Run statement
$rsRecent = $modx->dbQuery($recentSql);
// Count records
$recentLimit = $modx->recordCount($rsRecent);
// ---------------------------------------------------
// Generate pagination string if needed
// ---------------------------------------------------
$offsetParam = isset($_GET[\'LIn_o\'])? $_GET[\'LIn_o\']: 0;
$offset = ($offsetParam && ($mode == \'full\'))? $offsetParam : 0 ;
$pagination = \'\';
// Don\'t bother unless there are enough records to justify it
if ( ($mode == \'full\') && ($recentLimit > $fullQty) && ($fullQty) ){
  $fullUrl = $_SERVER[\'REQUEST_URI\'];
  $urlPieces = parse_url($fullUrl);
  $urlPath = $urlPieces[\'path\'];
  $otherQs = \'\';
  if ($urlPieces[\'query\']){
    foreach($_GET AS $qsKey=>$qsValue){
	  if (($qsKey != \'LIn_o\') && ($qsKey != \'LIn_f\')){
	    $otherQs .= \'&\'.$qsKey.\'=\'.$qsValue;
	  }
	}
  } 
  $fastUrl = $urlPath.\'?LIn_f=\'.$validParents.$otherQs;
  // Determine number of pages needed to show results
  $totalPages = ceil($recentLimit/$fullQty);
  // Make links
  for ($j = 0 ; $j < $totalPages; $j++){
    // only include links to OTHER pages, not current page
    if($offset == $j*$fullQty){
	  $pagination .= \'<span class="LIn_currentPage">\'.($j+1) .\'</span>\';
	} else {
      $pagination .= \'<a href="\'.$fastUrl.\'&LIn_o=\'.($j*$fullQty).\'" title="\'.($j+1).\'">\'.($j+1) .\'</a>\';
	}
	if ($j < $totalPages-1){
	  $pagination .= $pageSeparator;
	}
  }
  // Make final pagination link set in it\'s own div
  $pagination = \'<div class="LIn_pagination">\'."\\n".$pagination."\\n</div>\\n";
}
// ---------------------------------------------------
// Create title if wanted
// ---------------------------------------------------
if ($activeTitle){
  $output .= \'<div class="LIn_title">\'.$activeTitle.\'</div>\'."\\n";
}
// ---------------------------------------------------
// Create list of recent items
// ---------------------------------------------------
// Include pagination
$output .= ($pgPosition == \'top\' || $pgPosition == \'both\')? $pagination : \'\' ;
$output .= \'<ul class="LIn_\'.$mode.\'Mode">\' . $ie;
$recentCounter = $offset;
if ($mode == \'short\') {
  $recentCounterLimit = min($shortQty,$recentLimit);
} else {
  $recentCounterLimit = ($fullQty)? min(($fullQty+$offset),$recentLimit) : $recentLimit ;
}
while (($recentCounter < $recentCounterLimit) && $rsRecent && ($recentLimit > 0)){
  mysql_data_seek($rsRecent,$recentCounter);
  $recentRecord = $modx->fetchRow($rsRecent);
  $output .= \'<li>\';
  // Link to page
  $output .= \'<a href="[~\'.$recentRecord[\'id\'].\'~]" title="\'.strip_tags($recentRecord[\'pagetitle\']).\'">\'.$recentRecord[\'pagetitle\'].\'</a> \';
  // Date if desired
  if ($showCreationDate){
    $output .= \'<span class="LIn_date">\'.date($dateFormat,$recentRecord[\'pubDate\']).\'</span> \';
  }
  // Description if desired
  if ((($mode == \'short\') && ($shortDesc)) || (($mode == \'full\') && ($fullDesc))){
   $output .= \'<span class="LIn_desc">\'.$recentRecord[\'description\'].\'</span>\';
  }
  // wrap it up
  $output .= \'</li>\' . $ie;
  $recentCounter ++;
}
$output .= \'</ul>\' . $ie;
$output .= ($pgPosition == \'bottom\' || $pgPosition == \'both\')? $pagination : \'\' ;
// ---------------------------------------------------
// Link to index
// ---------------------------------------------------
if ($linkToIndex) {
  $output .= \'<div class="LIn_index">\';
  $output .= \'<a href="[~\'.$linkToIndex.\'~]" title="\'.$indexText.\'">\'.$indexText.\'</a>\';
  $output .= \'</div>\';
}
// ---------------------------------------------------
// Send to browser
// ---------------------------------------------------
return $output;';
$s['MemberCheck'] = '#::::::::::::::::::::::::::::::::::::::::
# Version: 1.0
# Created By Ryan Thrash (vertexworks.com)
# Sanitized By Jason Coward (opengeek.com)
#
# Date: November 29, 2005
#
# Changelog: 
# Nov 29, 05 -- initial release
# Jul 13, 06 -- adjusted Singleton to work under PHP4, added placeholder code (by: garryn)
#
#::::::::::::::::::::::::::::::::::::::::
# Description: 	
#	Checks to see if users belong to a certain group and 
#	displays the specified chunk if they do. Performs several
#	sanity checks and allows to be used multiple times on a page.
#
# Params:
#	&groups [array] (REQUIRED)
#		array of webuser group-names to check against
#
#	&chunk [string] (REQUIRED)
#		name of the chunk to use if passes the check
#
#	&ph [string] (optional)
#		name of the placeholder to set instead of directly retuning chunk
#
#	&debug [boolean] (optional | false) 
#		turn on debug mode for extra troubleshooting
#
# Example Usage:
#
#	[[MemberCheck? &groups=`siteadmin, registered users` &chunk=`privateSiteNav` &ph=`MemberMenu` &debug=`true`]]
#
#	This would place the \'members-only\' navigation store in the chunk \'privateSiteNav\'
#	into a placeholder (called \'MemberMenu\'). It will only do this as long as the user 
#	is logged in as a webuser and is a member of the \'siteadmin\' or the \'registered users\'
#	groups. The optional debug parameter can be used to display informative error messages 
#	when configuring this snippet for your site. For example, if the developer had 
#	mistakenly typed \'siteowners\' for the first group, and none existed with debug mode on, 
#	it would have returned the error message: The group siteowners could not be found....
#
#::::::::::::::::::::::::::::::::::::::::
# debug parameter
$debug = isset ($debug) ? $debug : false;
# check if inside manager
if ($m = $modx->insideManager()) {
	return \'\'; # don\'t go any further when inside manager
}
if (!isset ($groups)) {
	return $debug ? \'<p>Error: No Group Specified</p>\' : \'\';
}
if (!isset ($chunk)) {
	return $debug ? \'<p>Error: No Chunk Specified</p>\' : \'\';
}
# turn comma-delimited list of groups into an array
$groups = explode(\',\', $groups);
if (!class_exists(\'MemberCheck\')) {
	class MemberCheck {
		var $allGroups = NULL;
		var $debug;
		function getInstance($debug) {
			static $instance;
			if (!isset ($instance)) {
				$instance = new MemberCheck($debug);
			}
			return $instance;
		}
		function MemberCheck($debug = false) {
			global $modx;
			$this->debug = $debug;
			if ($debug) {
				$this->allGroups = array ();
				$tableName = $modx->getFullTableName(\'webgroup_names\');
				$sql = "SELECT name FROM $tableName";
				if ($rs = $modx->db->query($sql)) {
					while ($row = $modx->db->getRow($rs)) {
						array_push($this->allGroups, stripslashes($row[\'name\']));
					}
				}
			}
		}
		function isValidGroup($groupName) {
			$isValid = !(array_search($groupName, $this->allGroups) === false);
			return $isValid;
		}
		function getMemberChunk(& $groups, $chunk) {
			global $modx;
			$o = \'\';
			if (is_array($groups)) {
				for ($i = 0; $i < count($groups); $i++) {
					$groups[$i] = trim($groups[$i]);
					if ($this->debug) {
						if (!$this->isValidGroup($groups[$i])) {
							return "<p>The group <strong>" . $groups[$i] . "</strong> could not be found...</p>";
						}
					}
				}
				$check = $modx->isMemberOfWebGroup($groups);
				$chunkcheck = $modx->getChunk($chunk);
				$o .= ($check && $chunkcheck) ? $chunkcheck : \'\';
				if (!$chunkcheck)
					$o .= $this->debug ? "<p>The chunk <strong>$chunk</strong> not found...</p>" : \'\';
			} else {
				$o .= "<p>No valid group names were specified!</p>";
			}
			return $o;
		}
	}
}
$memberCheck = MemberCheck :: getInstance($debug);
if (!isset ($ph)) {
	return $memberCheck->getMemberChunk($groups, $chunk);
} else {
	$modx->setPlaceholder($ph, $memberCheck->getMemberChunk($groups, $chunk));
	return \'\';
}';
$s['NewsPublisher'] = '#::::::::::::::::::::::::::::::::::::::::
#
#  Snippet Name: NewsPublisher 
#  Short Desc: Create articles directly from front end (news, blogs, PR, etc.)
#  Created By: Raymond Irving (xwisdom@yahoo.com), August 2005
#
#  Version: 1.4
#  Modified: December 13, 2005
#
#  Changelog: 
#	 Mar 05, 06 -- modx_ prefix removed [Mark]
#    Dec 13, 05 -- Now inherrits web/manager docgroups thanks to Jared Carlow
#
#::::::::::::::::::::::::::::::::::::::::
#  Description: 	
#    Checks to see if users belong to a certain group and 
#    displays the specified chunk if they do. Performs several
#    sanity checks and allows to be used multiple times on a page.
#    Only meant to be used once per page.
#::::::::::::::::::::::::::::::::::::::::
#  
#  Parameters:
#    &folder      - folder id where comments are stored
#    &makefolder  - set to 1 to automatically convert the parent document to a folder. Defaults to 0
#    &postid      - document id to load after posting news item. Defaults to the page created
#    &canpost     - comma delimitted web groups that can post comments. leave blank for public posting
#    &badwords    - comma delimited list of words not allowed in post
#    &template    - name of template to use for news post
#    &headertpl   - header template (chunk name) to be inserted at the begining of the news content
#    &footertpl   - footer template (chunk name) to be inserted at the end of the news content
#    &formtpl     - form template (chunk name)
#    &rtcontent   - name of a richtext content form field 
#    &rtsummary   - name of a richtext summary form field 
#    &showinmenu  - sets the flag to true or false (1|0) as to whether or not it shows in the menu. defaults to false (0)
#    &aliastitle  - set to 1 to use page title as alias suffix. Defaults to 0 - date created.
#    &clearcache  - when set to 1 the system will automatically clear the site cache after publishing an article.
#  
#::::::::::::::::::::::::::::::::::::::::
// get user groups that can post articles
$postgrp = isset($canpost) ? explode(",",$canpost):array();
$allowAnyPost = count($postgrp)==0 ? true : false;
// get clear cache
$clearcache	 = isset($clearcache) ? 1:0;
// get alias title
$aliastitle	 = isset($aliastitle) ? 1:0;
// get folder id where we should store articles
// else store in current document
$folder = isset($folder) ? intval($folder):$modx->documentIdentifier;
// set rich text content field
$rtcontent = isset($rtcontent) ? $rtcontent:\'content\';
// set rich text summary field
$rtsummary = isset($rtsummary) ? $rtsummary:\'introtext\';
// get header
$header = isset($headertpl) ? "{{".$headertpl."}}":\'\';
// get footer
$footer = isset($footertpl) ? "{{".$footertpl."}}":\'\';
// get postback status
$isPostBack = isset($_POST[\'NewsPublisherForm\']) ? true:false;
// get badwords
if(isset($badwords)) {
    $badwords = str_replace(\' \',\'\', $badwords);
    $badwords = "/".str_replace(\',\',\'|\', $badwords)."/i";
}
// get menu status
$hidemenu = isset($showinmenu) && $showinmenu==1 ? 0 : 1;
// get template
$template = isset($template) ? $modx->db->getValue(\'SELECT id FROM \'.$modx->getFullTableName(\'site_templates\').\' WHERE templatename=\\\'\'.mysql_escape_string($template).\'\\\'\'):$modx->config[\'default_template\'];
$message = \'\';
// get form template
if(isset($formtpl)) $formTpl = $modx->getChunk($formtpl);
if(empty($formTpl)) $formTpl = \'
    <form name="NewsPublisher" method="post">
        <input name="NewsPublisherForm" type="hidden" value="on" />
        Page title:<br /><input name="pagetitle" type="text" size="40" value="[+pagetitle+]" /><br />
        Long title:<br /><input name="longtitle" type="text" size="40" value="[+longtitle+]" /><br />
        Description:<br /><input name="description" type="text" size="40" value="[+description+]" /><br />
        Published date:<br /><input name="pub_date" type="text" value="[+pub_date+]" size="40" readonly="readonly" />
        <a onClick="nwpub_cal1.popup();" onMouseover="window.status=\\\'Select date\\\'; return true;" onMouseout="window.status=\\\'\\\'; return true;" style="cursor:pointer; cursor:hand"><img align="absmiddle" src="manager/media/images/icons/cal.gif" width="16" height="16" border="0" alt="Select date" /></a>
        <a onClick="document.NewsPublisher.pub_date.value=\\\'\\\'; return true;" onMouseover="window.status=\\\'Remove date\\\'; return true;" onMouseout="window.status=\\\'\\\'; return true;" style="cursor:pointer; cursor:hand"><img align="absmiddle" src="manager/media/images/icons/cal_nodate.gif" width="16" height="16" border="0" alt="Remove date"></a><br />
        Unpublished date:<br /><input name="unpub_date" type="text" value="[+unpub_date+]" size="40" readonly="readonly" />
        <a onClick="nwpub_cal2.popup();" onMouseover="window.status=\\\'Select date\\\'; return true;" onMouseout="window.status=\\\'\\\'; return true;" style="cursor:pointer; cursor:hand"><img align="absmiddle" src="manager/media/images/icons/cal.gif" width="16" height="16" border="0" alt="Select date" /></a>
        <a onClick="document.NewsPublisher.unpub_date.value=\\\'\\\'; return true;" onMouseover="window.status=\\\'Remove date\\\'; return true;" onMouseout="window.status=\\\'\\\'; return true;" style="cursor:pointer; cursor:hand"><img align="absmiddle" src="manager/media/images/icons/cal_nodate.gif" width="16" height="16" border="0" alt="Remove date"></a><br />
        Summary:<br /><textarea name="introtext" cols="50" rows="5">[+introtext+]</textarea><br />
        Content:<br /><textarea name="content" cols="50" rows="8">[+content+]</textarea><br />
        <input name="send" type="submit" value="Submit" />
    </form>
    <script language="JavaScript" src="manager/media/script/datefunctions.js"></script>
    <script type="text/javascript">
        var elm_txt = {}; // dummy
        var pub = document.forms["NewsPublisher"].elements["pub_date"];
        var nwpub_cal1 = new calendar1(pub,elm_txt);
        nwpub_cal1.path="[(base_url)]manager/media/";
        nwpub_cal1.year_scroll = true;
        nwpub_cal1.time_comp = true;	
        var unpub = document.forms["NewsPublisher"].elements["unpub_date"];
        var nwpub_cal2 = new calendar1(unpub,elm_txt);
        nwpub_cal2.path="[(base_url)]manager/media/";
        nwpub_cal2.year_scroll = true;
        nwpub_cal2.time_comp = true;	
    </script>\';
// switch block
switch ($isPostBack) {
    case true:
        // process post back
        // remove magic quotes from POST
        if(get_magic_quotes_gpc()){
            $_POST = array_map("stripslashes", $_POST);
        }	
        if(trim($_POST[\'pagetitle\'])==\'\') $modx->webAlert(\'Missing page title.\');
        elseif($_POST[$rtcontent]==\'\') $modx->webAlert(\'Missing news content.\');
        else {
            // get created date
            $createdon = time();
            // set alias name of document used to store articles
            if(!$aliastitle) $alias = \'article-\'.$createdon;
            else {
                $alias = $modx->stripTags($_POST[\'pagetitle\']);
                $alias = strtolower($alias);
                $alias = preg_replace(\'/&.+?;/\', \'\', $alias); // kill entities
                $alias = preg_replace(\'/[^\\.%a-z0-9 _-]/\', \'\', $alias);
                $alias = preg_replace(\'/\\s+/\', \'-\', $alias);
                $alias = preg_replace(\'|-+|\', \'-\', $alias);
                $alias = trim($alias, \'-\');			
                $alias = \'article-\'.$modx->db->escape($alias);
            }
            $user = $modx->getLoginUserName();
            $userid = $modx->getLoginUserID();
            if(!$user && $allowAnyPost) $user = \'anonymous\';
            // check if user has rights
            if(!$allowAnyPost && !$modx->isMemberOfWebGroup($postgrp)) {
                return \'You are not allowed to publish articles\';
            }
            $allowedTags = \'<p><br><a><i><em><b><strong><pre><table><th><td><tr><img><span><div><h1><h2><h3><h4><h5><font><ul><ol><li><dl><dt><dd>\';
            // format content
            $content = $modx->stripTags($_POST[$rtcontent],$allowedTags);
            $content = str_replace(\'[+user+]\',$user,$content);
            $content = str_replace(\'[+createdon+]\',strftime(\'%d-%b-%Y %H:%M\',$createdon),$content);
            foreach($_POST as $n=>$v) {
                if(!empty($badwords)) $v = preg_replace($badwords,\'[Filtered]\',$v); // remove badwords
                $v = $modx->stripTags(htmlspecialchars($v));
                $v = str_replace("\\n",\'<br />\',$v);
                $content = str_replace(\'[+\'.$n.\'+]\',$v,$content);
            }
            $title = mysql_escape_string($modx->stripTags($_POST[\'pagetitle\']));
            $longtitle = mysql_escape_string($modx->stripTags($_POST[\'longtitle\']));
            $description = mysql_escape_string($modx->stripTags($_POST[\'description\']));
            $introtext = mysql_escape_string($modx->stripTags($_POST[$rtsummary],$allowedTags));
            $pub_date = $_POST[\'pub_date\'];
            $unpub_date = $_POST[\'unpub_date\'];
            $published = 1;
            // check published date
            if($pub_date=="") {
                $pub_date="0";
            } else {
                list($d, $m, $Y, $H, $M, $S) = sscanf($pub_date, "%2d-%2d-%4d %2d:%2d:%2d");
                $pub_date = strtotime("$m/$d/$Y $H:$M:$S");
                if($pub_date < $createdon) {
                    $published = 1;
                }    elseif($pub_date > $createdon) {
                    $published = 0;	
                }
            }
            // check unpublished date
            if($unpub_date=="") {
                $unpub_date="0";
            } else {
                list($d, $m, $Y, $H, $M, $S) = sscanf($unpub_date, "%2d-%2d-%4d %2d:%2d:%2d");
                $unpub_date = strtotime("$m/$d/$Y $H:$M:$S");
                if($unpub_date < $createdon) {
                    $published = 0;
                }
            }
            // set menu index
            $mnuidx = $modx->db->getValue(\'SELECT MAX(menuindex)+1 as \\\'mnuidx\\\' FROM \'.$modx->getFullTableName(\'site_content\').\' WHERE parent=\\\'\'.$folder.\'\\\'\');
            if($mnuidx<1) $mnuidx = 0;
            // post news content
            $flds = array(
                \'pagetitle\'     => $title,
                \'longtitle\'     => $longtitle,
                \'description\' => $description,
                \'introtext\'     => $introtext,
                \'alias\'             => $alias,
                \'parent\'            => $folder, 
                \'createdon\'     => $createdon,
                \'createdby\'     => ($userid>0 ? $userid * -1:0),
                \'editedon\'        => \'0\',
                \'editedby\'        => \'0\',
                \'published\'     => $published,
                \'pub_date\'        => $pub_date,
                \'unpub_date\'    => $unpub_date,
                \'deleted\'         => \'0\',
                \'hidemenu\'        => $hidemenu,
                \'menuindex\'     => $mnuidx,
                \'template\'        => $template,
                \'content\'         => mysql_escape_string($header.$content.$footer)
            );
            $redirectid = $modx->db->insert($flds,$modx->getFullTableName(\'site_content\'));
            // Doc group thing
            // look in save_content.processor.php for tips (or below)
            $lastInsertId = $modx->db->getInsertId();
            // Get doc groups based on $folder (parent id)
            $parentDocGroupsSql = "SELECT * FROM " . $modx->getFullTableName(\'document_groups\'). " where document=".$folder;
            $parentDocGroupsRs = $modx->db->query($parentDocGroupsSql);
            $parentDocGroupsLimit = $modx->db->getRecordCount($parentDocGroupsRs);
            for ($pdgi = 0; $pdgi < $parentDocGroupsLimit; $pdgi++) { 
                $currentDocGroup = $modx->db->getRow($parentDocGroupsRs);
                $parentDocGroupsArray[$pdgi] = $currentDocGroup[\'document_group\'];
            }
            // put the document in the document_groups it should be in
            // check that up_perms are switched on!
            if($modx->config[\'use_udperms\']==1) {
                if(is_array($parentDocGroupsArray)) {
                    foreach ($parentDocGroupsArray as $dgKey=>$dgValue) {
                        $insertDocSql = "INSERT INTO ".$modx->getFullTableName(\'document_groups\')."(document_group, document) values(".stripslashes($dgValue).", $lastInsertId)";
                        $insertDocRs = $modx->db->query($insertDocSql);
                        if(!$insertDocRs){
                            exit;
                        }
                    } // end foreach
                } // end if doc group array exists
            } // end if perms are used
            // Handle privateweb
            $modx->db->query("UPDATE ".$modx->getFullTableName("site_content")." SET privateweb = 0 WHERE id=\'$lastInsertId\';");
            $privatewebSql =    "
                SELECT DISTINCT ".$modx->getFullTableName(\'document_groups\').".document_group 
                FROM ".$modx->getFullTableName(\'document_groups\').", ".$modx->getFullTableName(\'webgroup_access\')." 
                WHERE 
                ".$modx->getFullTableName(\'document_groups\').".document_group = ".$modx->getFullTableName(\'webgroup_access\').".documentgroup 
                AND 
                ".$modx->getFullTableName(\'document_groups\').".document = $lastInsertId;";
                $privatewebIds = $modx->db->getColumn("document_group",$privatewebSql);
                if(count($privatewebIds)>0) {
                    $modx->db->query("UPDATE ".$modx->getFullTableName("site_content")." SET privateweb = 1 WHERE id = $lastInsertId;");	
                }
                // And privatemgr
                $modx->db->query("UPDATE ".$modx->getFullTableName("site_content")." SET privatemgr = 0 WHERE id=\'$lastInsertId\';");
                $privatemgrSql =    "
                    SELECT DISTINCT ".$modx->getFullTableName(\'document_groups\').".document_group 
                    FROM ".$modx->getFullTableName(\'document_groups\').", ".$modx->getFullTableName(\'membergroup_access\')." 
                    WHERE 
                    ".$modx->getFullTableName(\'document_groups\').".document_group = ".$modx->getFullTableName(\'membergroup_access\')." .documentgroup 
                    AND 
                    ".$modx->getFullTableName(\'document_groups\').".document = $lastInsertId;";
                    $privatemgrIds = $modx->db->getColumn("document_group",$privatemgrSql);
                    if(count($privatemgrIds)>0) {
                        $modx->db->query("UPDATE ".$modx->getFullTableName("site_content")." SET privatemgr = 1 WHERE id = $lastInsertId;");	
                    }
            // end of document_groups stuff!
            if(!empty($makefolder)) {
                // convert parent into folder
                $modx->db->update(array(\'isfolder\'=>\'1\'),$modx->getFullTableName(\'site_content\'),\'id=\\\'\'.$folder.\'\\\'\');
            }
            // empty cache
            if($clearcache==1){
                include_once $modx->config[\'base_path\']."manager/processors/cache_sync.class.processor.php";
                $sync = new synccache();
                $sync->setCachepath("assets/cache/");
                $sync->setReport(false);
                $sync->emptyCache(); // first empty the cache		
            }
            // get redirect/post id
            $redirectid = $modx->db->getValue(\'SELECT id as \\\'redirectid\\\' FROM \'.$modx->getFullTableName(\'site_content\').\' WHERE createdon=\\\'\'.$createdon.\'\\\'\');
            $postid = isset($postid) ? $postid:$redirectid;
            // redirect to post id
            $modx->sendRedirect($modx->makeUrl($postid));
        }
    default: 
        // display news form
        // check if user has rights to post comments
        if(!$allowAnyPost && !$modx->isMemberOfWebGroup($postgrp)) {
            $formTpl = \'\';
        } else {
            foreach($_POST as $n=>$v) {
                $formTpl = str_replace(\'[+\'.$n.\'+]\',$v,$formTpl);
            }
        }
        // return form
        return $message.$formTpl;
        break;
}';
$s['Personalize'] = '#::::::::::::::::::::::::::::::::::::::::
# Created By:Ryan Thrash (modx@vertexworks.com), 
#	and then powered up by kudo (kudo@kudolink.com)
#
# Date: Aug 03, 2006
#
# Changelog: 
# Dec 01, 05 -- initial release
# Jun 19, 06 -- updated description
# Jul 19, 06 -- hacked by kudo to output chunks
# Aug 03, 06 -- added placeholder for username
#
#::::::::::::::::::::::::::::::::::::::::
# Description: 	
#	Checks to see if webusers are logged in and displays yesChunk if the user
#	is logged or noChunk if user is not logged. Insert only the chunk name as
#	param, without {{}}. Can use a placeholder to output the username.
#	TESTED: can be used more than once per page.
#	TESTED: chunks can contain snippets.
#	
#	
# Params:
#	&yesChunk [string] [REQUIRED]
#		Output for LOGGED users
#
#	&noChunk [string] [REQUIRED] 
#		Output for NOT logged users
#
#	&ph [string] (optional) 
#		Placeholder for placing the username
#		ATTENTION!: place this ph only in yesChunk!
#	
#
# Example Usage:
#
#	[[LoggedOrNot? &yesChunk=`Link` &noChunk=`Register` &ph=`name`]]
#
#	Having Chunks named {{Link}} and another {{Register}}, the first will be
#	published to registered user, the second to non-registered users.
#
#::::::::::::::::::::::::::::::::::::::::
# prepare params and variables
$o = \'\';
$yesChunk = (isset($yesChunk))? $yesChunk : \'\';
$noChunk = (isset($noChunk))? $noChunk : \'\';
# do the work
$test = $modx->getLoginUserName();
if ($test) {
    $o = $modx->getChunk($yesChunk);
  } else {
    $o = $modx->getChunk($noChunk);
}
if (isset($ph)) {
	$modx->setPlaceholder($ph,$test);
	return $o;
} else {
	return $o;
}';
$s['Reflect'] = '/*
 * Author: 
 *      Mark Kaplan for MODx CMF
 * 
 * Note: 
 *      If Reflect is not retrieving its own documents, make sure that the
 *          Ditto call feeding it has all of the fields in it that you plan on
 *       calling in your Reflect template. Furthermore, Reflect will ONLY
 *          show what is currently in the Ditto result set.
 *       Thus, if pagination is on it will ONLY show that page\'s items.
*/
// ---------------------------------------------------
//  Includes
// ---------------------------------------------------
$reflect_base = isset($reflect_base) ? $modx->config[\'base_path\'].$reflect_base : $modx->config[\'base_path\']."assets/snippets/reflect/";
/*
    Param: ditto_base
    Purpose:
    Location of Ditto files
    Options:
    Any valid folder location containing the Ditto source code with a trailing slash
    Default:
    [(base_path)]assets/snippets/ditto/
*/
$config = (isset($config)) ? $config : "default";
/*
    Param: config
    Purpose:
    Load a custom configuration
    Options:
    "default" - default blank config file
    CONFIG_NAME - Other configs installed in the configs folder or in any folder within the MODx base path via @FILE
    Default:
    "default"
    Related:
    - <extenders>
*/
require($reflect_base."configs/default.config.php");
require($reflect_base."default.templates.php");
if ($config != "default") {
    require((substr($config, 0, 5) != "@FILE") ? $reflect_base."configs/$config.config.php" : $modx->config[\'base_path\'].trim(substr($config, 5)));
}
// ---------------------------------------------------
//  Parameters
// ---------------------------------------------------
$id = isset($id) ? $id."_" : false;
/*
    Param: id
    Purpose:
    Unique ID for this Ditto instance for connection with other scripts (like Reflect) and unique URL parameters
    Options:
    Any valid folder location containing the Ditto source code with a trailing slash
    Default:
    "" - blank
*/
$getDocuments = isset($getDocuments) ? $getDocuments : 0;
/*
    Param: getDocuments
    Purpose:
    Force Reflect to get documents
    Options:
    0 - off
    1 - on
    Default:
    0 - off
*/
$showItems = isset($showItems) ? $showItems : 1;
/*
    Param: showItems
    Purpose:
    Show individual items in the archive
    Options:
    0 - off
    1 - on
    Default:
    1 - on
*/
$groupByYears = isset($groupByYears)? $groupByYears : 1;
/*
    Param: groupByYears
    Purpose:
    Group the archive by years
    Options:
    0 - off
    1 - on
    Default:
    1 - on
*/
$targetID = isset($targetID) ? $targetID : $modx->documentObject[\'id\'];
/*
    Param: targetID
    Purpose:
    ID for archive links to point to
    Options:
    Any MODx document with a Ditto call setup with extenders=`dateFilter`
    Default:
    Current MODx Document
*/
$dateSource = isset($dateSource) ? $dateSource : "createdon";
/*
    Param: dateSource
    Purpose:
    Date source to display for archive items
    Options:
    # - Any UNIX timestamp from MODx fields or TVs such as createdon, pub_date, or editedon
    Default:
    "createdon"
    Related:
    - <dateFormat>
*/
$dateFormat = isset($dateFormat) ? $dateFormat : "%d-%b-%y %H:%M";  
/*
    Param: dateFormat
    Purpose:
    Format the [+date+] placeholder in human readable form
    Options:
    Any PHP valid strftime option
    Default:
    "%d-%b-%y %H:%M"
    Related:
    - <dateSource>
*/
$yearSortDir = isset($yearSortDir) ? $yearSortDir : "DESC";
/*
    Param: yearSortDir
    Purpose:
    Direction to sort documents
    Options:
    ASC - ascending
    DESC - descending
    Default:
    "DESC"
    Related:
    - <monthSortDir>
*/
$monthSortDir = isset($monthSortDir) ? $monthSortDir : "ASC";
/*
    Param: monthSortDir
    Purpose:
    Direction to sort the months
    Options:
    ASC - ascending
    DESC - descending
    Default:
    "ASC"
    Related:
    - <yearSortDir>
*/
$start = isset($start)? intval($start) : 0;
/*
    Param: start
    Purpose:
    Number of documents to skip in the results
    Options:
    Any number
    Default:
    0
*/  
$phx = (isset($phx))? $phx : 1;
/*
    Param: phx
    Purpose:
    Use PHx formatting
    Options:
    0 - off
    1 - on
    Default:
    1 - on
*/
// ---------------------------------------------------
//  Initialize Ditto
// ---------------------------------------------------
$placeholder = ($id != false && $getDocuments == 0) ? true : false;
if ($placeholder === false) {
    $rID = "reflect_".rand(1,1000);
    $itemTemplate = isset($tplItem) ? $tplItem: "@CODE:".$defaultTemplates[\'item\'];
    $dParams = array(
        "id" => "$rID",
        "save" => "3",  
        "summarize" => "all",
        "tpl" => $itemTemplate,
    );
    $source = $dittoSnippetName;
    $params = $dittoSnippetParameters;
        // TODO: Remove after 3.0
    if (isset($params)) {
        $givenParams = explode("|",$params);
        foreach ($givenParams as $parameter) {
            $p = explode(":",$parameter);
            $dParams[$p[0]] = $p[1];
        }
    }
    /*
        Param: params
        Purpose:
        Pass parameters to the Ditto instance used to retreive the documents
        Options:
        Any valid ditto parameters in the format name:value 
        with multiple parameters separated by a pipe (|)
        Note:
        This parameter is only needed for config, start, and phx as you can
        now simply use the parameter as if Reflect was Ditto
        Default:
        [NULL]
    */
    $reflectParameters = array(\'reflect_base\',\'config\',\'id\',\'getDocuments\',\'showItems\',\'groupByYears\',\'targetID\',\'yearSortDir\',\'monthSortDir\',\'start\',\'phx\',\'tplContainer\',\'tplYear\',\'tplMonth\',\'tplMonthInner\',\'tplItem\',\'save\');
    $params =& $modx->event->params;
    if(is_array($params)) {
        foreach ($params as $param=>$value) {
            if (!in_array($param,$reflectParameters) && substr($param,-3) != \'tpl\') {
                $dParams[$param] = $value;
            }
        }
    }
    $source = isset($source) ? $source : "Ditto";
    /*
        Param: source
        Purpose:
        Name of the Ditto snippet to use
        Options:
        Any valid snippet name
        Default:
        "Ditto"
    */
    $snippetOutput = $modx->runSnippet($source,$dParams);
    $ditto = $modx->getPlaceholder($rID."_ditto_object");
    $resource = $modx->getPlaceholder($rID."_ditto_resource");
} else {
    $ditto = $modx->getPlaceholder($id."ditto_object");
    $resource = $modx->getPlaceholder($id."ditto_resource");
}
if (!is_object($ditto) || !isset($ditto) || !isset($resource)) {
    return !empty($snippetOutput) ? $snippetOutput : "The Ditto object is invalid. Please check it.";
}
// ---------------------------------------------------
//  Templates
// ---------------------------------------------------
$templates[\'tpl\'] = isset($tplContainer) ? $ditto->template->fetch($tplContainer): $defaultTemplates[\'tpl\'];
/*
    Param: tplContainer
    Purpose:
    Container template for the archive
    Options:
    - Any valid chunk name
    - Code via @CODE:
    - File via @FILE:
    Default:
    See default.tempates.php
*/
$templates[\'year\'] = isset($tplYear) ? $ditto->template->fetch($tplYear): $defaultTemplates[\'year\'];
/*
    Param: tplYear
    Purpose:
    Template for the year item
    Options:
    - Any valid chunk name
    - Code via @CODE:
    - File via @FILE:
    Default:
    See default.tempates.php
*/
$templates[\'year_inner\'] = isset($tplYearInner) ? $ditto->template->fetch($tplYearInner): $defaultTemplates[\'year_inner\'];
/*
    Param: tplYearInner
    Purpose:
    Template for the year item (the ul to hold the year template)
    Options:
    - Any valid chunk name
    - Code via @CODE:
    - File via @FILE:
    Default:
    See default.tempates.php
*/
$templates[\'month\'] = isset($tplMonth) ? $ditto->template->fetch($tplMonth): $defaultTemplates[\'month\'];
/*
    Param: tplMonth
    Purpose:
    Template for the month item
    Options:
    - Any valid chunk name
    - Code via @CODE:
    - File via @FILE:
    Default:
    See default.tempates.php
*/
$templates[\'month_inner\'] = isset($tplMonthInner) ? $ditto->template->fetch($tplMonthInner): $defaultTemplates[\'month_inner\'];
/*
    Param: tplMonthInner
    Purpose:
    Template for the month item  (the ul to hold the month template)
    Options:
    - Any valid chunk name
    - Code via @CODE:
    - File via @FILE:
    Default:
    See default.tempates.php
*/
$templates[\'item\'] = isset($tplItem) ? $ditto->template->fetch($tplItem): $defaultTemplates[\'item\'];
/*
    Param: tplItem
    Purpose:
    Template for the individual item
    Options:
    - Any valid chunk name
    - Code via @CODE:
    - File via @FILE:
    Default:
    See default.tempates.php
*/
$ditto->addField("date","display","custom");
    // force add the date field if receiving data from a Ditto instance
// ---------------------------------------------------
//  Reflect
// ---------------------------------------------------
if (function_exists("reflect") === FALSE) {
function reflect($templatesDocumentID, $showItems, $groupByYears, $resource, $templatesDateSource, $dateFormat, $ditto, $templates,$id,$start,$yearSortDir,$monthSortDir) {
    global $modx;
    $cal = array();
    $output = \'\';
    $ph = array(\'year\'=>\'\',\'month\'=>\'\',\'item\'=>\'\',\'out\'=>\'\');
    $build = array();
    $stop = count($resource);
    // loop and fetch all the results
    for ($i = $start; $i < $stop; $i++) {
        $date = getdate($resource[$i][$templatesDateSource]);
        $year = $date["year"];
        $month = $date["mon"];
        $cal[$year][$month][] = $resource[$i];
    }
    if ($yearSortDir == "DESC") {
        krsort($cal);
    } else {
        ksort($cal);
    }
    foreach ($cal as $year=>$months) {
        if ($monthSortDir == "ASC") {
            ksort($months);
        } else {
            krsort($months);
        }
        $build[$year] = $months;
    }
    foreach ($build as $year=>$months) {
        $r_year = \'\';
        $r_month = \'\';
        $r_month_2 = \'\';
        $year_count = 0;
        $items = array();
        foreach ($months as $mon=>$month) {
            $month_text = strftime("%B", mktime(10, 10, 10, $mon, 10, $year));
            $month_url = $ditto->buildURL("month=".$mon."&year=".$year."&day=false&start=0",$templatesDocumentID,$id);
            $month_count = count($month);
            $year_count += $month_count;
            $r_month = $ditto->template->replace(array("year"=>$year,"month"=>$month_text,"url"=>$month_url,"count"=>$month_count),$templates[\'month\']);
            if ($showItems) {
                foreach ($month as $item) {
                    $items[$year][$mon][\'items\'][] = $ditto->render($item, $templates[\'item\'], false, $templatesDateSource, $dateFormat, array(),$phx);
                }
                $r_month_2 = $ditto->template->replace(array(\'wrapper\' => implode(\'\',$items[$year][$mon][\'items\'])),$templates[\'month_inner\']);
                $items[$year][$mon] = $ditto->template->replace(array(\'wrapper\' => $r_month_2),$r_month);
            } else {
                $items[$year][$mon] = $r_month;
            }
        }
        if ($groupByYears) {
            $year_url = $ditto->buildURL("year=".$year."&month=false&day=false&start=0",$templatesDocumentID,$id);
            $r_year =  $ditto->template->replace(array("year"=>$year,"url"=>$year_url,"count"=>$year_count),$templates[\'year\']);
            $var = $ditto->template->replace(array(\'wrapper\'=>implode(\'\',$items[$year])),$templates[\'year_inner\']);
            $output .= $ditto->template->replace(array(\'wrapper\'=>$var),$r_year);
        } else {
            $output .= implode(\'\',$items[$year]);
        }
    }
    $output = $ditto->template->replace(array(\'wrapper\'=>$output),$templates[\'tpl\']);
    $modx->setPlaceholder($id.\'reset\',$ditto->buildURL(\'year=false&month=false&day=false\',$templatesDocumentID,$id));
return $output;
}
}
return reflect($targetID, $showItems, $groupByYears, $resource, $dateSource, $dateFormat, $ditto, $templates,$id,$start,$yearSortDir,$monthSortDir);';
$s['UltimateParent'] = '/*
 * @name UltimateParent
 * @version 2.0 beta (requires MODx 0.9.5+)
 * @author Jason Coward <modx@opengeek.com>
 * 
 * @param &id The id of the document whose parent you want to find.
 * @param &top The top node for the search.
 * @param &topLevel The top level node for the search (root = level 1)
 * 
 * @license Public Domain, use as you like.
 * 
 * @example [[UltimateParent? &id=`45` &top=`6`]] 
 * Will find the ultimate parent of document 45 if it is a child of document 6;
 * otherwise it will return 45.
 * 
 * @example [[UltimateParent? &topLevel=`2`]]
 * Will find the ultimate parent of the current document at a depth of 2 levels
 * in the document hierarchy, with the root level being level 1.
 * 
 * This snippet travels up the document tree from a specified document and
 * returns the "ultimate" parent.  Version 2.0 was rewritten to use the new
 * getParentIds function features available only in MODx 0.9.5 or later.
 * 
 * Based on the original UltimateParent 1.x snippet by Susan Ottwell
 * <sottwell@sottwell.com>.  The topLevel parameter was introduced by staed and
 * adopted here.
 */
$top= isset ($top) && intval($top) ? $top : 0;
$id= isset ($id) && intval($id) ? intval($id) : $modx->documentIdentifier;
$topLevel= isset ($topLevel) && intval($topLevel) ? intval($topLevel) : 0;
if ($id && $id != $top) {
    $pid= $id;
    if (!$topLevel || count($modx->getParentIds($id)) >= $topLevel) {
        while ($parentIds= $modx->getParentIds($id, 1)) {
            $pid= array_pop($parentIds);
            if ($pid == $top) {
                break;
            }
            $id= $pid;
            if ($topLevel && count($modx->getParentIds($id)) < $topLevel) {
                break;
            }
        }
    }
}
return $id;';
$s['Wayfinder'] = '/*
::::::::::::::::::::::::::::::::::::::::
 Snippet name: Wayfinder
 Short Desc: builds site navigation
 Version: 2.0
 Authors: 
	Kyle Jaebker (muddydogpaws.com)
	Ryan Thrash (vertexworks.com)
 Date: February 27, 2006
::::::::::::::::::::::::::::::::::::::::
Description:
    Totally refactored from original DropMenu nav builder to make it easier to
    create custom navigation by using chunks as output templates. By using templates,
    many of the paramaters are no longer needed for flexible output including tables,
    unordered- or ordered-lists (ULs or OLs), definition lists (DLs) or in any other
    format you desire.
::::::::::::::::::::::::::::::::::::::::
Example Usage:
    [[Wayfinder? &startId=`0`]]
::::::::::::::::::::::::::::::::::::::::
*/
$wayfinder_base = $modx->config[\'base_path\']."assets/snippets/wayfinder/";
//Include a custom config file if specified
$config = (isset($config)) ? "{$wayfinder_base}configs/{$config}.config.php" : "{$wayfinder_base}configs/default.config.php";
if (file_exists($config)) {
	include_once("$config");
}
include_once("{$wayfinder_base}wayfinder.inc.php");
if (class_exists(\'Wayfinder\')) {
   $wf = new Wayfinder();
} else {
    return \'error: Wayfinder class not found\';
}
$wf->_config = array(
	\'id\' => isset($startId) ? $startId : $modx->documentIdentifier,
	\'level\' => isset($level) ? $level : 0,
	\'includeDocs\' => isset($includeDocs) ? $includeDocs : 0,
	\'excludeDocs\' => isset($excludeDocs) ? $excludeDocs : 0,
	\'ph\' => isset($ph) ? $ph : FALSE,
	\'debug\' => isset($debug) ? TRUE : FALSE,
	\'ignoreHidden\' => isset($ignoreHidden) ? $ignoreHidden : FALSE,
	\'hideSubMenus\' => isset($hideSubMenus) ? $hideSubMenus : FALSE,
	\'useWeblinkUrl\' => isset($useWeblinkUrl) ? $useWeblinkUrl : TRUE,
	\'fullLink\' => isset($fullLink) ? $fullLink : FALSE,
	\'nl\' => isset($removeNewLines) ? \'\' : "\\n",
	\'sortOrder\' => isset($sortOrder) ? strtoupper($sortOrder) : \'ASC\',
	\'sortBy\' => isset($sortBy) ? $sortBy : \'menuindex\',
	\'limit\' => isset($limit) ? $limit : 0,
	\'cssTpl\' => isset($cssTpl) ? $cssTpl : FALSE,
	\'jsTpl\' => isset($jsTpl) ? $jsTpl : FALSE,
	\'rowIdPrefix\' => isset($rowIdPrefix) ? $rowIdPrefix : FALSE,
	\'textOfLinks\' => isset($textOfLinks) ? $textOfLinks : \'menutitle\',
	\'titleOfLinks\' => isset($titleOfLinks) ? $titleOfLinks : \'pagetitle\',
	\'displayStart\' => isset($displayStart) ? $displayStart : FALSE,
);
//get user class definitions
$wf->_css = array(
	\'first\' => isset($firstClass) ? $firstClass : \'\',
	\'last\' => isset($lastClass) ? $lastClass : \'last\',
	\'here\' => isset($hereClass) ? $hereClass : \'active\',
	\'parent\' => isset($parentClass) ? $parentClass : \'\',
	\'row\' => isset($rowClass) ? $rowClass : \'\',
	\'outer\' => isset($outerClass) ? $outerClass : \'\',
	\'inner\' => isset($innerClass) ? $innerClass : \'\',
	\'level\' => isset($levelClass) ? $levelClass: \'\',
	\'self\' => isset($selfClass) ? $selfClass : \'\',
	\'weblink\' => isset($webLinkClass) ? $webLinkClass : \'\',
);
//get user templates
$wf->_templates = array(
	\'outerTpl\' => isset($outerTpl) ? $outerTpl : \'\',
	\'rowTpl\' => isset($rowTpl) ? $rowTpl : \'\',
	\'parentRowTpl\' => isset($parentRowTpl) ? $parentRowTpl : \'\',
	\'parentRowHereTpl\' => isset($parentRowHereTpl) ? $parentRowHereTpl : \'\',
	\'hereTpl\' => isset($hereTpl) ? $hereTpl : \'\',
	\'innerTpl\' => isset($innerTpl) ? $innerTpl : \'\',
	\'innerRowTpl\' => isset($innerRowTpl) ? $innerRowTpl : \'\',
	\'innerHereTpl\' => isset($innerHereTpl) ? $innerHereTpl : \'\',
	\'activeParentRowTpl\' => isset($activeParentRowTpl) ? $activeParentRowTpl : \'\',
	\'categoryFoldersTpl\' => isset($categoryFoldersTpl) ? $categoryFoldersTpl : \'\',
	\'startItemTpl\' => isset($startItemTpl) ? $startItemTpl : \'\',
);
//Process Wayfinder
$output = $wf->run();
if ($wf->_config[\'debug\']) {
	$output .= $wf->renderDebugOutput();
}
//Ouput Results
if ($wf->_config[\'ph\']) {
    $modx->setPlaceholder($wf->_config[\'ph\'],$output);
} else {
    return $output;
}';
$s['WebChangePwd'] = '# Created By Raymond Irving April, 2005
#::::::::::::::::::::::::::::::::::::::::
# Params:	
#
#	&tpl			- (Optional)
#		Chunk name or document id to use as a template
#				  
#	Note: Templats design:
#			section 1: change pwd template
#			section 2: notification template 
#
# Examples:
#
#	[[WebChangePwd? &tpl=`ChangePwd`]] 
# Set Snippet Paths 
$snipPath  = (($modx->insideManager())? "../":"");
$snipPath .= "assets/snippets/";
# check if inside manager
if ($m = $modx->insideManager()) {
	return \'\'; # don\'t go any further when inside manager
}
# Snippet customize settings
$tpl		= isset($tpl)? $tpl:"";
# System settings
$isPostBack		= count($_POST) && isset($_POST[\'cmdwebchngpwd\']);
# Start processing
include_once $snipPath."weblogin/weblogin.common.inc.php";
include_once $snipPath."weblogin/webchangepwd.inc.php";
# Return
return $output;';
$s['WebChangePwdProps'] = '&tpl=Template;string;  ';
$s['WebLogin'] = '# Created By Raymond Irving 2004
#::::::::::::::::::::::::::::::::::::::::
# Params:	
#
#	&loginhomeid 	- (Optional)
#		redirects the user to first authorized page in the list.
#		If no id was specified then the login home page id or 
#		the current document id will be used
#
#	&logouthomeid 	- (Optional)
#		document id to load when user logs out	
#
#	&pwdreqid 	- (Optional)
#		document id to load after the user has submited
#		a request for a new password
#
#	&pwdactid 	- (Optional)
#		document id to load when the after the user has activated
#		their new password
#
#	&logintext		- (Optional) 
#		Text to be displayed inside login button (for built-in form)
#
#	&logouttext 	- (Optional)
#		Text to be displayed inside logout link (for built-in form)
#	
#	&tpl			- (Optional)
#		Chunk name or document id to as a template
#				  
#	Note: Templats design:
#			section 1: login template
#			section 2: logout template 
#			section 3: password reminder template 
#
#			See weblogin.tpl for more information
#
# Examples:
#
#	[[WebLogin? &loginhomeid=`8` &logouthomeid=`1`]] 
#
#	[[WebLogin? &loginhomeid=`8,18,7,5` &tpl=`Login`]] 
# Set Snippet Paths 
$snipPath = $modx->config[\'base_path\'] . "assets/snippets/";
# check if inside manager
if ($m = $modx->insideManager()) {
	return \'\'; # don\'t go any further when inside manager
}
# deprecated params - only for backward compatibility
if(isset($loginid)) $loginhomeid=$loginid;
if(isset($logoutid)) $logouthomeid = $logoutid;
if(isset($template)) $tpl = $template;
# Snippet customize settings
$liHomeId	= isset($loginhomeid)? explode(",",$loginhomeid):array($modx->config[\'login_home\'],$modx->documentIdentifier);
$loHomeId	= isset($logouthomeid)? $logouthomeid:$modx->documentIdentifier;
$pwdReqId	= isset($pwdreqid)? $pwdreqid:0;
$pwdActId	= isset($pwdactid)? $pwdactid:0;
$loginText	= isset($logintext)? $logintext:\'Login\';
$logoutText	= isset($logouttext)? $logouttext:\'Logout\';
$tpl		= isset($tpl)? $tpl:"";
# System settings
$webLoginMode = isset($_REQUEST[\'webloginmode\'])? $_REQUEST[\'webloginmode\']: \'\';
$isLogOut		= $webLoginMode==\'lo\' ? 1:0;
$isPWDActivate	= $webLoginMode==\'actp\' ? 1:0;
$isPostBack		= count($_POST) && (isset($_POST[\'cmdweblogin\']) || isset($_POST[\'cmdweblogin_x\']));
$txtPwdRem 		= isset($_REQUEST[\'txtpwdrem\'])? $_REQUEST[\'txtpwdrem\']: 0;
$isPWDReminder	= $isPostBack && $txtPwdRem==\'1\' ? 1:0;
$site_id = isset($site_id)? $site_id: \'\';
$cookieKey = substr(md5($site_id."Web-User"),0,15);
# Start processing
include_once $snipPath."weblogin/weblogin.common.inc.php";
include_once ($modx->config[\'base_path\'] . "manager/includes/crypt.class.inc.php");
if ($isPWDActivate || $isPWDReminder || $isLogOut || $isPostBack) {
	# include the logger class
	include_once $modx->config[\'base_path\'] . "manager/includes/log.class.inc.php";
	include_once $snipPath."weblogin/weblogin.processor.inc.php";
}
include_once $snipPath."weblogin/weblogin.inc.php";
# Return
return $output;';
$s['WebLoginProps'] = '&loginhomeid=Login Home Id;string; &logouthomeid=Logout Home Id;string; &logintext=Login Button Text;string; &logouttext=Logout Button Text;string; &tpl=Template;string;  ';
$s['WebSignup'] = '# Created By Raymond Irving April, 2005
#::::::::::::::::::::::::::::::::::::::::
# Usage:     
#    Allows a web user to signup for a new web account from the website
#    This snippet provides a basic set of form fields for the signup form
#    You can customize this snippet to create your own signup form
#
# Params:    
#
#    &tpl        - (Optional) Chunk name or document id to use as a template
#    &groups     - Web users groups to be assigned to users
#    &useCaptcha - (Optional) Determine to use (1) or not to use (0) captcha
#                  on signup form - if not defined, will default to system
#                  setting. GD is required for this feature. If GD is not 
#                  available, useCaptcha will automatically be set to false;
#                  
#    Note: Templats design:
#        section 1: signup template
#        section 2: notification template 
#
# Examples:
#
#    [[WebSignup? &tpl=`SignupForm` &groups=`NewsReaders,WebUsers`]] 
# Set Snippet Paths 
$snipPath = $modx->config[\'base_path\'] . "assets/snippets/";
# check if inside manager
if ($m = $modx->insideManager()) {
    return \'\'; # don\'t go any further when inside manager
}
# Snippet customize settings
$tpl = isset($tpl)? $tpl:"";
$useCaptcha = isset($useCaptcha)? $useCaptcha : $modx->config[\'use_captcha\'] ;
// Override captcha if no GD
if ($useCaptcha && !gd_info()) $useCaptcha = 0;
# setup web groups
$groups = isset($groups) ? explode(\',\',$groups):array();
for($i=0;$i<count($groups);$i++) $groups[$i] = trim($groups[$i]);
# System settings
$isPostBack        = count($_POST) && isset($_POST[\'cmdwebsignup\']);
$output = \'\';
# Start processing
include_once $snipPath."weblogin/weblogin.common.inc.php";
include_once $snipPath."weblogin/websignup.inc.php";
# Return
return $output;';
$s['WebSignupProps'] = '&tpl=Template;string;  ';
$s['Sitemap'] = '/*
==================================================
	sitemap
==================================================
Outputs a machine readable site map for search
engines and robots. Supports the following
formats:
- Sitemap Protocol used by Google Sitemaps
  (http://www.google.com/webmasters/sitemaps/)
- URL list in text format
  (e.g. Yahoo! submission)
Author: Grzegorz Adamiak [grad]
Version: 1.0.3 @ 2007-04-25
License: LGPL
MODx: 0.9.2.1
History:
# 1.0.3
- NC added ability to specify the XSL URL - you don\'t always need one and it 
  seems to create a lot of support confusion!
  It is now a parameter (&xsl=``) which can take either an alias or a doc ID
- Modifications suggested by forum users Grad and Picachu incorporated
  (http://modxcms.com/forums/index.php/topic,5754.60.html)
# 1.0.2
- Reworked fetching of template variable value to
  get INHERITED value.
# 1.0.1
- Reworked fetching of template variable value,
  now it gets computed value instead of nominal;
  however, still not the inherited value.
# 1.0
- First public release.
TODO:
- provide output for ROR
--------------------------------------------------
*/
/* Parameters
----------------------------------------------- */
# $startid [ int ]
# Id of the \'root\' document from which the sitemap
# starts.
# Default: 0
$startid = (isset($startid)) ? $startid : 0;
# $format [ sp | txt | ror ]
# Which format of sitemap to use:
# - sp <- Sitemap Protocol used by Google
# - txt <- text file with list of URLs
# TODO - ror <- Resource Of Resources
# Default: sp
$format = (isset($format) && ($format != \'ror\')) ? $format : \'sp\';
# $priority [ str ]
# Name of TV which sets the relative priority of
# the document. If there is no such TV, this
# parameter will not be used.
# Default: sitemap_priority
$priority = (isset($priority)) ? $priority : \'sitemap_priority\';
# $changefreq [ str ]
# Name of TV which sets the change frequency. If
# there is no such TV this parameter will not be
# used.
# Default: sitemap_changefreq
$changefreq = (isset($changefreq)) ? $changefreq : \'sitemap_changefreq\';
# $excludeTemplates [ str ]
# Documents based on which templates should not be
# included in the sitemap. Comma separated list
# with names of templates.
# Default: empty
$excludeTemplates = (isset($excludeTemplates)) ? $excludeTemplates : array();
# $excludeTV [ str ]
# Name of TV (boolean type) which sets document
# exclusion form sitemap. If there is no such TV
# this parameter will not be used.
# Default: \'sitemap_exclude\'
$excludeTV = (isset($excludeTV)) ? $excludeTV : \'sitemap_exclude\';
# $xsl [ str ] 
# URL to the XSL style sheet
# or
# $xsl [ int ]
# doc ID of the XSL style sheet
$xsl = (isset($xsl)) ? $xsl : \'\';
if (is_numeric($xsl)) { $xsl = $modx->makeUrl($xsl); }
/* End parameters
----------------------------------------------- */
# get list of documents
# ---------------------------------------------
$docs = getDocs($modx,$startid,$priority,$changefreq,$excludeTV);
# filter out documents by template or TV
# ---------------------------------------------
// get all templates
$select = $modx->db->select("id, templatename", $modx->getFullTableName(\'site_templates\'));
while ($query = $modx->db->getRow($select))
{
	$allTemplates[$query[\'id\']] = $query[\'templatename\'];
}
// get templates to exclude
if (!empty ($excludeTemplates))
{
	$excludeTemplates = explode(",", $excludeTemplates);
	// trim template names and remove empty ones (just in case)
	foreach ($excludeTemplates as $template)
	{
		if (trim($template))
			$excludeTemplates[] = trim($template);
	} // end foreach
}
// filter out documents
foreach ($docs as $doc)
{
	if (!in_array($doc[\'template\'], array_flip(array_intersect($allTemplates, $excludeTemplates))))
		if (!$doc[$excludeTV] && $doc[\'published\'] && $doc[\'template\']!=0 )
			$output[] = $doc;
}
$docs = $output;
unset ($output, $allTemplates, $excludeTemplates);
# build sitemap in specified format
# ---------------------------------------------
switch ($format)
{
	case \'txt\': // plain text list of URLs
		foreach ($docs as $doc)
		{
			$url = \'[(site_url)][~\'.$doc[\'id\'].\'~]\';
			$output .= $url."\\n";
		} // end foreach
		break;
	case \'ror\': // TODO
	default: // Sitemap Protocol
		// Modified by NC
		$output = \'<?xml version="1.0" encoding="UTF-8"?>\'."\\n";
		if ($xsl != \'\') {
			$output .=\'<?xml-stylesheet type="text/xsl" href="\'.$xsl.\'"?>\'."\\n";
		}
		$output .=\'<urlset xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd" xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">\'."\\n";
		// End modified by NC
		foreach ($docs as $doc)
		{
			$url = \'[(site_url)][~\'.$doc[\'id\'].\'~]\';
			$date = $doc[\'editedon\'];
			$date = date("Y-m-d", $date);
			$docPriority = ($doc[$priority]) ? $doc[$priority] : 0; // false if TV doesn\'t exist
			$docChangefreq = ($doc[$changefreq]) ? $doc[$changefreq] : 0; // false if TV doesn\'t exist
			$output .= "\\t".\'<url>\'."\\n";
			$output .= "\\t\\t".\'<loc>\'.$url.\'</loc>\'."\\n";
			$output .= "\\t\\t".\'<lastmod>\'.$date.\'</lastmod>\'."\\n";
			$output .= ($docPriority) ? ("\\t\\t".\'<priority>\'.$docPriority.\'</priority>\'."\\n") : \'\'; // don\'t output anything if TV doesn\'t exist
			$output .= ($docChangefreq) ? ("\\t\\t".\'<changefreq>\'.$docChangefreq.\'</changefreq>\'."\\n") : \'\'; // don\'t output anything if TV doesn\'t exist
			$output .= "\\t".\'</url>\'."\\n";
		} // end foreach
		$output .= \'</urlset>\';
} // end switch
return $output;
# functions
# ---------------------------------------------
# gets (inherited) value of template variable
function getTV($modx,$docid,$doctv)
{
/* apparently in 0.9.2.1 the getTemplateVarOutput function doesn\'t work as expected and doesn\'t return INHERITED value; this is probably to be fixed for next release; see http://modxcms.com/bugs/task/464
	$output = $modx->getTemplateVarOutput($tv,$docid);
	return $output[$tv];
*/
	while ($pid = $modx->getDocument($docid,\'parent\'))
	{
		$tv = $modx->getTemplateVar($doctv,\'*\',$docid);
		if (($tv[\'value\'] && substr($tv[\'value\'],0,8) != \'@INHERIT\') or !$tv[\'value\']) // tv default value is overriden (including empty)
		{
			$output = $tv[\'value\'];
			break;
		}
		else // there is no parent with default value overriden 
		{
			$output = trim(substr($tv[\'value\'],8));
		}
		$docid = $pid[\'parent\']; // move up one document in document tree
	} // end while
	return $output;
}
# gets list of published documents with properties
function getDocs($modx,$startid,$priority,$changefreq,$excludeTV)
{
	// get children documents
	$docs = $modx->getAllChildren($startid,\'menuindex\',\'asc\',\'id,editedon,template,published\'); 
	// add sub-children to the list
	foreach ($docs as $key => $doc)
	{
		$id = $doc[\'id\'];
		$docs[$key][$priority] = getTV($modx,$id,$priority); // add priority property
		$docs[$key][$changefreq] = getTV($modx,$id,$changefreq); // add changefreq property
		$docs[$key][$excludeTV] = getTV($modx,$id,$excludeTV); // add excludeTV property
		if ($modx->getActiveChildren($id))
			$docs = array_merge($docs, getDocs($modx,$id,$priority,$changefreq,$excludeTV));
	} // end foreach
	return $docs;
}';
$s['CopyYears'] = '// CopyYears - snippet for MODx
// Automatically updating copyright date
// License GPL
// Written 04-2006 by scraf
// &startYear - first year of notice
//              defaults to current year
// [!CopyYears?startYear=`2005`!]
// will display 2005 - 2006 or 2005 - 2007, whatever the current year is.
$spacer = " - ";
$now = date("Y");
$startYear = isset($startYear)? $startYear : $now;
$years = ($now > $startYear) ? $startYear.$spacer.$now : $now;
return "$years";';
$s['labelgen '] = '// CHXO labelgen -- converts a string to a PNG image, mostly to camoflage email addys on websites
// Homepage: http://chxo.com/berylium/software/labelgen.html
//
// 2003-04-14 -- initial version
// 2003-04-15 -- added GPL and showsource, no antialiasing at 10 pixels or less
// TODO:
//  i18n testing and a unicode font
//  image cache subsystem
//  convert to free fonts??? help!
/*
labelgen.php -- text-to-PNG-image converter using PHP
Copyright (C) 2003 by Chris Snyder (csnyder@chxo.com)
This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
*/
// setup
$fontpath= "/home/chxo/http/labelgen/";
(isset($font)) ? $font : $font = \'ARIAL.TTF\';
(isset($textval)) ? $textval : $textval = \'webmaster@mtzioncary.org\';
(isset($size)) ? $size : $size = 12;
(isset($padding)) ? $padding : $padding = 2;
(isset($bgcolor)) ? $bgcolor : $bgcolor = \'F0F0F0\';
(isset($textcolor)) ? $textcolor : $textcolor = \'000\';
(isset($transparent)) ? $transparent : $transparent = 0;
(isset($showsource)) ? $showsource : $showsource = \'\';
// defaults
if ($font=="") $font="ARIAL.TTF";
if ($textval=="") $textval="The quick brown dog jumped over the lazy fox@spammer.com";
if ($size=="") $size= 12;
if ($padding=="") $padding= 2;
if ($bgcolor=="") $bgcolor= "f0f0f0";
if ($textcolor=="") $textcolor= "000000";
if ($transparent=="") $transparent= 0;
if ($size>10) $antialias= 1;
else $antialias= 0;
// setup pt. 2
$fontfile= $fontpath.$font;
// geometry
$box= imageftbbox( $size, 0, $fontfile, $textval, array());
$boxwidth= $box[4];
$boxheight= abs($box[3]) + abs($box[5]);
$width= $boxwidth + ($padding*2) + 1;
$height= $boxheight + ($padding*2) + 0;
$textx= $padding;
$texty= ($boxheight - abs($box[3])) + $padding;
//print "$width x $height ($box[4] x ($box[3] - $box[5]))"; exit;
// create the image
$png= imagecreate($width, $height);
// colors
function mkcolor($color){
    // courtesy simon: http://www.php.net/manual/en/function.imagecolorallocate.php#19576
    global $png;
    $color = str_replace("#","",$color);
    $red = hexdec(substr($color,0,2));
    $green = hexdec(substr($color,2,2));
    $blue = hexdec(substr($color,4,2));
    $out = imagecolorallocate($png, $red, $green, $blue);
    return($out);
    }
$bg= mkcolor($bgcolor);
$tx= mkcolor($textcolor);
// transparency
if ($transparent==1) {
    $tbg= imagecolortransparent($png, $bg);
    }
// antialiasing
if (!$antialias) {
    $tx= (0 - $tx);
    }
// add text
imagefttext( $png, $size, 0, $textx, $texty, $tx, $fontfile, $textval, array());
// send the image
if ($showsource=="") {
    header("content-type: image/png");
    imagepng($png);
    }
imagedestroy($png);';
$s['eFormEvent'] = 'function setMinistryFormProfile(&$fields, &$templates) {
    if (empty($_POST)) {
        (array_key_exists(\'ministry\', $_GET)) ? $_GET[\'ministry\'] : $_GET[\'ministry\'] = \'Membership\';
        (array_key_exists(\'ministry_id\', $_GET)) ? $_GET[\'ministry_id\'] : $_GET[\'ministry_id\'] = 2;
        $fields[\'ministry_id\'] = $_GET[\'ministry_id\'] ;
        $fields[\'ministry\'] =  $_GET[\'ministry\'] ;
    }
   else  {
        $fields[\'ministry_id\'] = $_POST[\'ministry_id\'] ;
        $fields[\'ministry\'] =  $_POST[\'ministry\'] ;       
  }
    return true;
}';
$s['MetaTagsExtra'] = '/**
| --------------------------------------------------------------------------
| Snippet Title:     MetaTagsExtra
| Snippet Version:   1.5 (final) modified by Soda
|
| Description:
|   Returns HTML for document dependant meta tags: Generator,
|   Description, Abstract, Author, Copyright, 
|   Robots, Googlebot, Cache-Control, Pragma, Expires and Last Modified
|
| Snippet Author:
|   Miels with mods by Lloyd Borrett (lloyd@borrett.id.au)
|      modified by Soda to add keywords, lang and MODx compliance
| Version History:
|   1.3 - Lloyd Borrett added the Robots meta tag based 
|   on the idea in the SearchableSE snippet by jaredc
|
|   1.4 - Lloyd Borrett added the Abstract meta tag
|   based on the Site Name and the Long Title.
|   Also added the Generator meta tag based on the MODx version details.
|   The Robots meta tag is now only output if the document is non-searchable,
|   to reduce HTML bloat. The Googlebot meta tag is now also output 
|   when the document is non-searchable.
|
|   1.5 - Lloyd Borrett added no-cache directives via the Cache-Control 
|   and Pragma meta tags if the document is non-cacheable.
|   Abstract meta tag uses the document description if long title not set.
|   Cleaned up some other tests. 
|   
|   Edited by Shane Briggs to refer to MODx rather than Etomite and 
|   removed the Get Keyword function as that is provided by MODx
|   natively as well as via the GetKeywords snippet
|
|
| Snippet Category:
|   Search Engines           
|
| Usage:
|   Insert [[MetaTags]] anywhere in the head section of your template.
|   Don\'t forget to set the full name of all document authors.
|   You can find it at "Manage users" -> your username -> "full name".
|   This value is used for the Author and Copyright meta tags.
|
|   When you mark a page as "NOT searchable" - a Robots meta tag 
|   with "noindex, nofollow" is inserted to keep web search engines
|   from indexing that document. After all, there\'s little value in 
|   making your MODx document unsearchable to MODx, when 
|   Google still knows where it is! For "searchable" documents, no
|   Robots meta tag is inserted. The default is "index, follow", so not
|   putting it in reduced HTML bloat.
|   A Googlebot meta tag with "noindex, nofollow, noarchive, nosnippet"
|   is also output, to tell Google to clean out its cache.
|
|   When you mark a page as "non cacheable", no-cache directives 
|   are inserted via the Cache-Control and Pragma meta tags.
| ---------------------------------------------------------------------------
| The keywords for the page must be empty else MODx display a <meta http-equiv="keywords"... />
| I use a TV for specific page keywords nammed [*keywords*] which contains comma separated list of keywords.
*/
$MetaKeywords ="";
// Keywords displayed on all pages
// default is the $all_page_keywords parameter, else uncomment the line of your choice:
// With a chunk:
// $all_page_keywords="{{AllPageKeywords}}"; 
// Defined here
// $all_page_keywords="keywords1, keywors2,...";
$comma=(isset($all_page_keywords))?\', \':\'\';
// *** KEYWORDS ***
$MetaKeywords= " <meta name=\\"keywords\\" content=\\"{$all_page_keywords}{$comma}[*keywords*]\\" />\\n";
$MetaLang ="";
$MetaGenerator = "";
$MetaDesc = "";
$MetaAbstract = "";
$MetaAuthor = "";
$MetaCopyright = "";
$MetaRobots = "";
$MetaGooglebot = "";
$MetaCache = "";
$MetaPragma = "";
$MetaExpires = "";
$MetaEditedOn = "";
// *** Language***
$MetaLang = " <meta http-equiv=\\"Content-Type\\" content=\\"text/html; charset=[(etomite_charset)]\\" />\\n";
// *** GENERATOR ***
$version = $modx->getVersionData();
$MetaGenerator = " <meta name=\\"version\\" content=\\"";
if(!$version[\'version\'] == ""){
   $MetaGenerator .= "MODx ".$version[\'version\'];
}
if(!$version[\'code_name\'] == ""){
   $MetaGenerator .= " (".$version[\'code_name\'].")";
}
$MetaGenerator .= "\\" />\\n";
// *** DESCRIPTION ***
$description = $modx->documentObject[\'description\'];
if(!$description == ""){
   $MetaDesc = " <meta name=\\"description\\" content=\\"$description\\" />\\n";
}
// *** ABSTRACT ***
// Use the Site Name and the documents Long Title (or Description)  
// to build an Abstract meta tag.
$sitename = $modx->config[\'site_name\'];
$abstract = $modx->config[\'longtitle\'];
if($abstract == ""){
   $abstract = $description;
}
if(!sitename == ""){
   $MetaAbstract = " <meta name=\\"abstract\\" content=\\"".$sitename;
   if(!$abstract == ""){
      $MetaAbstract .= " - ".$abstract."\\" />\\n";
   } else {
      $MetaAbstract .= "\\" />\\n";
   }
} else {
   if(!$abstract == ""){
      $MetaAbstract = " <meta name=\\"abstract\\" content=\\"";
      $MetaAbstract .= $abstract."\\" />\\n";
   }
}
// *** AUTHOR, COPYRIGHT, PUBLISHER and COMPANY ***
$authorid = $modx->documentObject[\'createdby\'];
$createdon = date(Y,$modx->documentObject[\'createdon\']);
$tbl = $modx->getFullTableName("user_attributes");
$query = "SELECT fullname FROM $tbl WHERE $tbl.id = $authorid"; 
$rs = $modx->dbQuery($query);
$limit = $modx->recordCount($rs); 
if($limit=1) {
  $resourceauthor = $modx->fetchRow($rs); 
  $authorname = $resourceauthor[\'fullname\'];  
}
if (!$authorname == ""){
  $MetaAuthor = " <meta name=\\"author\\" content=\\"$authorname\\" />\\n";
  $MetaCopyright = " <meta name=\\"copyright\\" content=\\"Copyright (c) $createdon by $authorname. All rights reserved.\\" />\\n";
}
// *** ROBOTS and GOOGLEBOT ***
// Determine if this document has been set to non-searchable.
// As the default for the Robots and Googlebot Meta Tags are index and follow,
// these tags are only needed when we don\'t want the document searched. 
if(!$modx->documentObject[\'searchable\']){
  $MetaRobots = " <meta name=\\"robots\\" content=\\"noindex, nofollow\\" />\\n";
  $MetaGooglebot = " <meta name=\\"googlebot\\" content=\\"noindex, nofollow, noarchive, nosnippet\\" />\\n";
}
// *** CACHE-CONTROL and PRAGMA ***
// Output no-cache directives via the Cache-Control and Pragma meta tags
// if this document is set to non-cacheable. 
$cacheable = $modx->documentObject[\'cacheable\'];
if (!$cacheable) {
   $MetaCache = " <meta http-equiv=\\"cache-control\\" content=\\"no-cache\\" />\\n";
   $MetaPragma = " <meta http-equiv=\\"pragma\\" content=\\"no-cache\\" />\\n";
}
// *** EXPIRES ***
$unpubdate = date(r,$modx->documentObject[\'unpub_date\']);
if($unpubdate > 0){
   $MetaExpires = " <meta http-equiv=\\"expires\\" content=\\"$unpubdate\\" />\\n";
}
// *** LAST MODIFIED ***
$editedon = date(r,$modx->documentObject[\'editedon\']);
$MetaEditedOn = " <meta http-equiv=\\"last-modified\\" content=\\"$editedon\\" />\\n";
// *** RETURN RESULTS ***
// you can change the order of displayed items:
$output = $MetaLang.$MetaGenerator.$MetaKeywords.$MetaDesc.$MetaAbstract.$MetaAuthor.$MetaCopyright;
$output .= $MetaRobots.$MetaGooglebot.$MetaCache.$MetaPragma.$MetaExpires.$MetaEditedOn;
return $output;';
$p = &$this->pluginCache;
$p['QuickEdit'] = '/*
 *  Written by: Adam Crownoble
 *  Contact: adam@obledesign.com
 *  Created: 8/14/2005
 *  Updated: 11/27/2005 - Added support for show Manager & Help links option
 *  Updated: 12/05/2005 - Added support for editable fields as a module configuration option
 *  For: MODx cms (modxcms.com)
 *  Name: QuickEdit
 *  Description: Renders QuickEdit links in the frontend
 *  Shared parameters from: QuickEdit module
 *  Events: OnParseDocument, OnWebPagePrerender
 */
/*
                             License
QuickEdit - A MODx module which allows the editing of content via
            the frontent of the site
Copyright (C) 2005  Adam Crownoble
This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
*/
// Don\'t do anything if we aren\'t logged in
if(isset($_SESSION[\'mgrValidated\']) && $_SESSION[\'mgrValidated\']) {
 // Set configuration variables if not already set
 if(!isset($mod_path)) { $mod_path = $modx->config[\'base_path\'].\'assets/modules/quick_edit\'; }
 if(!isset($show_manager_link)) { $show_manager_link = 1; }
 if(!isset($show_help_link)) { $show_help_link = 1; }
 if(!isset($editable)) { $editable = \'pagetitle,longtitle,description,content,alias,introtext,menutitle,published,hidemenu,menuindex,searchable,cacheable\'; }
 // If we can\'t find the module files...
 if(!file_exists($mod_path)) {
  // Only log the error if we haven\'t already logged it...
  if(!isset($GLOBALS[\'quick_edit_not_found_sent\'])) {
   // Set a global variable so that we can only log this once
   $GLOBALS[\'quick_edit_not_found_sent\'] = true;
   // Log an error
   $error_message = \'<strong>QuickEdit module not found!</strong></p><p>Edit the QuickEdit module, click the Configuration tab and change the Module Path to point to the module.</p>\';
   $modx->logEvent(0, 3, $error_message, \'QuickEditor\');
  }
 } else {
  // Set globals from QE Module\'s shared paramaters so we can get them from the frontend
  $GLOBALS[\'qe_show_manager_link\'] = $show_manager_link;
  $GLOBALS[\'qe_show_help_link\'] = $show_help_link;
  $GLOBALS[\'qe_editable\'] = $editable;
  // Set the mod_path as a global variable
  $GLOBALS[\'quick_edit_path\'] = $mod_path;
  if (!class_exists(\'Output\')) include_once($mod_path.\'/output.class.inc.php\');
  $outputObject = new Output;
  switch($modx->Event->name) {
   case \'OnParseDocument\' :
    $outputObject->output = $modx->documentOutput;
    // Merge QuickEdit comment into the output
    $outputObject->mergeTags();
    break;
   case \'OnWebPagePrerender\' :
    $outputObject->output = &$modx->documentOutput;
    include_once($mod_path.\'/module.class.inc.php\');
    $module = new Module;
    $module->getIdFromDependentPluginName($modx->Event->activePlugin);
    // Replace QuickEdit comments with QuickEdit links
    $outputObject->mergeLinks($module->id);
    break;
  }
  // Set the event output
  $modx->documentOutput = $outputObject->output;
  // Logout ?
  $qe_logout= (isset($_GET[\'QuickEdit_logout\'])? $_GET[\'QuickEdit_logout\']: \'\');
  if($qe_logout == \'logout\') {
   $_SESSION = array();
  }
 }
}
';
$p['QuickEditProps'] = ' &mod_path=Module Path (from site root);string;assets/modules/quick_edit &show_manager_link=Show Manager Link;int;1 &show_help_link=Show Help Link;int;1 &editable=Editable Fields;string;pagetitle,longtitle,description,content,alias,introtext,menutitle,published,hidemenu,menuindex,searchable,cacheable,template';
$p['Subsites'] = '$e = &$modx->event;
$subdomain = \'subdomain.yourdomain.com\'; // your subdomain name here
if($e->name==\'OnWebPageInit\') {
   $s = $_SERVER[\'HTTP_HOST\'];
   if($s==$subdomain && $modx->documentIdentifier==$modx->config[\'site_start\']){
      header(\'Location: index.php?id=6\');
      exit;
   }
   else if($s==$subdomain){
       $modx->config[\'site_start\'] = 6; // your start page here
       $modx->config[\'error_page\'] = 6;	// your error page here
   }
}';
$p['FileDownloadPlugin'] = '/**********************************
File Download Plugin (v1.2)
Created By: Adam Strzelecki
Last Modified:
Adam Strzelecki - 03/01/2007
Kyle Jaebker - 01/02/2007
Plugin Configuration:
&countDownloads=Count Downloads;list;yes,no;yes
&useDbCount=Store Count Where;list;db,file;db
System Event:
OnWebPagePrerender
Info:  For use with the FileDownload Snippet v2.5
**********************************/
define(\'FILE_DOWNLOAD_BLOCK_SIZE\', 256 * 1024);
define(\'FILE_DOWNLOAD_VARIABLE\', \'FileDownloadFolder\');
$e = &$modx->event;
if(isset($_GET[\'d\']) && trim($_GET[\'d\']) != ""
	&& !preg_match(\'/(^|[\\/])\\.+([\\/]|$)/\', trim($_GET[\'d\']))
	&& is_array($downloadFolder = $modx->getTemplateVarOutput(FILE_DOWNLOAD_VARIABLE))
	&& (is_string($downloadFolder = $downloadFolder[FILE_DOWNLOAD_VARIABLE])
			|| is_array($downloadFolder) && (is_string($downloadFolder = $downloadFolder[1])))
	&& $downloadFolder != \'\') {
	// Multiple folders case (comma separated)
	if (strpos($downloadFolder, \',\') && isset($_GET[\'dir\'])) {
		$possiblePaths = explode(\',\', $downloadFolder);
		$downloadFolder = $possiblePaths[intval($_GET[\'dir\'])];
	}
	$countFile = $downloadFolder . \'/\' . trim($_GET[\'d\']);
	$downloadFile = realpath($downloadFolder . \'/\' . trim($_GET[\'d\']));
	if(is_file($downloadFile)) {
		// Count download
		if ($countDownloads == \'yes\') {
			$updateWhere = $useDbCount;
			include_once \'assets/snippets/filedownload/data.db.class.inc.php\';
			$fdData = new FdDataDb;
			$fdData->updateCount($countFile,$updateWhere);
		}
		// Last modified match
		$downloadTime = gmdate("D, d M Y H:i:s", filemtime($downloadFile))." GMT";
		$downloadSize = filesize($downloadFile);
		$downloadETag = md5("$downloadFile||$downloadTime||$downloadSize");
		if($_SERVER["HTTP_IF_NONE_MATCH"] == $downloadETag
			|| $_SERVER["HTTP_IF_MODIFIED_SINCE"] == $downloadTime)
		{
			header("HTTP/1.1 304 Not Modified");
			header("Last-Modified: $downloadTime");
			header("ETag: $downloadETag");
			exit;
		}
		// Put headers
		$downloadInfo = pathinfo($downloadFile);
		switch($downloadInfo[\'extension\']) {
			case \'asf\':		$type = \'video/x-ms-asf\';				break;
			case \'avi\':		$type = \'video/x-msvideo\';				break;
			case \'bin\':		$type = \'application/octet-stream\';		break;
			case \'bmp\':		$type = \'image/bmp\';					break;
			case \'cgi\':		$type = \'magnus-internal/cgi\';			break;
			case \'css\':		$type = \'text/css\';						break;
			case \'dcr\':		$type = \'application/x-director\';		break;
			case \'dxr\':		$type = \'application/x-director\';		break;
			case \'dll\':		$type = \'application/octet-stream\';		break;
			case \'doc\':		$type = \'application/msword\';			break;
			case \'exe\':		$type = \'application/octet-stream\';		break;
			case \'gif\':		$type = \'image/gif\';					break;
			case \'gtar\':	$type = \'application/x-gtar\';			break;
			case \'gz\':		$type = \'application/gzip\';				break;
			case \'htm\':		$type = \'text/html\';					break;
			case \'html\':	$type = \'text/html\';					break;
			case \'iso\':		$type = \'application/octet-stream\';		break;
			case \'jar\':		$type = \'application/java-archive\';		break;
			case \'java\':	$type = \'text/x-java-source\';			break;
			case \'jnlp\':	$type = \'application/x-java-jnlp-file\'; break;
			case \'js\':		$type = \'application/x-javascript\';		break;
			case \'jpg\':		$type = \'image/jpg\';					break;
			case \'jpe\':		$type = \'image/jpg\';					break;
			case \'jpeg\':	$type = \'image/jpg\';					break;
			case \'lzh\':		$type = \'application/octet-stream\';		break;
			case \'mdb\':		$type = \'application/mdb\';				break;
			case \'mid\':		$type = \'audio/x-midi\';					break;
			case \'midi\':	$type = \'audio/x-midi\';					break;
			case \'mov\':		$type = \'video/quicktime\';				break;
			case \'mp2\':		$type = \'audio/x-mpeg\';					break;
			case \'mp3\':		$type = \'audio/mpeg\';					break;
			case \'mpg\':		$type = \'video/mpeg\';					break;
			case \'mpe\':		$type = \'video/mpeg\';					break;
			case \'mpeg\':	$type = \'video/mpeg\';					break;
			case \'pdf\':		$type = \'application/pdf\';				break;
			case \'php\':		$type = \'application/x-httpd-php\';		break;
			case \'php3\':	$type = \'application/x-httpd-php3\';		break;
			case \'php4\':	$type = \'application/x-httpd-php\';		break;
			case \'png\':		$type = \'image/png\';					break;
			case \'ppt\':		$type = \'application/mspowerpoint\';		break;
			case \'qt\':		$type = \'video/quicktime\';				break;
			case \'qti\':		$type = \'image/x-quicktime\';			break;
			case \'rar\':		$type = \'encoding/x-compress\';			break;
			case \'ra\':		$type = \'audio/x-pn-realaudio\';			break;
			case \'rm\':		$type = \'audio/x-pn-realaudio\';			break;
			case \'ram\':		$type = \'audio/x-pn-realaudio\';			break;
			case \'rtf\':		$type = \'application/rtf\';				break;
			case \'swa\':		$type = \'application/x-director\';		break;
			case \'swf\':		$type = \'application/x-shockwave-flash\';break;
			case \'tar\':		$type = \'application/x-tar\';			break;
			case \'tgz\':		$type = \'application/gzip\';				break;
			case \'tif\':		$type = \'image/tiff\';					break;
			case \'tiff\':	$type = \'image/tiff\';					break;
			case \'torrent\': $type = \'application/x-bittorrent\';		break;
			case \'txt\':		$type = \'text/plain\';					break;
			case \'wav\':		$type = \'audio/wav\';					break;
			case \'wma\':		$type = \'audio/x-ms-wma\';				break;
			case \'wmv\':		$type = \'video/x-ms-wmv\';				break;
			case \'xls\':		$type = \'application/xls\';				break;
			case \'xml\':		$type = \'application/xml\';				break;
			case \'7z\':		$type = \'application/x-compress\';		break;
			case \'zip\':		$type = \'application/x-zip-compressed\';	break;
			default:		$type = \'application/force-download\';	break;
		}
		// Partial content
		$starts = array();
		$ends = array();
		$parts = 0;
		// Loop trough all parts
		foreach(explode(\',\', $_SERVER[\'HTTP_RANGE\']) as $brange)
		{
			if(preg_match("/([0-9]*)\\-([0-9]*)$/", $brange, $matches))
			{
				if($matches[1] == \'\')
				{
					$starts[] = $downloadSize - intval($matches[2]);
					$ends[] = $downloadSize - 1;
				}
				else
				{
					$starts[] = intval($matches[1]);
					$ends[] = intval($matches[2]);
				}
				$parts ++;
			}
		}
		if(!$parts)
		{
			$starts[] = 0;
			$ends[] = $downloadSize - 1;
		}
		if($fp = @fopen($downloadFile, "r"))
		{
			while(@ob_end_clean());
			set_time_limit(0);
			ignore_user_abort(1);
			$aborted = false;
			for($rno = 0; !$aborted && (($rno < $parts) || (!$rno && !$parts)); $rno ++)
			{
				$start = $starts[$rno];
				$end = $ends[$rno];
				if(!$end || $end < $start) {
					$size = $downloadSize - $start;
					$end = $start + $size - 1;
				} else {
					$size = $end - $start + 1;
				}
				if(!$rno) {
					if($parts) {
						header("HTTP/1.1 206 Partial Content");
					}
					if($parts == 1) {
						header("Content-Range: bytes {$start}-{$end}/{$downloadSize}");
						fseek($fp, $start);
					}
					header("Accept-Ranges: bytes");
					header("Last-Modified: $downloadTime");
					header("Content-Disposition: inline; filename=\\"" . str_replace(\'"\', "\'", $downloadInfo[\'basename\']) . "\\"");
					header("ETag: $downloadETag");
				}
				if(!$rno && $parts > 1) {
					header("Content-type: multipart/byteranges; boundary=THIS_STRING_SEPARATES");
				}
				if(!$parts)
				{
					header("Content-Type: $type");
					header("Content-Transfer-Encoding: binary");
					header("Content-Length: $size");
				}
				// This is the case we use multipart
				if($parts > 1)
				{
					if($rno) {
						echo "\\r\\n\\r\\n";
					}
					echo "--THIS_STRING_SEPARATES\\r\\n";
					echo "Content-Type: $type\\r\\n";
					echo "Content-Range: bytes {$start}-{$end}/{$downloadSize}\\r\\n\\r\\n";
					fseek($fp, $start);
				}
				while($size && !($aborted = connection_aborted()))
				{
					$buff = ($size > FILE_DOWNLOAD_BLOCK_SIZE) ? FILE_DOWNLOAD_BLOCK_SIZE : $size;
					print(fread($fp, $buff));
					$size -= $buff;
				}
			}
			fclose($fp);
			exit;
		}
	}
}';
$p['ObfuscateEmail'] = '/**
 * ObfuscateEmail plugin for MODx.
 * By Aloysius Lim.
 *
 * Version: 0.9.1 (Apr 15, 2007)
 *
 * This plugin searches for all email addresses and "mailto:" strings in the
 * html output, both inside and outside href attributes. In other words, it also
 * encodes link text.
 *
 * It can find all common email addresses as specified by RFC2822, including all
 * unusual but allowed characters. Any email addresses that satisfy the
 * the construct below will be detected:
 *
 * The plugin than randomly leaves 10% of the characters alone, encodes 45% of
 * them in decimal, and 45% of them in hexadecimal.
 * 
 * Changelog:
 * Version 0.9.1 (Apr 15, 2007)
 * Fixed: Regex for atom allowed empty string.
 * 
 * Version 0.9.0 (Mar 16, 2007)
 * Original release.
 **/
function email_regex() {
  /* Set up email regex that partially conforms to RFC2822
   * (the ignored parts are indicated):
   * 
   * addr-spec       =       local-part "@" domain
   * 
   * local-part      =       dot-atom
   *                         / quoted-string              // Ignored
   *                         / obs-local-part             // Ignored
   * 
   * domain          =       dot-atom
   *                         / domain-literal             // Ignored
   *                         / obs-domain                 // Ignored
   *
   * dot-atom        =       [CFWS] dot-atom-text [CFWS]  // Ignored CFWS
   *
   * dot-atom-text   =       1*atext *("." 1*atext)
   * atext           =       ALPHA / DIGIT / ; Any character except controls,
   *                         "!" / "#" /     ;  SP, and specials.
   *                         "$" / "%" /     ;  Used for atoms
   *                         "&" / "\'" /
   *                         "*" / "+" /
   *                         "-" / "/" /
   *                         "=" / "?" /
   *                         "^" / "_" /
   *                         "`" / "{" /
   *                         "|" / "}" /
   *                         "~"
   */
  $atom = "[-!#$%&\'*+/=?^_`{|}~0-9A-Za-z]+";
  $email_half = $atom . \'(?:\\\\.\' . $atom . \')*\';
  $email = $email_half . \'@\' . $email_half;
  $email_regex = \'<(\' . $email . \')>\';
  return $email_regex;
}
function replaceEntities($matches) {
  $address = html_entity_decode($matches[1]);
  $replaced = \'\';
  for ($i = 0 ; $i < strlen($address) ; $i++) {
    $char = $address[$i];
    $r = rand(0, 100);
    # roughly 10% raw, 45% hex, 45% dec
    if ($r > 90)
    {
      $replaced .= $char;
    }
    else if ($r < 45)
    {
      $replaced .= \'&#x\'.dechex(ord($char)).\';\';
    }
    else
    {
      $replaced .= \'&#\'.ord($char).\';\';
    }
  }
  return $replaced;
}
$modx->documentOutput = preg_replace_callback(email_regex(), "replaceEntities", $modx->documentOutput);
$modx->documentOutput = preg_replace_callback(\'/(mailto:)/\', "replaceEntities", $modx->documentOutput);
';
$p['Inherit Parent Template'] = '
/*
 * Written By Raymond Irving - 12 Oct 2006
 *
 * Simply results in new documents inherriting the template 
 * of their parent folder upon creating a new document
 *
 * Configuration:
 * check the OnDocFormPrerender event
 *
 * Version 1.0
 *
 */
global $content;
$e = &$modx->Event;
switch($e->name) {
  case \'OnDocFormPrerender\':
    if(($_REQUEST[\'pid\'] > 0) && ($id == 0)) {
      if($parent = $modx->getPageInfo($_REQUEST[\'pid\'],0,\'template\')) {
        $content[\'template\'] = $parent[\'template\'];
      }
    }
    break;
  default:
    return;
    break;
}
';
$p['TinyMCE Rich Text Editor'] = '
/*
 * Written By Jeff Whitfield
 */
// Set the name of the plugin folder
$pluginfolder = "tinymce3241";
include_once $modx->config[\'base_path\'].\'assets/plugins/\'.$pluginfolder.\'/tinymce.lang.php\';
include_once $modx->config[\'base_path\'].\'assets/plugins/\'.$pluginfolder.\'/tinymce.functions.php\';
// Set path and base setting variables
if(!isset($tinyPath)) { 
	global $tinyPath, $tinyURL;
	$tinyPath = $modx->config[\'base_path\'].\'assets/plugins/\'.$pluginfolder; 
	$tinyURL = $modx->config[\'base_url\'].\'assets/plugins/\'.$pluginfolder; 
}
$base_url = $modx->config[\'base_url\'];
$displayStyle = ( ($_SESSION[\'browser\']==\'mz\') || ($_SESSION[\'browser\']==\'op\') ) ? "table-row" : "block" ;
// Handle event
$e = &$modx->Event; 
switch ($e->name) { 
	case "OnRichTextEditorRegister": // register only for backend
		$e->output("TinyMCE");
		break;
	case "OnRichTextEditorInit": 
		if($editor=="TinyMCE") {
			$elementList = implode(",", $elements);
			if(isset($forfrontend)||$modx->isFrontend()){
				$frontend = \'true\';
				$frontend_language = isset($modx->config[\'fe_editor_lang\']) ? $modx->config[\'fe_editor_lang\']:"";
				$tinymce_language = getTinyMCELang($frontend_language);
				$webuser = (isset($modx->config[\'rb_webuser\']) ? $modx->config[\'rb_webuser\'] : null);
				$html = getTinyMCEScript($elementList,$webtheme,$width,$height,$tinymce_language,$frontend,$base_url, $webPlugins, $webButtons1, $webButtons2, $webButtons3, $webButtons4, $disabledButtons, $tinyFormats, $entity_encoding, $entities, $tinyPathOptions, $tinyCleanup, $tinyResizing, $modx->config[\'editor_css_path\'], $modx->config[\'tinymce_css_selectors\'], $modx->config[\'use_browser\'], $webAlign, null, null, $tinyLinkList, $customparams, $site_url, $tinyURL, $webuser);
			} else {
				$frontend = \'false\';
				$manager_language = $modx->config[\'manager_language\'];
				$tinymce_language = getTinyMCELang($manager_language);
				$html = getTinyMCEScript($elementList, $modx->config[\'tinymce_editor_theme\'], $width=\'100%\', $height=\'400px\', $tinymce_language, $frontend, $modx->config[\'base_url\'], $modx->config[\'tinymce_custom_plugins\'], $modx->config[\'tinymce_custom_buttons1\'], $modx->config[\'tinymce_custom_buttons2\'], $modx->config[\'tinymce_custom_buttons3\'], $modx->config[\'tinymce_custom_buttons4\'], $disabledButtons, $tinyFormats, $entity_encoding, $entities, $tinyPathOptions, $tinyCleanup, $tinyResizing, $modx->config[\'editor_css_path\'], $modx->config[\'tinymce_css_selectors\'], $modx->config[\'use_browser\'], $modx->config[\'manager_direction\'], $advimage_styles, $advlink_styles, $tinyLinkList, $customparams, $modx->config[\'base_url\'], $tinyURL, null);
			}
			$e->output($html);
		}		
		break;
	case "OnInterfaceSettingsRender":
		global $usersettings,$settings;
		$action = $modx->manager->action;
		switch ($action) {
    		case 11:
        		$tinysettings = "";
        		break;
    		case 12:
        		$tinysettings = $usersettings;
        		break;
    		default:
        		$tinysettings = $settings;
        		break;
    	}
		$tinymce_editor_theme = $tinysettings[\'tinymce_editor_theme\'];
		$tinymce_css_selectors = $tinysettings[\'tinymce_css_selectors\'];
		$tinymce_custom_plugins = $tinysettings[\'tinymce_custom_plugins\'];
		$tinymce_custom_buttons1 = $tinysettings[\'tinymce_custom_buttons1\'];
		$tinymce_custom_buttons2 = $tinysettings[\'tinymce_custom_buttons2\'];
		$tinymce_custom_buttons3 = $tinysettings[\'tinymce_custom_buttons3\'];
		$tinymce_custom_buttons4 = $tinysettings[\'tinymce_custom_buttons4\'];
		$manager_language = $modx->config[\'manager_language\'];
		$html = getTinyMCESettings($_lang, $tinyPath, $modx->config[\'manager_language\'], $modx->config[\'use_editor\'], $tinymce_editor_theme, $tinymce_css_selectors, $tinymce_custom_plugins, $tinymce_custom_buttons1, $tinymce_custom_buttons2, $tinymce_custom_buttons3, $tinymce_custom_buttons4, $displayStyle, $action);
		$e->output($html);
		break;
   default :    
      return; // stop here - this is very important. 
      break; 
}
';
$p['TinyMCE Rich Text EditorProps'] = '&customparams=Custom Parameters;textarea; &tinyFormats=Block Formats;text;p,h1,h2,h3,h4,h5,h6,div,blockquote,code,pre,address &entity_encoding=Entity Encoding;list;named,numeric,raw;named &entities=Entities;text; &tinyPathOptions=Path Options;list;rootrelative,docrelative,fullpathurl;docrelative &tinyCleanup=Cleanup;list;enabled,disabled;enabled &tinyResizing=Advanced Resizing;list;true,false;false &advimage_styles=Advanced Image Styles;text; &advlink_styles=Advanced Link Styles;text; &disabledButtons=Disabled Buttons;text; &tinyLinkList=Link List;list;enabled,disabled;enabled &webtheme=Web Theme;list;simple,advanced,editor,custom;simple &webPlugins=Web Plugins;text;style,advimage,advlink,searchreplace,print,contextmenu,paste,fullscreen,nonbreaking,xhtmlxtras,visualchars,media &webButtons1=Web Buttons 1;text;undo,redo,selectall,separator,pastetext,pasteword,separator,search,replace,separator,nonbreaking,hr,charmap,separator,image,link,unlink,anchor,media,separator,cleanup,removeformat,separator,fullscreen,print,code,help &webButtons2=Web Buttons 2;text;bold,italic,underline,strikethrough,sub,sup,separator,separator,blockquote,bullist,numlist,outdent,indent,separator,justifyleft,justifycenter,justifyright,justifyfull,separator,styleselect,formatselect,separator,styleprops &webButtons3=Web Buttons 3;text; &webButtons4=Web Buttons 4;text; &webAlign=Web Toolbar Alignment;list;ltr,rtl;ltr ';
$p['Forgot Manager Login'] = '
if(!class_exists(\'ForgotManagerPassword\')) {
    class ForgotManagerPassword{
        function ForgotManagerPassword(){
            $this->errors = array();
            $this->checkLang();
        }
        function getLink() {
            global $_lang;
            $link = <<<EOD
<a id="ForgotManagerPassword-show_form" href="index.php?action=show_form">{$_lang[\'forgot_your_password\']}</a>
EOD;
            return $link;
        }
        function getForm() {
            global $_lang;
            $form = <<<EOD
<label id="FMP-email_label" for="FMP_email">{$_lang[\'account_email\']}:</label>
<input id="FMP-email" type="text" />
<button id="FMP-email_button" type="button" onclick="window.location = \'index.php?action=send_email&email=\'+document.getElementById(\'FMP-email\').value;">{$_lang[\'send\']}</button>
EOD;
            return $form;
        }
        /* Get user info including a hash unique to this user, password, and day */
        function getUser($user_id=false, $username=\'\', $email=\'\', $hash=\'\') {
            global $modx, $_lang;
            $user_id = $user_id == false ? false : $modx->db->escape($user_id);
            $username = $modx->db->escape($username);
            $email = $modx->db->escape($email);
            $emaail = $modx->db->escape($hash);
			$pre = $modx->db->config[\'table_prefix\'];
			$site_id = $modx->config[\'site_id\'];
			$today = date(\'Yz\'); // Year and day of the year
			$wheres = array();
			$where = \'\';
			$user = null;
            if($user_id !== false) { $wheres[] = "usr.id = \'{$user_id}\'"; }
            if(!empty($username)) { $wheres[] = "usr.username = \'{$username}\'"; }
            if(!empty($email)) { $wheres[] = "attr.email = \'{$email}\'"; }
            if(!empty($hash)) { $wheres[] = "MD5(CONCAT(usr.username,usr.password,\'{$site_id}\',\'{$today}\')) = \'{$hash}\'"; } 
            if($wheres) {
                $where = \' WHERE \'.implode(\' AND \',$wheres);
                $sql = "SELECT usr.id, usr.username, attr.email, MD5(CONCAT(usr.username,usr.password,\'{$site_id}\',\'{$today}\')) AS hash
                    FROM `{$pre}manager_users` usr
                    INNER JOIN `{$pre}user_attributes` attr ON usr.id = attr.internalKey
                    {$where}      
                    LIMIT 1;"; 
                if($result = $modx->db->query($sql)){
                    if($modx->db->getRecordCount($result)==1) {
                        $user = $modx->db->getRow($result);
                    }
                }
            }
            if($user == null) { $this->errors[] = $_lang[\'could_not_find_user\']; }
            return $user;
        }
        /* Send an email with a link to login */
        function sendEmail($to) {
            global $modx, $_lang;
            $subject = $_lang[\'password_change_request\'];
            $headers  = "MIME-Version: 1.0\\\\n".
                "Content-type: text/html; charset={$modx->config[\'modx_charset\']}\\n".
                "From: MODx\\\\n".
                "Reply-To: no-reply@{$_SERVER[\'HTTP_HOST\']}\\\\n".
                "X-Mailer: PHP/".phpversion();
            $user = $this->getUser(0, \'\', $to);
            if($user[\'username\']) {
                $body = <<<EOD
<p>{$_lang[\'forgot_password_email_intro\']} <a href="{$modx->config[\'site_url\']}manager/processors/login.processor.php?username={$user[\'username\']}&hash={$user[\'hash\']}">{$_lang[\'forgot_password_email_link\']}</a></p>
<p>{$_lang[\'forgot_password_email_instructions\']}</p>
<p><small>{$_lang[\'forgot_password_email_fine_print\']}</small></p>
EOD;
                $mail = mail($to, $subject, $body, $headers);
                if(!$mail) { $this->errors[] = $_lang[\'error_sending_email\']; }
                return $mail;  
            }
        }
        function unblockUser($user_id) {
            global $modx, $_lang;
            $pre = $modx->db->config[\'table_prefix\'];
            $modx->db->update(array(\'blocked\' => 0, \'blockeduntil\' => 0, \'failedlogincount\' => 0), "`{$pre}user_attributes`", "internalKey = \'{$user_id}\'");
            if(!$modx->db->getAffectedRows()) { $this->errors[] = $_lang[\'user_doesnt_exist\']; return; }
            return true;
        }
        function checkLang() {
            global $_lang;
            $eng = array();
            $eng[\'forgot_your_password\'] = \'Forgot your password?\';
            $eng[\'account_email\'] = \'Account email\';
            $eng[\'send\'] = \'Send\';
            $eng[\'password_change_request\'] = \'Password change request\';
            $eng[\'forgot_password_email_intro\'] = \'A request has been made to change the password on your account.\';
            $eng[\'forgot_password_email_link\'] = \'Click here to complete the process.\';
            $eng[\'forgot_password_email_instructions\'] = \'From there you will be able to change your password from the My Account menu.\';
            $eng[\'forgot_password_email_fine_print\'] = \'* The URL above will expire once you change your password or after today.\';
            $eng[\'error_sending_email\'] = \'Error sending email\';
            $eng[\'could_not_find_user\'] = \'Could not find user\';
            $eng[\'user_doesnt_exist\'] = \'User does not exist\';
            $eng[\'email_sent\'] = \'Email sent\';
            foreach($eng as $key=>$value) {
                if(empty($_lang[$key])) { $_lang[$key] = $value; }
            }  
        }
        function getErrorOutput() {
            $output = \'\';
            if($this->errors) {
                $output = \'<span class="error">\'.implode(\'</span><span class="errors">\', $this->errors).\'</span>\';
            }
            return $output;
        }
    }
}
global $_lang;
$output = \'\';
$event_name = $modx->Event->name;
$action = (empty($_GET[\'action\']) ? \'\' : $_GET[\'action\']);
$username = (empty($_GET[\'username\']) ? false : $_GET[\'username\']);
$to = (empty($_GET[\'email\']) ? \'\' : $_GET[\'email\']);
$hash = (empty($_GET[\'hash\']) ? false : $_GET[\'hash\']);
$forgot = new ForgotManagerPassword();
if($event_name == \'OnManagerLoginFormRender\') {
    switch($action) {
        case \'show_form\':
            $output = $forgot->getForm();
            break;
        case \'send_email\':
            if($forgot->sendEmail($to)) { $output = $_lang[\'email_sent\']; }
            break;
        default:
            $output = $forgot->getLink();
            break;
    }
    if($forgot->errors) { $output = $forgot->getErrorOutput() . $forgot->getLink(); }
}
if($event_name == \'OnBeforeManagerLogin\') {
    $user = $forgot->getUser(false, $username, \'\', $hash);
    if($user && is_array($user) && !$forgot->errors) {
        $forgot->unblockUser($user[\'id\']);
    }
}
if($event_name == \'OnManagerAuthentication\' && $hash && $username) {
    $user = $forgot->getUser(false, $username, \'\', $hash);
    $output = ($user !== null && count($forgot->errors) == 0) ? true : false;
}
$modx->Event->output($output);';
$p['ManagerManager'] = '
// You can put your ManagerManager rules EITHER in a chunk OR in an external file - whichever suits your development style the best
// To use an external file, put your rules in /assets/plugins/managermanager/mm_rules.inc.php 
// (you can rename default.mm_rules.inc.php and use it as an example)
// The chunk SHOULD have php opening tags at the beginning and end
// If you want to put your rules in a chunk (so you can edit them through the Manager),
// create the chunk, and enter its name in the configuration tab.
// The chunk should NOT have php tags at the beginning or end
// ManagerManager requires jQuery 1.3+
// The URL to the jQuery library. Choose from the configuration tab whether you want to use 
// a local copy (which defaults to the jQuery library distributed with ModX 1.0.1)
// a remote copy (which defaults to the Google Code hosted version)
// or specify a URL to a custom location.
// Here we set some default values, because this is a convenient place to change them if we need to,
// but you should configure your preference via the Configuration tab.
$js_default_url_local = $modx->config[\'site_url\']. \'/assets/js/jquery-1.3.2.min.js\';
$js_default_url_remote = \'http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\';
// You don\'t need to change anything else from here onwards
//-------------------------------------------------------
// Run the main code
$asset_path = $modx->config[\'base_path\'] . \'assets/plugins/managermanager/mm.inc.php\';
include($asset_path);
';
$p['ManagerManagerProps'] = '&config_chunk=Configuration Chunk;text;mm_demo_rules; &remove_deprecated_tv_types_pref=Remove deprecated TV types;list;yes,no;yes &which_jquery=jQuery source;list;local (assets/js),remote (google code),manual url (specify below);local (assets/js) &js_src_type=jQuery URL override;text; ';
$p['TransAlias'] = '
/*
 * Initialize parameters
 */
if (!isset ($alias)) { return ; }
if (!isset ($plugin_dir) ) { $plugin_dir = \'transalias\'; }
if (!isset ($plugin_path) ) { $plugin_path = $modx->config[\'base_path\'].\'assets/plugins/\'.$plugin_dir; }
if (!isset ($table_name)) { $table_name = \'common\'; }
if (!isset ($char_restrict)) { $char_restrict = \'lowercase alphanumeric\'; }
if (!isset ($remove_periods)) { $remove_periods = \'No\'; }
if (!isset ($word_separator)) { $word_separator = \'dash\'; }
if (!isset ($override_tv)) { $override_tv = \'\'; }
if (!class_exists(\'TransAlias\')) {
    require_once $plugin_path.\'/transalias.class.php\';
}
$trans = new TransAlias($modx);
/*
 * see if TV overrides the table name
 */
if(!empty($override_tv)) {
    $tvval = $trans->getTVValue($override_tv);
    if(!empty($tvval)) {
        $table_name = $tvval;
    }
}
/*
 * Handle events
 */
$e =& $modx->event;
switch ($e->name ) {
    case \'OnStripAlias\':
        if ($trans->loadTable($table_name, $remove_periods)) {
            $output = $trans->stripAlias($alias,$char_restrict,$word_separator);
            $e->output($output);
            $e->stopPropagation();
        }
        break ;
    default:
        return ;
}';
$p['TransAliasProps'] = '&table_name=Trans table;list;common,russian,utf8,utf8lowercase;utf8lowercase &char_restrict=Restrict alias to;list;lowercase alphanumeric,alphanumeric,legal characters;legal characters &remove_periods=Remove Periods;list;Yes,No;No &word_separator=Word Separator;list;dash,underscore,none;dash &override_tv=Override TV name;string; ';
$p['Quick Manager+'] = '
$show = TRUE;
if ($disabled  != \'\') {
    $arr = explode(",", $disabled );
    if (in_array($modx->documentIdentifier, $arr)) {
        $show = FALSE;
    }
}
if ($show) {
include_once($modx->config[\'base_path\'].\'assets/plugins/qm/qm.inc.php\');
    $qm = new Qm($modx, $jqpath, $loadmanagerjq, $loadfrontendjq, $noconflictjq, $loadtb, $tbwidth, $tbheight, $hidefields, $hidetabs, $hidesections, $addbutton, $tpltype, $tplid, $custombutton, $managerbutton, $logout, $disabled);
}';
$p['Quick Manager+Props'] = '&jqpath=Path to jQuery;text;assets/js/jquery-1.3.2.min.js &loadmanagerjq=Load jQuery in manager;list;true,false;true &loadfrontendjq=Load jQuery in front-end;list;true,false;true &noconflictjq=jQuery noConflict mode in front-end;list;true,false;true &loadtb=Load modal box in front-end;list;true,false;true &tbwidth=Modal box window width;text;80% &tbheight=Modal box window height;text;80% &hidefields=Hide document fields from front-end editors;text;parent &hidetabs=Hide document tabs from front-end editors;text; &hidesections=Hide document sections from front-end editors;text; &addbutton=Show add document here button;list;true,false;true &tpltype=New document template type;list;parent,id,selected;parent &tplid=New document template id;int;3  &custombutton=Custom buttons;textarea; &managerbutton=Show go to manager button;list;true,false;true &logout=Logout to;list;manager,front-end;manager &disabled=Plugin disabled on documents;text; ';
$p['Show Image TVs'] = '
//    @author     Brett @ The Man Can!
//                rewritten by Rachael Black, update by pixelchutes and rthrash
//                now works with MooTools and finds the image tvs itself
//
/* ---------------------------------------------------------------
Instructions:
     Create a new Plugin and tick Documents > OnDocFormRender event.
     Make sure it is set to execute after any other plugin that
     could effect the template, like InheritParentTemplate. To edit
     the plugin execution order, from the manager go to Resources >
     Manage Resources > Plugins > Edit Plugin Execution Order by Event
     link. That\'s it. It should now show images of all image TVs.
     To configure image size, copy the following text (no leading spaces):
       &w=Max width;int;300 &h=Max height;int;100
     into the plugin configuration and change values to suit
     This sets style="max-width: ; max-height: " for the image
     If you don\'t configure w or h, the image will be fullsize but
     you can add a css rule rule div.tvimage img {...} to the Manager Theme
------------------------------------------------------------------- */
global $content;
$template = $content[\'template\'];
$e = &$modx->Event;
if ($e->name == \'OnDocFormRender\' && ($template > 0)) {
	$site = $modx->config[\'site_url\'];
	if (isset($w) || isset($h)) {
		$w = isset($w) ? $w : 300;
		$h = isset($h) ? $h : 100;
		$style = "\'max-width:{$w}px; max-height:{$h}px\'";
	}
	else
		$style = \'\';
	// get list of all image template vars using TV ids from Evo
	$table = $modx->getFullTableName(\'site_tmplvars\');
	$result = $modx->db->select(\'id\', $table, "type=\'image\'");
	$tvs = \'\';
	while ($row = $modx->db->getRow($result))
		$tvs .= ",\'" . $row[\'id\'] . "\'";
	$tvs = substr($tvs, 1);		// remove leading \',\'
	$output = <<< EOT
<!-- ShowImageTVs Plugin :: Start -->
<script type="text/javascript" charset="utf-8">
  var imageNames = [$tvs];
  var pageImages = [];
  function full_url(url)
  {
	new_url = (url != \'\' && url.search(/http:\\/\\//i) == -1) ? (\'$site\' + url) : url;
	return ( ( new_url.search(\'@INHERIT\') == -1 ) ? new_url : new_url.replace( new RegExp(/@INHERIT/ig), \'\' ) ); // Update by pixelchutes
  }
  function checkImages()
  {
    for (var i = 0; i < pageImages.length; i++) {
    	var elem = pageImages[i];
      var url = elem.value;
      if (url != elem.oldUrl) {
     	  elem.thumbnail.setProperty(\'src\', full_url(url));
     	  elem.thumbnail.setStyle(\'display\', url==\'\' ? \'none\': \'inline\');
        elem.oldUrl = url;
      }
    }
  }
  window.onDomReady(function() {
    for (var i = 0; i < imageNames.length; i++) {
    	var elem = $(\'tv\' + imageNames[i]);
		if (elem) {
		  var url = elem.value;
		  // create div and img to show thumbnail
		  var div = new Element(\'div\').addClass(\'tvimage\');
		  var img = new Element(\'img\').setProperty(\'src\', full_url(url)).setStyles($style);
		  if (url == \'\') img.setStyle(\'display\', \'none\');
		  elem.getParent().adopt(div.adopt(img));
		  elem.thumbnail = img;    // direct access for when need to update
		  elem.oldUrl = url;   	   // oldUrl so change HTML only when necessary
		  pageImages.push(elem);   // save so don\'t have to search each time
		}
    }
    setInterval(checkImages, 1000);
  })
</script>
<!-- ShowImageTVs Plugin :: End -->
EOT;
	$e->output($output);
}
// ?>
';
$p['Search Highlight'] = '
/*
  ------------------------------------------------------------------------
  Plugin: Search_Highlight v1.4a
  ------------------------------------------------------------------------
  Changes:
  29/03/09 - Removed urldecode calls;
           - Added check for magic quotes - if set, remove slashes
           - Highlights terms searched for when target is a HTML entity
  18/07/08 - advSearch parameter and pcre modifier added
  10/02/08 - Strip_tags added to avoid sql injection and XSS. Use of $_REQUEST
  01/03/07 - Added fies/updates from forum from users mikkelwe/identity
  (better highlight replacement, additional div around term/removal message)
  ------------------------------------------------------------------------
  Description: When a user clicks on the link from the AjaxSearch results
    the target page will have the terms highlighted.
  ------------------------------------------------------------------------
  Created By:  Susan Ottwell (sottwell@sottwell.com)
               Kyle Jaebker (kjaebker@muddydogpaws.com)
  Refactored by Coroico (www.modx.wangba.fr) and TS
  ------------------------------------------------------------------------
  Based off the the code by Susan Ottwell (www.sottwell.com)
    http://modxcms.com/forums/index.php/topic,1237.0.html
  ------------------------------------------------------------------------
  CSS:
    The classes used for the highlighting are the same as the AjaxSearch
  ------------------------------------------------------------------------
  Notes:
    To add a link to remove the highlighting and to show the searchterms
    put the following on your page where you would like this to appear:
      <!--search_terms-->
    Example output for this:
      Search Terms: the, template
      Remove Highlighting
    Set the following variables to change the text:
      $termText - the text before the search terms
      $removeText - the text for the remove link
  ------------------------------------------------------------------------
*/
global $database_connection_charset;
// Conversion code name between html page character encoding and Mysql character encoding
// Some others conversions should be added if needed. Otherwise Page charset = Database charset
$pageCharset = array(
  \'utf8\' => \'UTF-8\',
  \'latin1\' => \'ISO-8859-1\',
  \'latin2\' => \'ISO-8859-2\'
);
if (isset($_REQUEST[\'searched\']) && isset($_REQUEST[\'highlight\'])) {
  // Set these to customize the text for the highlighting key
  // --------------------------------------------------------
     $termText = \'<div class="searchTerms">Search Terms: \';
     $removeText = \'Remove Highlighting\';
  // --------------------------------------------------------
  $highlightText = $termText;
  $advsearch = \'oneword\';
  $dbCharset = $database_connection_charset;
  $pgCharset = array_key_exists($dbCharset,$pageCharset) ? $pageCharset[$dbCharset] : $dbCharset;
  // magic quotes check
  if (get_magic_quotes_gpc()){
    $searched = strip_tags(stripslashes($_REQUEST[\'searched\']));
    $highlight = strip_tags(stripslashes($_REQUEST[\'highlight\']));
    if (isset($_REQUEST[\'advsearch\'])) $advsearch = strip_tags(stripslashes($_REQUEST[\'advsearch\']));
  }
  else {
    $searched = strip_tags($_REQUEST[\'searched\']);
    $highlight = strip_tags($_REQUEST[\'highlight\']);
    if (isset($_REQUEST[\'advsearch\'])) $advsearch = strip_tags($_REQUEST[\'advsearch\']);
  }
  if ($advsearch != \'nowords\') {
    $searchArray = array();
    if ($advsearch == \'exactphrase\') $searchArray[0] = $searched;
    else $searchArray = explode(\' \', $searched);
    $searchArray = array_unique($searchArray);
    $nbterms = count($searchArray);
    $searchTerms = array();
    for($i=0;$i<$nbterms;$i++){
      // Consider all possible combinations
      $word_ents = array();
      $word_ents[] = $searchArray[$i];
      $word_ents[] = htmlentities($searchArray[$i], ENT_NOQUOTES, $pgCharset);
      $word_ents[] = htmlentities($searchArray[$i], ENT_COMPAT, $pgCharset);
      $word_ents[] = htmlentities($searchArray[$i], ENT_QUOTES, $pgCharset);
      // Avoid duplication
      $word_ents = array_unique($word_ents);
      foreach($word_ents as $word) $searchTerms[]= array(\'term\' => $word, \'class\' => $i+1);
    }
    $output = $modx->documentOutput; // get the parsed document
    $body = explode("<body", $output); // break out the head
    $highlightClass = explode(\' \',$highlight); // break out the highlight classes
    $pcreModifier = ($pgCharset == \'UTF-8\') ? \'iu\' : \'i\';
    $lookBehind = \'/(?<!&|&[^;]|&[^;][^;]|&[^;][^;][^;]|&[^;][^;][^;][^;]|&[^;][^;][^;][^;][^;])\'; // avoid a match with a html entity
    $lookAhead = \'(?=[^>]*<)/\'; // avoid a match with a html tag
    $nbterms = count($searchTerms);
    for($i=0;$i<$nbterms;$i++){
      $word = $searchTerms[$i][\'term\'];
      $class = $highlightClass[0].\' \'.$highlightClass[$searchTerms[$i][\'class\']];
      $highlightText .= ($i > 0) ? \', \' : \'\';
      $highlightText .= \'<span class="\'.$class.\'">\'.$word.\'</span>\';
      $pattern = $lookBehind . preg_quote($word, \'/\') . $lookAhead . $pcreModifier;
      $replacement = \'<span class="\' . $class . \'">${0}</span>\';
      $body[1] = preg_replace($pattern, $replacement, $body[1]);
    }
    $output = implode("<body", $body);
    $removeUrl = $modx->makeUrl($modx->documentIdentifier);
    $highlightText .= \'<br /><a href="\'.$removeUrl.\'" class="ajaxSearch_removeHighlight">\'.$removeText.\'</a></div>\';
    $output = str_replace(\'<!--search_terms-->\',$highlightText,$output);
    $modx->documentOutput = $output;
  }
}';
$e = &$this->pluginEvent;
$e['OnBeforeManagerLogin'] = array('Forgot Manager Login');
$e['OnDocFormPrerender'] = array('Quick Manager+','Inherit Parent Template','ManagerManager');
$e['OnDocFormRender'] = array('ManagerManager','Show Image TVs');
$e['OnDocFormSave'] = array('Quick Manager+');
$e['OnInterfaceSettingsRender'] = array('TinyMCE Rich Text Editor');
$e['OnManagerAuthentication'] = array('Forgot Manager Login');
$e['OnManagerLoginFormRender'] = array('Forgot Manager Login');
$e['OnManagerPageInit'] = array('Quick Manager+');
$e['OnParseDocument'] = array('QuickEdit');
$e['OnPluginFormRender'] = array('ManagerManager');
$e['OnRichTextEditorInit'] = array('TinyMCE Rich Text Editor');
$e['OnRichTextEditorRegister'] = array('TinyMCE Rich Text Editor');
$e['OnStripAlias'] = array('TransAlias');
$e['OnTVFormRender'] = array('ManagerManager');
$e['OnWebPageInit'] = array('Subsites');
$e['OnWebPagePrerender'] = array('Search Highlight','QuickEdit','Quick Manager+','FileDownloadPlugin','ObfuscateEmail');
?>